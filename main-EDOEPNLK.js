var ux=Object.defineProperty,lx=Object.defineProperties;var dx=Object.getOwnPropertyDescriptors;var LD=Object.getOwnPropertySymbols,hx=Object.getPrototypeOf,fx=Object.prototype.hasOwnProperty,px=Object.prototype.propertyIsEnumerable,gx=Reflect.get;var VD=(n,e,t)=>e in n?ux(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})fx.call(e,t)&&VD(n,t,e[t]);if(LD)for(var t of LD(e))px.call(e,t)&&VD(n,t,e[t]);return n},le=(n,e)=>lx(n,dx(e));var oi=(n,e,t)=>gx(hx(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Xp(n,e){return Object.is(n,e)}var st=null,al=!1,eg=1,an=Symbol("SIGNAL");function fe(n){let e=st;return st=n,e}function tg(){return st}var za={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wa(n){if(al)throw new Error("");if(st===null)return;st.consumerOnSignalRead(n);let e=st.nextProducerIndex++;if(dl(st),e<st.producerNode.length&&st.producerNode[e]!==n&&qa(st)){let t=st.producerNode[e];ll(t,st.producerIndexOfThis[e])}st.producerNode[e]!==n&&(st.producerNode[e]=n,st.producerIndexOfThis[e]=qa(st)?UD(n,st,e):0),st.producerLastReadVersion[e]=n.version}function jD(){eg++}function ng(n){if(!(qa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===eg)){if(!n.producerMustRecompute(n)&&!sg(n)){Jp(n);return}n.producerRecomputeValue(n),Jp(n)}}function rg(n){if(n.liveConsumerNode===void 0)return;let e=al;al=!0;try{for(let t of n.liveConsumerNode)t.dirty||mx(t)}finally{al=e}}function ig(){return st?.consumerAllowSignalWrites!==!1}function mx(n){n.dirty=!0,rg(n),n.consumerMarkedDirty?.(n)}function Jp(n){n.dirty=!1,n.lastCleanEpoch=eg}function ul(n){return n&&(n.nextProducerIndex=0),fe(n)}function og(n,e){if(fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(qa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ll(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sg(n){dl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ng(t),r!==t.version))return!0}return!1}function ag(n){if(dl(n),qa(n))for(let e=0;e<n.producerNode.length;e++)ll(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function UD(n,e,t){if(BD(n),n.liveConsumerNode.length===0&&$D(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=UD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ll(n,e){if(BD(n),n.liveConsumerNode.length===1&&$D(n))for(let r=0;r<n.producerNode.length;r++)ll(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];dl(i),i.producerIndexOfThis[r]=e}}function qa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function dl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function BD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function $D(n){return n.producerNode!==void 0}function cg(n,e){let t=Object.create(yx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(ng(t),Wa(t),t.value===cl)throw t.error;return t.value};return r[an]=t,r}var Yp=Symbol("UNSET"),Zp=Symbol("COMPUTING"),cl=Symbol("ERRORED"),yx=le(V({},za),{value:Yp,dirty:!0,error:null,equal:Xp,kind:"computed",producerMustRecompute(n){return n.value===Yp||n.value===Zp},producerRecomputeValue(n){if(n.value===Zp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Zp;let t=ul(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==Yp&&e!==cl&&r!==cl&&n.equal(e,r)}catch(o){r=cl,n.error=o}finally{og(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function vx(){throw new Error}var HD=vx;function qD(n){HD(n)}function ug(n){HD=n}var _x=null;function lg(n,e){let t=Object.create(hl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Wa(t),t.value);return r[an]=t,r}function Ga(n,e){ig()||qD(n),n.equal(n.value,e)||(n.value=e,wx(n))}function dg(n,e){ig()||qD(n),Ga(n,e(n.value))}var hl=le(V({},za),{equal:Xp,value:void 0,kind:"signal"});function wx(n){n.version++,jD(),rg(n),_x?.()}function hg(n){let e=fe(null);try{return n()}finally{fe(e)}}var fg;function Ka(){return fg}function vr(n){let e=fg;return fg=n,e}var fl=Symbol("NotFound");function ee(n){return typeof n=="function"}function Jo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pl=Jo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof pl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zD(o)}catch(s){e=e??[],s instanceof pl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Qi(t,e)}remove(e){let{_finalizers:t}=this;t&&Qi(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var pg=He.EMPTY;function gl(n){return n instanceof He||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function zD(n){ee(n)?n():n.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xo={setTimeout(n,e,...t){let{delegate:r}=Xo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Xo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ml(n){Xo.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(n);else throw n})}function Qa(){}var WD=gg("C",void 0,void 0);function GD(n){return gg("E",void 0,n)}function KD(n){return gg("N",n,void 0)}function gg(n,e,t){return{kind:n,value:e,error:t}}var Yi=null;function es(n){if(In.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Yi;if(Yi=null,t)throw r}}else n()}function QD(n){In.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}var Zi=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=Cx}static create(e,t,r){return new ts(e,t,r)}next(e){this.isStopped?yg(KD(e),this):this._next(e)}error(e){this.isStopped?yg(GD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yg(WD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bx=Function.prototype.bind;function mg(n,e){return bx.call(n,e)}var vg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){yl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){yl(r)}else yl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){yl(t)}}},ts=class extends Zi{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&In.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mg(e.next,o),error:e.error&&mg(e.error,o),complete:e.complete&&mg(e.complete,o)}):i=e}this.destination=new vg(i)}};function yl(n){In.useDeprecatedSynchronousErrorHandling?QD(n):ml(n)}function Tx(n){throw n}function yg(n,e){let{onStoppedNotification:t}=In;t&&Xo.setTimeout(()=>t(n,e))}var Cx={closed:!0,next:Qa,error:Tx,complete:Qa};var ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jt(n){return n}function vl(...n){return _g(n)}function _g(n){return n.length===0?Jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Ax(t)?t:new ts(t,r,i);return es(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=YD(r),new r((i,o)=>{let s=new ts({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ns](){return this}pipe(...t){return _g(t)(this)}toPromise(t){return t=YD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function YD(n){var e;return(e=n??In.Promise)!==null&&e!==void 0?e:Promise}function Sx(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function Ax(n){return n&&n instanceof Zi||Sx(n)&&gl(n)}function wg(n){return ee(n?.lift)}function me(n){return e=>{if(wg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Ig(n,e,t,r,i)}var Ig=class extends Zi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function rs(){return me((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var is=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return rs()(this)}};var ZD=Jo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new _l(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZD}next(t){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pg:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,Qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new _l(e,t),n})(),_l=class extends Qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:pg}};var at=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Eg={now(){return(Eg.delegate||Date).now()},delegate:void 0};var wl=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var Ya={setInterval(n,e,...t){let{delegate:r}=Ya;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ya;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var os=class extends wl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ya.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ss=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ss.now=Eg.now;var as=class extends ss{constructor(e,t=ss.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Dg=new as(os);var Il=class extends os{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var El=class extends as{};var bg=new El(Il);var Ut=new de(n=>n.complete());function JD(n){return n&&ee(n.schedule)}function XD(n){return n[n.length-1]}function Dl(n){return ee(XD(n))?n.pop():void 0}function si(n){return JD(XD(n))?n.pop():void 0}function Tg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function eb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function nb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,p)}}function a(m,C){r[m]&&(i[m]=function(k){return new Promise(function(N,B){o.push([m,k,N,B])>1||u(m,k)})},C&&(i[m]=C(i[m])))}function u(m,C){try{l(r[m](C))}catch(k){y(o[0][3],k)}}function l(m){m.value instanceof Ji?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,C){m(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eb=="function"?eb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var bl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tl(n){return ee(n?.then)}function Cl(n){return ee(n[ns])}function Sl(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function Al(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rl=Rx();function Ml(n){return ee(n?.[Rl])}function Nl(n){return nb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ji(t.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{t.releaseLock()}})}function Pl(n){return ee(n?.getReader)}function et(n){if(n instanceof de)return n;if(n!=null){if(Cl(n))return Mx(n);if(bl(n))return Nx(n);if(Tl(n))return Px(n);if(Sl(n))return ib(n);if(Ml(n))return kx(n);if(Pl(n))return xx(n)}throw Al(n)}function Mx(n){return new de(e=>{let t=n[ns]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Nx(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Px(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ml)})}function kx(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ib(n){return new de(e=>{Ox(n,e).catch(t=>e.error(t))})}function xx(n){return ib(Nl(n))}function Ox(n,e){var t,r,i,o;return tb(this,void 0,void 0,function*(){try{for(t=rb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ai(n,e=0){return me((t,r)=>{t.subscribe(pe(r,i=>Bt(r,n,()=>r.next(i),e),()=>Bt(r,n,()=>r.complete(),e),i=>Bt(r,n,()=>r.error(i),e)))})}function ci(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ob(n,e){return et(n).pipe(ci(e),ai(e))}function sb(n,e){return et(n).pipe(ci(e),ai(e))}function ab(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cb(n,e){return new de(t=>{let r;return Bt(t,e,()=>{r=n[Rl](),Bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function kl(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Bt(t,e,()=>{let r=n[Symbol.asyncIterator]();Bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ub(n,e){return kl(Nl(n),e)}function lb(n,e){if(n!=null){if(Cl(n))return ob(n,e);if(bl(n))return ab(n,e);if(Tl(n))return sb(n,e);if(Sl(n))return kl(n,e);if(Ml(n))return cb(n,e);if(Pl(n))return ub(n,e)}throw Al(n)}function Me(n,e){return e?lb(n,e):et(n)}function Q(...n){let e=si(n);return Me(n,e)}function cs(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Cg(n){return!!n&&(n instanceof de||ee(n.lift)&&ee(n.subscribe))}var _r=Jo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return me((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Fx}=Array;function Lx(n,e){return Fx(e)?n(...e):n(e)}function xl(n){return oe(e=>Lx(n,e))}var{isArray:Vx}=Array,{getPrototypeOf:jx,prototype:Ux,keys:Bx}=Object;function Ol(n){if(n.length===1){let e=n[0];if(Vx(e))return{args:e,keys:null};if($x(e)){let t=Bx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $x(n){return n&&typeof n=="object"&&jx(n)===Ux}function Fl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Za(...n){let e=si(n),t=Dl(n),{args:r,keys:i}=Ol(n);if(r.length===0)return Me([],e);let o=new de(Hx(r,e,i?s=>Fl(i,s):Jt));return t?o.pipe(xl(t)):o}function Hx(n,e,t=Jt){return r=>{db(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)db(e,()=>{let l=Me(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function db(n,e,t){n?Bt(t,n,e):e()}function hb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=k=>l<r?C(k):u.push(k),C=k=>{o&&e.next(k),l++;let N=!1;et(t(k,h++)).subscribe(pe(e,B=>{i?.(B),o?m(B):e.next(B)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let B=u.shift();s?Bt(e,s,()=>C(B)):C(B)}y()}catch(B){e.error(B)}}))};return n.subscribe(pe(e,m,()=>{p=!0,y()})),()=>{a?.()}}function Ye(n,e,t=1/0){return ee(e)?Ye((r,i)=>oe((o,s)=>e(r,o,i,s))(et(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>hb(r,i,n,t)))}function ui(n=1/0){return Ye(Jt,n)}function fb(){return ui(1)}function us(...n){return fb()(Me(n,si(n)))}function Ll(n){return new de(e=>{et(n()).subscribe(e)})}function Sg(...n){let e=Dl(n),{args:t,keys:r}=Ol(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;et(t[h]).subscribe(pe(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Fl(r,a):a),o.complete())}))}});return e?i.pipe(xl(e)):i}function $t(n,e){return me((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function wr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=et(n(s,wr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function li(n,e){return ee(e)?Ye(n,e,1):Ye(n,1)}function di(n){return me((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ir(n){return n<=0?()=>Ut:me((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Vl(n=qx){return me((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qx(){return new _r}function Ja(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?$t((i,o)=>n(i,o,r)):Jt,Ir(1),t?di(e):Vl(()=>new _r))}function ls(n){return n<=0?()=>Ut:me((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ag(n,e){let t=arguments.length>=2;return r=>r.pipe(n?$t((i,o)=>n(i,o,r)):Jt,ls(1),t?di(e):Vl(()=>new _r))}function jl(n,e){return me(pb(n,e,arguments.length>=2,!0))}function Ul(...n){let e=si(n);return me((t,r)=>{(e?us(n,t,e):us(n,t)).subscribe(r)})}function cn(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;et(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Rg(n){return me((e,t)=>{et(n).subscribe(pe(t,()=>t.complete(),Qa)),!t.closed&&e.subscribe(t)})}function mt(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Jt}var rT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(iT(e,t)),this.code=e}};function zx(n){return`NG0${Math.abs(n)}`}function iT(n,e){return`${zx(n)}${e?": "+e:""}`}var oT=Symbol("InputSignalNode#UNSET"),Wx=le(V({},hl),{transformFn:void 0,applyValueToInputSignal(n,e){Ga(n,e)}});function sT(n,e){let t=Object.create(Wx);t.value=n,t.transformFn=e?.transform;function r(){if(Wa(t),t.value===oT){let i=null;throw new H(-950,i)}return t.value}return r[an]=t,r}function dc(n){return{toString:n}.toString()}var Bl="__parameters__";function Gx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function aT(n,e,t){return dc(()=>{let r=Gx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Bl)?u[Bl]:Object.defineProperty(u,Bl,{value:[]})[Bl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var rc=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function Kx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(qt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function gb(n,e){return n?e?`${n} ${e}`:n:e||""}var Qx=Ae({__forward_ref__:Ae});function zn(n){return n.__forward_ref__=zn,n.toString=function(){return qt(this())},n}function Ft(n){return cT(n)?n():n}function cT(n){return typeof n=="function"&&n.hasOwnProperty(Qx)&&n.__forward_ref__===zn}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ar(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ed(n){return mb(n,lT)||mb(n,dT)}function uT(n){return Ed(n)!==null}function mb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Yx(n){let e=n&&(n[lT]||n[dT]);return e||null}function yb(n){return n&&(n.hasOwnProperty(vb)||n.hasOwnProperty(Zx))?n[vb]:null}var lT=Ae({\u0275prov:Ae}),vb=Ae({\u0275inj:Ae}),dT=Ae({ngInjectableDef:Ae}),Zx=Ae({ngInjectorDef:Ae}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hT(n){return n&&!!n.\u0275providers}var Jx=Ae({\u0275cmp:Ae}),Xx=Ae({\u0275dir:Ae}),eO=Ae({\u0275pipe:Ae}),tO=Ae({\u0275mod:Ae}),Zl=Ae({\u0275fac:Ae}),nc=Ae({__NG_ELEMENT_ID__:Ae}),_b=Ae({__NG_ENV_ID__:Ae});function Dr(n){return typeof n=="string"?n:n==null?"":String(n)}function nO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Dr(n)}function fT(n,e){throw new H(-200,n)}function Lm(n,e){throw new H(-201,!1)}var ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{}),Hg;function pT(){return Hg}function Ht(n){let e=Hg;return Hg=n,e}function gT(n,e,t){let r=Ed(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;Lm(n,"Injector")}var rO={},Xi=rO,qg="__NG_DI_FLAG__",Jl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?fl:Xi,r)}},Xl="ngTempTokenPath",iO="ngTokenPath",oO=/\n/gm,sO="\u0275",wb="__source";function aO(n,e=ae.Default){if(Ka()===void 0)throw new H(-203,!1);if(Ka()===null)return gT(n,void 0,e);{let t=Ka(),r;return t instanceof Jl?r=t.injector:r=t,r.get(n,e&ae.Optional?null:void 0,e)}}function G(n,e=ae.Default){return(pT()||aO)(Ft(n),e)}function O(n,e=ae.Default){return G(n,Dd(e))}function Dd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ft(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=cO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function mT(n,e){return n[qg]=e,n.prototype[qg]=e,n}function cO(n){return n[qg]}function uO(n,e,t,r){let i=n[Xl];throw e[wb]&&i.unshift(e[wb]),n.message=lO(`
`+n.message,i,t,r),n[iO]=i,n[Xl]=null,n}function lO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==sO?n.slice(2):n;let i=qt(e);if(Array.isArray(e))i=e.map(qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(oO,`
  `)}`}var en=mT(aT("Optional"),8);var dO=mT(aT("SkipSelf"),4);function to(n,e){let t=n.hasOwnProperty(Zl);return t?n[Zl]:null}function hO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function fO(n){return n.flat(Number.POSITIVE_INFINITY)}function Vm(n,e){n.forEach(t=>Array.isArray(t)?Vm(t,e):e(t))}function yT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ed(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function pO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function gO(n,e,t){let r=hc(n,e);return r>=0?n[r|1]=t:(r=~r,pO(n,r,e,t)),r}function Mg(n,e){let t=hc(n,e);if(t>=0)return n[t|1]}function hc(n,e){return mO(n,e,1)}function mO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var no={},un=[],ic=new z(""),vT=new z("",-1),_T=new z(""),td=class{get(e,t=Xi){if(t===Xi){let r=new Error(`NullInjectorError: No provider for ${qt(e)}!`);throw r.name="NullInjectorError",r}return t}};function wT(n,e){let t=n[tO]||null;if(!t&&e===!0)throw new Error(`Type ${qt(n)} does not have '\u0275mod' property.`);return t}function ro(n){return n[Jx]||null}function yO(n){return n[Xx]||null}function vO(n){return n[eO]||null}function Rr(n){return{\u0275providers:n}}function _O(...n){return{\u0275providers:IT(!0,n),\u0275fromNgModule:!0}}function IT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Vm(e,s=>{let a=s;Wg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ET(i,o),t}function ET(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];jm(i,o=>{e(o,r)})}}function Wg(n,e,t,r){if(n=Ft(n),!n)return!1;let i=null,o=yb(n),s=!o&&ro(n);if(!o&&!s){let u=n.ngModule;if(o=yb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Wg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Vm(o.imports,h=>{Wg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ET(l,e)}if(!a){let l=to(i)||(()=>new i);e({provide:i,useFactory:l,deps:un},i),e({provide:_T,useValue:i,multi:!0},i),e({provide:ic,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;jm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function jm(n,e){for(let t of n)hT(t)&&(t=t.\u0275providers),Array.isArray(t)?jm(t,e):e(t)}var wO=Ae({provide:String,useValue:Ae});function DT(n){return n!==null&&typeof n=="object"&&wO in n}function IO(n){return!!(n&&n.useExisting)}function EO(n){return!!(n&&n.useFactory)}function ys(n){return typeof n=="function"}function DO(n){return!!n.useClass}var bd=new z(""),zl={},Ib={},Ng;function Um(){return Ng===void 0&&(Ng=new td),Ng}var Ct=class{},oc=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Kg(e,s=>this.processProvider(s)),this.records.set(vT,ds(void 0,this)),i.has("environment")&&this.records.set(Ct,ds(void 0,this));let o=this.records.get(bd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_T,un,ae.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?fl:Xi,r)}destroy(){ec(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return ec(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ec(this);let t=vr(this),r=Ht(void 0),i;try{return e()}finally{vr(t),Ht(r)}}get(e,t=Xi,r=ae.Default){if(ec(this),e.hasOwnProperty(_b))return e[_b](this);r=Dd(r);let i,o=vr(this),s=Ht(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=AO(e)&&Ed(e);l&&this.injectableDefInScope(l)?u=ds(Gg(e),zl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?Um():this.parent;return t=r&ae.Optional&&t===Xi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Xl]=a[Xl]||[]).unshift(qt(e)),o)throw a;return uO(a,e,"R3InjectorError",this.source)}else throw a}finally{Ht(s),vr(o)}}resolveInjectorInitializers(){let e=fe(null),t=vr(this),r=Ht(void 0),i;try{let o=this.get(ic,un,ae.Self);for(let s of o)s()}finally{vr(t),Ht(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(qt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ft(e);let t=ys(e)?e:Ft(e&&e.provide),r=TO(e);if(!ys(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ds(void 0,zl,!0),i.factory=()=>zg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=fe(null);try{return t.value===Ib?fT(qt(e)):t.value===zl&&(t.value=Ib,t.value=t.factory()),typeof t.value=="object"&&t.value&&SO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ft(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Gg(n){let e=Ed(n),t=e!==null?e.factory:to(n);if(t!==null)return t;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return bO(n);throw new H(204,!1)}function bO(n){if(n.length>0)throw new H(204,!1);let t=Yx(n);return t!==null?()=>t.factory(n):()=>new n}function TO(n){if(DT(n))return ds(void 0,n.useValue);{let e=bT(n);return ds(e,zl)}}function bT(n,e,t){let r;if(ys(n)){let i=Ft(n);return to(i)||Gg(i)}else if(DT(n))r=()=>Ft(n.useValue);else if(EO(n))r=()=>n.useFactory(...zg(n.deps||[]));else if(IO(n))r=()=>G(Ft(n.useExisting));else{let i=Ft(n&&(n.useClass||n.provide));if(CO(n))r=()=>new i(...zg(n.deps));else return to(i)||Gg(i)}return r}function ec(n){if(n.destroyed)throw new H(205,!1)}function ds(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CO(n){return!!n.deps}function SO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AO(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Kg(n,e){for(let t of n)Array.isArray(t)?Kg(t,e):t&&hT(t)?Kg(t.\u0275providers,e):e(t)}function At(n,e){let t;n instanceof oc?(ec(n),t=n):t=new Jl(n);let r,i=vr(t),o=Ht(void 0);try{return e()}finally{vr(i),Ht(o)}}function TT(){return pT()!==void 0||Ka()!=null}function Bm(n){if(!TT())throw new H(-203,!1)}function RO(n){return typeof n=="function"}var Mr=0,ce=1,J=2,St=3,Dn=4,bn=5,nd=6,rd=7,zt=8,vs=9,br=10,ct=11,sc=12,Eb=13,bs=14,jn=15,io=16,hs=17,Tr=18,Td=19,CT=20,hi=21,Pg=22,id=23,ln=24,gs=25,dn=26,ST=1;var oo=7,od=8,_s=9,Xt=10;function fi(n){return Array.isArray(n)&&typeof n[ST]=="object"}function Nr(n){return Array.isArray(n)&&n[ST]===!0}function AT(n){return(n.flags&4)!==0}function Ts(n){return n.componentOffset>-1}function $m(n){return(n.flags&1)===1}function Un(n){return!!n.template}function sd(n){return(n[J]&512)!==0}function fc(n){return(n[J]&256)===256}var Qg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function RT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Pr=(()=>{let n=()=>MT;return n.ngInherit=!0,n})();function MT(n){return n.type.prototype.ngOnChanges&&(n.setInput=NO),MO}function MO(){let n=PT(this),e=n?.current;if(e){let t=n.previous;if(t===no)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function NO(n,e,t,r,i){let o=this.declaredInputs[r],s=PT(n)||PO(n,{previous:no,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Qg(l&&l.currentValue,t,u===no),RT(n,e,i,t)}var NT="__ngSimpleChanges__";function PT(n){return n[NT]||null}function PO(n,e){return n[NT]=e}var Db=null;var Te=function(n,e=null,t){Db?.(n,e,t)},kO="svg",xO="math";function Bn(n){for(;Array.isArray(n);)n=n[Mr];return n}function kT(n,e){return Bn(e[n])}function Wn(n,e){return Bn(e[n.index])}function xT(n,e){return n.data[e]}function OT(n,e){return n[e]}function $n(n,e){let t=e[n];return fi(t)?t:t[Mr]}function OO(n){return(n[J]&4)===4}function Hm(n){return(n[J]&128)===128}function FO(n){return Nr(n[St])}function ad(n,e){return e==null?null:n[e]}function FT(n){n[hs]=0}function LT(n){n[J]&1024||(n[J]|=1024,Hm(n)&&pc(n))}function LO(n,e){for(;n>0;)e=e[bs],n--;return e}function Cd(n){return!!(n[J]&9216||n[ln]?.dirty)}function Yg(n){n[br].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),Cd(n)&&pc(n)}function pc(n){n[br].changeDetectionScheduler?.notify(0);let e=so(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Hm(e)));)e=so(e)}function VT(n,e){if(fc(n))throw new H(911,!1);n[hi]===null&&(n[hi]=[]),n[hi].push(e)}function VO(n,e){if(n[hi]===null)return;let t=n[hi].indexOf(e);t!==-1&&n[hi].splice(t,1)}function so(n){let e=n[St];return Nr(e)?e[St]:e}function qm(n){return n[rd]??=[]}function zm(n){return n.cleanup??=[]}function jO(n,e,t,r){let i=qm(e);i.push(t),n.firstCreatePass&&zm(n).push(r,i.length-1)}var se={lFrame:GT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zg=!1;function UO(){return se.lFrame.elementDepthCount}function BO(){se.lFrame.elementDepthCount++}function $O(){se.lFrame.elementDepthCount--}function jT(){return se.bindingsEnabled}function HO(){return se.skipHydrationRootTNode!==null}function qO(n){return se.skipHydrationRootTNode===n}function zO(){se.skipHydrationRootTNode=null}function _e(){return se.lFrame.lView}function Rt(){return se.lFrame.tView}function Fe(n){return se.lFrame.contextLView=n,n[zt]}function Le(n){return se.lFrame.contextLView=null,n}function Lt(){let n=UT();for(;n!==null&&n.type===64;)n=n.parent;return n}function UT(){return se.lFrame.currentTNode}function WO(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function gc(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function BT(){return se.lFrame.isParent}function GO(){se.lFrame.isParent=!1}function KO(){return se.lFrame.contextLView}function $T(){return Zg}function bb(n){let e=Zg;return Zg=n,e}function QO(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function HT(){return se.lFrame.bindingIndex}function YO(n){return se.lFrame.bindingIndex=n}function Sd(){return se.lFrame.bindingIndex++}function Wm(n){let e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ZO(){return se.lFrame.inI18n}function JO(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jg(e)}function XO(){return se.lFrame.currentDirectiveIndex}function Jg(n){se.lFrame.currentDirectiveIndex=n}function e1(n){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qT(){return se.lFrame.currentQueryIndex}function Gm(n){se.lFrame.currentQueryIndex=n}function t1(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[bn]:null}function zT(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=t1(o),i===null||(o=o[bs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=WT();return r.currentTNode=e,r.lView=n,!0}function Km(n){let e=WT(),t=n[ce];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WT(){let n=se.lFrame,e=n===null?null:n.child;return e===null?GT(n):e}function GT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function KT(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var QT=KT;function Qm(){let n=KT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function n1(n){return(se.lFrame.contextLView=LO(n,se.lFrame.contextLView))[zt]}function pi(){return se.lFrame.selectedIndex}function ao(n){se.lFrame.selectedIndex=n}function Ym(){let n=se.lFrame;return xT(n.tView,n.selectedIndex)}function r1(){return se.lFrame.currentNamespace}var YT=!0;function Zm(){return YT}function Jm(n){YT=n}function i1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function ZT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Wl(n,e,t){JT(n,e,3,t)}function Gl(n,e,t,r){(n[J]&3)===t&&JT(n,e,t,r)}function kg(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function JT(n,e,t,r){let i=r!==void 0?n[hs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[hs]+=65536),(a<o||o==-1)&&(o1(n,t,e,u),n[hs]=(n[hs]&4294901760)+u+2),u++}function Tb(n,e){Te(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),Te(5,n,e)}}function o1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[J]>>14<n[hs]>>16&&(n[J]&3)===e&&(n[J]+=16384,Tb(a,o)):Tb(a,o)}var ms=-1,co=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function s1(n){return(n.flags&8)!==0}function a1(n){return(n.flags&16)!==0}function c1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];u1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function XT(n){return n===3||n===4||n===6}function u1(n){return n.charCodeAt(0)===64}function ac(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Cb(n,t,i,null,e[++r]):Cb(n,t,i,null,null))}}return n}function Cb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function eC(n){return n!==ms}function cd(n){return n&32767}function l1(n){return n>>16}function ud(n,e){let t=l1(n),r=e;for(;t>0;)r=r[bs],t--;return r}var Xg=!0;function ld(n){let e=Xg;return Xg=n,e}var d1=256,tC=d1-1,nC=5,h1=0,Vn={};function f1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(nc)&&(r=t[nc]),r==null&&(r=t[nc]=h1++);let i=r&tC,o=1<<i;e.data[n+(i>>nC)]|=o}function dd(n,e){let t=rC(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,xg(r.data,n),xg(e,null),xg(r.blueprint,null));let i=Xm(n,e),o=n.injectorIndex;if(eC(i)){let s=cd(i),a=ud(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function xg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Xm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=cC(i),r===null)return ms;if(t++,i=i[bs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ms}function em(n,e,t){f1(n,e,t)}function p1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(XT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function iC(n,e,t){if(t&ae.Optional||n!==void 0)return n;Lm(e,"NodeInjector")}function oC(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),(t&(ae.Self|ae.Host))===0){let i=n[vs],o=Ht(void 0);try{return i?i.get(e,r,t&ae.Optional):gT(e,r,t&ae.Optional)}finally{Ht(o)}}return iC(r,e,t)}function sC(n,e,t,r=ae.Default,i){if(n!==null){if(e[J]&2048&&!(r&ae.Self)){let s=v1(n,e,t,r,Vn);if(s!==Vn)return s}let o=aC(n,e,t,r,Vn);if(o!==Vn)return o}return oC(e,t,r,i)}function aC(n,e,t,r,i){let o=m1(t);if(typeof o=="function"){if(!zT(e,n,r))return r&ae.Host?iC(i,t,r):oC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))Lm(t);else return s}finally{QT()}}else if(typeof o=="number"){let s=null,a=rC(n,e),u=ms,l=r&ae.Host?e[jn][bn]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Xm(n,e):e[a+8],u===ms||!Ab(r,!1)?a=-1:(s=e[ce],a=cd(u),e=ud(u,e)));a!==-1;){let h=e[ce];if(Sb(o,a,h.data)){let p=g1(a,e,t,s,r,l);if(p!==Vn)return p}u=e[a+8],u!==ms&&Ab(r,e[ce].data[a+8]===l)&&Sb(o,a,e)?(s=h,a=cd(u),e=ud(u,e)):a=-1}}return i}function g1(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],u=r==null?Ts(a)&&Xg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=Kl(a,s,t,u,l);return h!==null?cc(e,s,h,a):Vn}function Kl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let C=s[m];if(m<u&&t===C||m>=u&&C.type===t)return m}if(i){let m=s[u];if(m&&Un(m)&&m.type===t)return u}return null}function cc(n,e,t,r){let i=n[t],o=e.data;if(i instanceof co){let s=i;s.resolving&&fT(nO(o[t]));let a=ld(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ht(s.injectImpl):null,h=zT(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&i1(t,o[t],e)}finally{l!==null&&Ht(l),ld(a),s.resolving=!1,QT()}}return i}function m1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(nc)?n[nc]:void 0;return typeof e=="number"?e>=0?e&tC:y1:e}function Sb(n,e,t){let r=1<<n;return!!(t[e+(n>>nC)]&r)}function Ab(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}var eo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sC(this._tNode,this._lView,e,Dd(r),t)}};function y1(){return new eo(Lt(),_e())}function kr(n){return dc(()=>{let e=n.prototype.constructor,t=e[Zl]||tm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Zl]||tm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tm(n){return cT(n)?()=>{let e=tm(Ft(n));return e&&e()}:to(n)}function v1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!sd(s);){let a=aC(o,s,t,r|ae.Self,Vn);if(a!==Vn)return a;let u=o.parent;if(!u){let l=s[CT];if(l){let h=l.get(t,Vn,r);if(h!==Vn)return h}u=cC(s),s=s[bs]}o=u}return i}function cC(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[bn]:null}function ey(n){return p1(Lt(),n)}function Rb(n,e=null,t=null,r){let i=uC(n,e,t,r);return i.resolveInjectorInitializers(),i}function uC(n,e=null,t=null,r,i=new Set){let o=[t||un,_O(n)];return r=r||(typeof n=="object"?void 0:qt(n)),new oc(o,e||Um(),r||null,i)}var nt=class n{static THROW_IF_NOT_FOUND=Xi;static NULL=new td;static create(e,t){if(Array.isArray(e))return Rb({name:""},t,e,"");{let r=e.name??"";return Rb({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>G(vT)});static __NG_ELEMENT_ID__=-1};var _1=new z("");_1.__NG_ELEMENT_ID__=n=>{let e=Lt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new H(204,!1)};var lC=!1,Cs=(()=>{class n{static __NG_ELEMENT_ID__=w1;static __NG_ENV_ID__=t=>t}return n})(),nm=class extends Cs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return VT(this._lView,e),()=>VO(this._lView,e)}};function w1(){return new nm(_e())}var uo=class{},dC=new z("",{providedIn:"root",factory:()=>!1});var hC=new z(""),fC=new z(""),go=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new at(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ad=(()=>{class n{internalPendingTasks=O(go);scheduler=O(uo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),rm=class extends Qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,TT()&&(this.destroyRef=O(Cs,{optional:!0})??void 0,this.pendingTasks=O(go,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},tt=rm;function hd(...n){}function pC(n){let e,t;function r(){n=hd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Mb(n){return queueMicrotask(()=>n()),()=>{n=hd}}var ty="isAngularZone",fd=ty+"_ID",I1=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tt(!1);onMicrotaskEmpty=new tt(!1);onStable=new tt(!1);onError=new tt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lC}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,b1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ty)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,E1,hd,hd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},E1={};function ny(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function D1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pC(()=>{n.callbackScheduled=!1,im(n),n.isCheckStableRunning=!0,ny(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),im(n)}function b1(n){let e=()=>{D1(n)},t=I1++;n._inner=n._inner.fork({name:"angular",properties:{[ty]:!0,[fd]:t,[fd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(T1(u))return r.invokeTask(o,s,a,u);try{return Nb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Pb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Nb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!C1(u)&&e(),Pb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,im(n),ny(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function im(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Nb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,ny(n)}var om=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tt;onMicrotaskEmpty=new tt;onStable=new tt;onError=new tt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function T1(n){return gC(n,"__ignore_ng_zone__")}function C1(n){return gC(n,"__scheduler_tick__")}function gC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Hn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},S1=new z("",{providedIn:"root",factory:()=>{let n=O(Ee),e=O(Hn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function kb(n,e){return sT(n,e)}function A1(n){return sT(oT,n)}var mC=(kb.required=A1,kb);function R1(){return Ss(Lt(),_e())}function Ss(n,e){return new Wt(Wn(n,e))}var Wt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=R1}return n})();function M1(n){return n instanceof Wt?n.nativeElement:n}function N1(n){return typeof n=="function"&&n[an]!==void 0}function As(n,e){let t=lg(n,e?.equal),r=t[an];return t.set=i=>Ga(r,i),t.update=i=>dg(r,i),t.asReadonly=P1.bind(t),t}function P1(){let n=this[an];if(n.readonlyFn===void 0){let e=()=>this();e[an]=n,n.readonlyFn=e}return n.readonlyFn}function yC(n){return N1(n)&&typeof n.set=="function"}function k1(){return this._results[Symbol.iterator]()}var sm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=fO(e);(this._changesDetected=!hO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=k1};function vC(n){return(n.flags&128)===128}var _C=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_C||{}),wC=new Map,x1=0;function O1(){return x1++}function F1(n){wC.set(n[Td],n)}function am(n){wC.delete(n[Td])}var xb="__ngContext__";function mc(n,e){fi(e)?(n[xb]=e[Td],F1(e)):n[xb]=e}function IC(n){return DC(n[sc])}function EC(n){return DC(n[Dn])}function DC(n){for(;n!==null&&!Nr(n);)n=n[Dn];return n}var cm;function bC(n){cm=n}function L1(){if(cm!==void 0)return cm;if(typeof document<"u")return document;throw new H(210,!1)}var ry=new z("",{providedIn:"root",factory:()=>V1}),V1="ng",iy=new z(""),gi=new z("",{providedIn:"platform",factory:()=>"unknown"});var oy=new z("",{providedIn:"root",factory:()=>L1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var j1="h",U1="b";var TC=!1,B1=new z("",{providedIn:"root",factory:()=>TC});var sy=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(sy||{}),Rs=new z(""),Ob=new Set;function yc(n){Ob.has(n)||(Ob.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var CC=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=$1}return n})();function $1(){return new CC(_e(),Lt())}var fs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(fs||{}),SC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),H1=[fs.EarlyRead,fs.Write,fs.MixedReadWrite,fs.Read],q1=(()=>{class n{ngZone=O(Ee);scheduler=O(uo);errorHandler=O(Hn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(Rs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Te(16),this.executing=!0;for(let r of H1)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Te(17)}register(t){let{view:r}=t;r!==void 0?((r[gs]??=[]).push(t),pc(r),r[J]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(sy.AFTER_NEXT_RENDER,t):t()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),um=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[gs];e&&(this.view[gs]=e.filter(t=>t!==this))}};function ay(n,e){!e?.injector&&Bm(ay);let t=e?.injector??O(nt);return yc("NgAfterNextRender"),W1(n,t,e,!0)}function z1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function W1(n,e,t,r){let i=e.get(SC);i.impl??=e.get(q1);let o=e.get(Rs,null,{optional:!0}),s=t?.phase??fs.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Cs):null,u=e.get(CC,null,{optional:!0}),l=new um(i.impl,z1(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var G1=()=>null;function AC(n,e,t=!1){return G1(n,e,t)}function RC(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Gm(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function lm(n,e,t){Gm(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function MC(n,e,t){if(AT(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}var qn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qn||{}),$l;function K1(){if($l===void 0&&($l=null,rc.trustedTypes))try{$l=rc.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $l}function Q1(n){return K1()?.createScriptURL(n)||n}var Hl;function Y1(){if(Hl===void 0&&(Hl=null,rc.trustedTypes))try{Hl=rc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hl}function Fb(n){return Y1()?.createScriptURL(n)||n}var pd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rT})`}};function Rd(n){return n instanceof pd?n.changingThisBreaksApplicationSecurity:n}function NC(n,e){let t=Z1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rT})`)}return t===e}function Z1(n){return n instanceof pd&&n.getTypeName()||null}var J1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function X1(n){return n=String(n),n.match(J1)?n:"unsafe:"+n}var cy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(cy||{});function eF(n){let e=kC();return e?e.sanitize(cy.URL,n)||"":NC(n,"URL")?Rd(n):X1(Dr(n))}function tF(n){let e=kC();if(e)return Fb(e.sanitize(cy.RESOURCE_URL,n)||"");if(NC(n,"ResourceURL"))return Fb(Rd(n));throw new H(904,!1)}function Ms(n){return Q1(n[0])}function nF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?tF:eF}function PC(n,e,t){return nF(e,t)(n)}function kC(){let n=_e();return n&&n[br].sanitizer}function xC(n){return n instanceof Function?n():n}function rF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var OC="ng-template";function iF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(uy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function uy(n){return n.type===4&&n.value!==OC}function oF(n,e,t){let r=n.type===4&&!t?OC:n.value;return e===r}function sF(n,e,t){let r=4,i=n.attrs,o=i!==null?uF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!En(r)&&!En(u))return!1;if(s&&En(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!oF(n,u,t)||u===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(i===null||!iF(n,i,u,t)){if(En(r))return!1;s=!0}}else{let l=e[++a],h=aF(u,i,uy(n),t);if(h===-1){if(En(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(n){return(n&1)===0}function aF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lF(e,n)}function cF(n,e,t=!1){for(let r=0;r<e.length;r++)if(sF(n,e[r],t))return!0;return!1}function uF(n){for(let e=0;e<n.length;e++){let t=n[e];if(XT(t))return e}return n.length}function lF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Lb(n,e){return n?":not("+e.trim()+")":e}function dF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!En(s)&&(e+=Lb(o,i),i=""),r=s,o=o||!En(r);t++}return i!==""&&(e+=Lb(o,i)),e}function hF(n){return n.map(dF).join(",")}function fF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!En(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Tn={};function pF(n,e){return n.createText(e)}function gF(n,e,t){n.setValue(e,t)}function FC(n,e,t){return n.createElement(e,t)}function gd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function LC(n,e,t){n.appendChild(e,t)}function Vb(n,e,t,r,i){r!==null?gd(n,e,t,r,i):LC(n,e,t)}function mF(n,e,t){n.removeChild(null,e,t)}function yF(n,e,t){n.setAttribute(e,"style",t)}function vF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function VC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&c1(n,e,r),i!==null&&vF(n,e,i),o!==null&&yF(n,e,o)}function ly(n,e,t,r,i,o,s,a,u,l,h){let p=dn+r,y=p+i,m=_F(p,y),C=typeof l=="function"?l():l;return m[ce]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function _F(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Tn);return t}function wF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ly(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dy(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Mr]=i,p[J]=r|4|128|8|64|1024,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),FT(p),p[St]=p[bs]=n,p[zt]=t,p[br]=s||n&&n[br],p[ct]=a||n&&n[ct],p[vs]=u||n&&n[vs]||null,p[bn]=o,p[Td]=O1(),p[nd]=h,p[CT]=l,p[jn]=e.type==2?n[jn]:p,p}function IF(n,e,t){let r=Wn(e,n),i=wF(t),o=n[br].rendererFactory,s=hy(n,dy(n,i,null,jC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function jC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function UC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hy(n,e){return n[sc]?n[Eb][Dn]=e:n[sc]=e,n[Eb]=e,e}function q(n=1){BC(Rt(),_e(),pi()+n,!1)}function BC(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Wl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Gl(e,o,0,t)}ao(t)}var Md=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Md||{});function dm(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Md.SignalBased)!==0&&(u=e[o][an]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):RT(e,u,o,r)}finally{fe(i)}}function $C(n,e,t,r,i){let o=pi(),s=r&2;try{ao(-1),s&&e.length>dn&&BC(n,e,dn,!1),Te(s?2:0,i),t(r,i)}finally{ao(o),Te(s?3:1,i)}}function fy(n,e,t){SF(n,e,t),(t.flags&64)===64&&AF(n,e,t)}function HC(n,e,t=Wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function EF(n,e,t,r){let o=r.get(B1,TC)||t===qn.ShadowDom,s=n.selectRootElement(e,o);return DF(s),s}function DF(n){bF(n)}var bF=()=>null;function TF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function qC(n,e,t,r,i,o,s,a){if(!a&&py(e,n,t,r,i)){Ts(e)&&CF(t,e.index);return}if(e.type&3){let u=Wn(e,t);r=TF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function CF(n,e){let t=$n(e,n);t[J]&16||(t[J]|=64)}function SF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ts(t)&&IF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=cc(e,n,s,t);if(mc(u,e),o!==null&&PF(e,s-r,u,a,t,o),Un(a)){let l=$n(t.index,e);l[zt]=cc(e,n,s,t)}}}function AF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=XO();try{ao(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Jg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&RF(u,l)}}finally{ao(-1),Jg(s)}}function RF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];cF(e,o.selectors,!1)&&(r??=[],Un(o)?r.unshift(o):r.push(o))}return r}function MF(n,e,t,r,i,o){let s=Wn(n,e);NF(e[ct],s,o,n.value,t,r,i)}function NF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Dr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function PF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];dm(r,t,u,l)}}function kF(n,e){let t=n[vs],r=t?t.get(Hn,null):null;r&&r.handleError(e)}function py(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];dm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];dm(h,l,r,i),a=!0}return a}function xF(n,e){let t=$n(e,n),r=t[ce];OF(r,t);let i=t[Mr];i!==null&&t[nd]===null&&(t[nd]=AC(i,t[vs])),Te(18),gy(r,t,t[zt]),Te(19,t[zt])}function OF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function gy(n,e,t){Km(e);try{let r=n.viewQuery;r!==null&&lm(1,r,t);let i=n.template;i!==null&&$C(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tr]?.finishViewCreation(n),n.staticContentQueries&&RC(n,e),n.staticViewQueries&&lm(2,n.viewQuery,t);let o=n.components;o!==null&&FF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,Qm()}}function FF(n,e){for(let t=0;t<e.length;t++)xF(n,e[t])}function LF(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[J]&4096?4096:16,u=dy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[io]=l;let h=n[Tr];return h!==null&&(u[Tr]=h.createEmbeddedView(o)),gy(o,u,t),u}finally{fe(i)}}function jb(n,e){return!e||e.firstChild===null||vC(n)}var VF;function my(n,e){return VF(n,e)}var Cr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cr||{});function WC(n){return(n.flags&32)===32}function ps(n,e,t,r,i){if(r!=null){let o,s=!1;Nr(r)?o=r:fi(r)&&(s=!0,r=r[Mr]);let a=Bn(r);n===0&&t!==null?i==null?LC(e,t,a):gd(e,t,a,i||null,!0):n===1&&t!==null?gd(e,t,a,i||null,!0):n===2?mF(e,a,s):n===3&&e.destroyNode(a),o!=null&&YF(e,n,o,t,i)}}function jF(n,e){GC(n,e),e[Mr]=null,e[bn]=null}function UF(n,e,t,r,i,o){r[Mr]=i,r[bn]=e,Nd(n,r,t,1,i,o)}function GC(n,e){e[br].changeDetectionScheduler?.notify(9),Nd(n,e,e[ct],2,null,null)}function BF(n){let e=n[sc];if(!e)return Og(n[ce],n);for(;e;){let t=null;if(fi(e))t=e[sc];else{let r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[Dn]&&e!==n;)fi(e)&&Og(e[ce],e),e=e[St];e===null&&(e=n),fi(e)&&Og(e[ce],e),t=e&&e[Dn]}e=t}}function yy(n,e){let t=n[_s],r=t.indexOf(e);t.splice(r,1)}function KC(n,e){if(fc(e))return;let t=e[ct];t.destroyNode&&Nd(n,e,t,3,null,null),BF(e)}function Og(n,e){if(fc(e))return;let t=fe(null);try{e[J]&=-129,e[J]|=256,e[ln]&&ag(e[ln]),HF(n,e),$F(n,e),e[ce].type===1&&e[ct].destroy();let r=e[io];if(r!==null&&Nr(e[St])){r!==e[St]&&yy(r,e);let i=e[Tr];i!==null&&i.detachView(n)}am(e)}finally{fe(t)}}function $F(n,e){let t=n.cleanup,r=e[rd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[rd]=null);let i=e[hi];if(i!==null){e[hi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[id];if(o!==null){e[id]=null;for(let s of o)s.destroy()}}function HF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof co)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function qF(n,e,t){return zF(n,e.parent,t)}function zF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Mr];if(Ts(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===qn.None||i===qn.Emulated)return null}return Wn(r,t)}function WF(n,e,t){return KF(n,e,t)}function GF(n,e,t){return n.type&40?Wn(n,t):null}var KF=GF,Ub;function vy(n,e,t,r){let i=qF(n,r,e),o=e[ct],s=r.parent||e[bn],a=WF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Vb(o,i,t[u],a,!1);else Vb(o,i,t,a,!1);Ub!==void 0&&Ub(o,r,e,t,i)}function tc(n,e){if(e!==null){let t=e.type;if(t&3)return Wn(e,n);if(t&4)return hm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return tc(n,r);{let i=n[e.index];return Nr(i)?hm(-1,i):Bn(i)}}else{if(t&128)return tc(n,e.next);if(t&32)return my(e,n)()||Bn(n[e.index]);{let r=QC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=so(n[jn]);return tc(i,r)}else return tc(n,e.next)}}}return null}function QC(n,e){if(e!==null){let r=n[jn][bn],i=e.projection;return r.projection[i]}return null}function hm(n,e){let t=Xt+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return tc(r,i)}return e[oo]}function _y(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&mc(Bn(a),r),t.flags|=2),!WC(t))if(u&8)_y(n,e,t.child,r,i,o,!1),ps(e,n,i,a,o);else if(u&32){let l=my(t,r),h;for(;h=l();)ps(e,n,i,h,o);ps(e,n,i,a,o)}else u&16?QF(n,e,r,t,i,o):ps(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Nd(n,e,t,r,i,o){_y(t,r,n.firstChild,e,i,o,!1)}function QF(n,e,t,r,i,o){let s=t[jn],u=s[bn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ps(e,n,i,h,o)}else{let l=u,h=s[St];vC(r)&&(l.flags|=128),_y(n,e,l,h,i,o,!0)}}function YF(n,e,t,r,i){let o=t[oo],s=Bn(t);o!==s&&ps(e,n,r,o,i);for(let a=Xt;a<t.length;a++){let u=t[a];Nd(u[ce],u,n,e,r,o)}}function ZF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Cr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Cr.Important),n.setStyle(t,r,i,o))}}function md(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Bn(o)),Nr(o)&&JF(o,r);let s=t.type;if(s&8)md(n,e,t.child,r);else if(s&32){let a=my(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=QC(e,t);if(Array.isArray(a))r.push(...a);else{let u=so(e[jn]);md(u[ce],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function JF(n,e){for(let t=Xt;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&md(r[ce],r,i,e)}n[oo]!==n[Mr]&&e.push(n[oo])}function YC(n){if(n[gs]!==null){for(let e of n[gs])e.impl.addSequence(e);n[gs].length=0}}var ZC=[];function XF(n){return n[ln]??eL(n)}function eL(n){let e=ZC.pop()??Object.create(nL);return e.lView=n,e}function tL(n){n.lView[ln]!==n&&(n.lView=null,ZC.push(n))}var nL=le(V({},za),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{pc(n.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function rL(n){let e=n[ln]??Object.create(iL);return e.lView=n,e}var iL=le(V({},za),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=so(n.lView);for(;e&&!JC(e[ce]);)e=so(e);e&&LT(e)},consumerOnSignalRead(){this.lView[ln]=this}});function JC(n){return n.type!==2}function XC(n){if(n[id]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[id])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var oL=100;function e0(n,e=!0,t=0){let i=n[br].rendererFactory,o=!1;o||i.begin?.();try{sL(n,t)}catch(s){throw e&&kF(n,s),s}finally{o||i.end?.()}}function sL(n,e){let t=$T();try{bb(!0),fm(n,e);let r=0;for(;Cd(n);){if(r===oL)throw new H(103,!1);r++,fm(n,1)}}finally{bb(t)}}function aL(n,e,t,r){if(fc(e))return;let i=e[J],o=!1,s=!1;Km(e);let a=!0,u=null,l=null;o||(JC(n)?(l=XF(e),u=ul(l)):tg()===null?(a=!1,l=rL(e),u=ul(l)):e[ln]&&(ag(e[ln]),e[ln]=null));try{FT(e),YO(n.bindingStartIndex),t!==null&&$C(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Wl(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Gl(e,m,0,null),kg(e,0)}if(s||cL(e),XC(e),t0(e,0),n.contentQueries!==null&&RC(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Wl(e,m)}else{let m=n.contentHooks;m!==null&&Gl(e,m,1),kg(e,1)}lL(n,e);let p=n.components;p!==null&&r0(e,p,0);let y=n.viewQuery;if(y!==null&&lm(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Wl(e,m)}else{let m=n.viewHooks;m!==null&&Gl(e,m,2),kg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Pg]){for(let m of e[Pg])m();e[Pg]=null}o||(YC(e),e[J]&=-73)}catch(h){throw o||pc(e),h}finally{l!==null&&(og(l,u),a&&tL(l)),Qm()}}function t0(n,e){for(let t=IC(n);t!==null;t=EC(t))for(let r=Xt;r<t.length;r++){let i=t[r];n0(i,e)}}function cL(n){for(let e=IC(n);e!==null;e=EC(e)){if(!(e[J]&2))continue;let t=e[_s];for(let r=0;r<t.length;r++){let i=t[r];LT(i)}}}function uL(n,e,t){Te(18);let r=$n(e,n);n0(r,t),Te(19,r[zt])}function n0(n,e){Hm(n)&&fm(n,e)}function fm(n,e){let r=n[ce],i=n[J],o=n[ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&sg(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)aL(r,n,r.template,n[zt]);else if(i&8192){XC(n),t0(n,1);let a=r.components;a!==null&&r0(n,a,1),YC(n)}}function r0(n,e,t){for(let r=0;r<e.length;r++)uL(n,e[r],t)}function lL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ao(~i);else{let o=i,s=t[++r],a=t[++r];JO(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{ao(-1)}}function wy(n,e){let t=$T()?64:1088;for(n[br].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=so(n);if(sd(n)&&!r)return n;n=r}return null}function i0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function dL(n,e,t,r=!0){let i=e[ce];if(hL(i,e,n,t),r){let s=hm(t,n),a=e[ct],u=a.parentNode(n[oo]);u!==null&&UF(i,n[bn],a,e,u,s)}let o=e[nd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pm(n,e){if(n.length<=Xt)return;let t=Xt+e,r=n[t];if(r){let i=r[io];i!==null&&i!==n&&yy(i,r),e>0&&(n[t-1][Dn]=r[Dn]);let o=ed(n,Xt+e);jF(r[ce],r);let s=o[Tr];s!==null&&s.detachView(o[ce]),r[St]=null,r[Dn]=null,r[J]&=-129}return r}function hL(n,e,t,r){let i=Xt+r,o=t.length;r>0&&(t[i-1][Dn]=e),r<o-Xt?(e[Dn]=t[i],yT(t,Xt+r,e)):(t.push(e),e[Dn]=null),e[St]=t;let s=e[io];s!==null&&t!==s&&o0(s,e);let a=e[Tr];a!==null&&a.insertView(n),Yg(e),e[J]|=128}function o0(n,e){let t=n[_s],r=e[St];if(fi(r))n[J]|=2;else{let i=r[St][jn];e[jn]!==i&&(n[J]|=2)}t===null?n[_s]=[e]:t.push(e)}var uc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ce];return md(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[zt]}set context(e){this._lView[zt]=e}get destroyed(){return fc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(Nr(e)){let t=e[od],r=t?t.indexOf(this):-1;r>-1&&(pm(e,r),ed(t,r))}this._attachedToViewContainer=!1}KC(this._lView[ce],this._lView)}onDestroy(e){VT(this._lView,e)}markForCheck(){wy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Yg(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,e0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sd(this._lView),t=this._lView[io];t!==null&&!e&&yy(t,this._lView),GC(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=sd(this._lView),r=this._lView[io];r!==null&&!t&&o0(r,this._lView),Yg(this._lView)}};var lo=(()=>{class n{static __NG_ELEMENT_ID__=gL}return n})(),fL=lo,pL=class extends fL{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=LF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new uc(i)}};function gL(){return Pd(Lt(),_e())}function Pd(n,e){return n.type&4?new pL(e,n,Ss(n,e)):null}function Iy(n,e,t,r,i){let o=n.data[e];if(o===null)o=mL(n,e,t,r,i),ZO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=WO();o.injectorIndex=s===null?-1:s.injectorIndex}return gc(o,!0),o}function mL(n,e,t,r,i){let o=UT(),s=BT(),a=s?o:o&&o.parent,u=n.data[e]=vL(n,a,t,e,r,i);return yL(n,u,o,s),u}function yL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function vL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return HO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gQ=new RegExp(`^(\\d+)*(${U1}|${j1})*(.*)`);var _L=()=>null;function Bb(n,e){return _L(n,e)}var wL=class{},s0=class{},gm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${qt(e)}.`)}},kd=class{static NULL=new gm},ws=class{},Gn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>IL()}return n})();function IL(){let n=_e(),e=Lt(),t=$n(e.index,n);return(fi(t)?t:n)[ct]}var EL=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var Fg={},mm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Dd(r);let i=this.injector.get(e,Fg,r);return i!==Fg||t===Fg?i:this.parentInjector.get(e,t,r)}};function $b(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gb(i,a);else if(o==2){let u=a,l=e[++s];r=gb(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function j(n,e=ae.Default){let t=_e();if(t===null)return G(n,e);let r=Lt();return sC(r,t,Ft(n),e)}function a0(){let n="invalid";throw new Error(n)}function c0(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=bL(s);h===null?a=s:[a,u,l]=h,SL(n,e,t,a,o,u,l)}o!==null&&r!==null&&DL(t,r,o)}function DL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function bL(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Un(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,TL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function TL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function CL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function SL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Un(m)&&(u=!0,CL(n,t,y)),em(dd(t,e),n,m.type)}kL(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=UC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=ac(t.mergedAttrs,m.hostAttrs),RL(n,t,e,p,m),PL(p,m,i),s!==null&&s.has(m)){let[k,N]=s.get(m);t.directiveToIndex.set(m.type,[p,k+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let C=m.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}AL(n,t,o)}function AL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Hb(0,e,i,r),Hb(1,e,i,r),zb(e,r,!1);else{let o=t.get(i);qb(0,e,o,r),qb(1,e,o,r),zb(e,r,!0)}}}function Hb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),u0(e,o)}}function qb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),u0(e,s)}}function u0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function zb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||uy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function RL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=to(i.type,!0)),s=new co(o,Un(i),j);n.blueprint[r]=s,t[r]=s,ML(n,e,r,UC(n,t,i.hostVars,Tn),i)}function ML(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;NL(s)!=a&&s.push(a),s.push(t,r,o)}}function NL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function PL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Un(e)&&(t[""]=n)}}function kL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function l0(n,e,t,r,i,o,s,a){let u=e.consts,l=ad(u,s),h=Iy(e,n,2,r,l);return o&&c0(e,t,h,ad(u,a),i),h.mergedAttrs=ac(h.mergedAttrs,h.attrs),h.attrs!==null&&$b(h,h.attrs,!1),h.mergedAttrs!==null&&$b(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function d0(n,e){ZT(n,e),AT(e)&&n.queries.elementEnd(e)}var yd=class extends kd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ro(e);return new Is(t,this.ngModule)}};function xL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Md.SignalBased)!==0};return i&&(o.transform=i),o})}function OL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function FL(n,e,t){let r=e instanceof Ct?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new mm(t,r):t}function LL(n){let e=n.get(ws,null);if(e===null)throw new H(407,!1);let t=n.get(EL,null),r=n.get(uo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function VL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return FC(e,t,t==="svg"?kO:t==="math"?xO:null)}var Is=class extends s0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=OL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Te(22);let o=fe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.8"]:fF(this.componentDef.selectors[0]),u=ly(0,null,null,1,0,null,null,null,null,[a],null),l=FL(s,i||this.ngModule,e),h=LL(l),p=h.rendererFactory.createRenderer(null,s),y=r?EF(p,r,s.encapsulation,l):VL(s,p),m=dy(null,u,null,512|jC(s),null,null,h,p,l,null,AC(y,l,!0));m[dn]=y,Km(m);let C=null;try{let k=l0(dn,u,m,"#host",()=>[this.componentDef],!0,0);y&&(VC(p,y,k),mc(y,m)),fy(u,m,k),MC(u,k,m),d0(u,k),t!==void 0&&jL(k,this.ngContentSelectors,t),C=$n(k.index,m),m[zt]=C[zt],gy(u,m,null)}catch(k){throw C!==null&&am(C),am(m),k}finally{Te(23),Qm()}return new ym(this.componentType,m)}finally{fe(o)}}},ym=class extends wL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=xT(t[ce],dn),this.location=Ss(this._tNode,t),this.instance=$n(this._tNode.index,t)[zt],this.hostView=this.changeDetectorRef=new uc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=py(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let s=$n(r.index,i);wy(s,1)}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class n{static __NG_ELEMENT_ID__=UL}return n})();function UL(){let n=Lt();return f0(n,_e())}var BL=mi,h0=class extends BL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ss(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xm(this._hostTNode,this._hostLView);if(eC(e)){let t=ud(e,this._hostLView),r=cd(e),i=t[ce].data[r+8];return new eo(i,t)}else return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Wb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Bb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,jb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!RO(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new Is(ro(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let k=(s?l:this.parentInjector).get(Ct,null);k&&(o=k)}let h=ro(u.componentType??{}),p=Bb(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,jb(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(FO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[St],l=new h0(u,u[bn],u[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return dL(s,i,o,r),e.attachToViewContainerRef(),yT(Lg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Wb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=pm(this._lContainer,t);r&&(ed(Lg(this._lContainer),t),KC(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=pm(this._lContainer,t);return r&&ed(Lg(this._lContainer),t)!=null?new uc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Wb(n){return n[od]}function Lg(n){return n[od]||(n[od]=[])}function f0(n,e){let t,r=e[n.index];return Nr(r)?t=r:(t=i0(r,e,null,n),e[n.index]=t,hy(e,t)),HL(t,e,n,r),new h0(t,n,e)}function $L(n,e){let t=n[ct],r=t.createComment(""),i=Wn(e,n),o=t.parentNode(i);return gd(t,o,r,t.nextSibling(i),!1),r}var HL=WL,qL=()=>!1;function zL(n,e,t){return qL(n,e,t)}function WL(n,e,t,r){if(n[oo])return;let i;t.type&8?i=Bn(r):i=$L(e,t),n[oo]=i}var vm=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},_m=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Ey(e,t).matches!==null&&this.queries[t].setDirty()}},wm=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=eV(e):this.predicate=e}},Im=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Em=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,GL(t,o)),this.matchTNodeWithReadOption(e,t,Kl(t,e,o,!1,!1))}else r===lo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Wt||i===mi||i===lo&&t.type&4)this.addMatch(t.index,-2);else{let o=Kl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function GL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function KL(n,e){return n.type&11?Ss(n,e):n.type&4?Pd(n,e):null}function QL(n,e,t,r){return t===-1?KL(e,n):t===-2?YL(n,e,r):cc(n,n[ce],t,e)}function YL(n,e,t){if(t===Wt)return Ss(e,n);if(t===lo)return Pd(e,n);if(t===mi)return f0(e,n)}function p0(n,e,t,r){let i=e[Tr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(QL(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Dm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=p0(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Xt;p<h.length;p++){let y=h[p];y[io]===y[St]&&Dm(y[ce],y,l,r)}if(h[_s]!==null){let p=h[_s];for(let y=0;y<p.length;y++){let m=p[y];Dm(m[ce],m,l,r)}}}}}return r}function ZL(n,e){return n[Tr].queries[e].queryList}function JL(n,e,t){let r=new sm((t&4)===4);return jO(n,e,r,r.destroy),(e[Tr]??=new _m).queries.push(new vm(r))-1}function XL(n,e,t,r){let i=Rt();if(i.firstCreatePass){let o=Lt();tV(i,new wm(e,t,r),o.index),nV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return JL(i,_e(),t)}function eV(n){return n.split(",").map(e=>e.trim())}function tV(n,e,t){n.queries===null&&(n.queries=new Im),n.queries.track(new Em(e,t))}function nV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Ey(n,e){return n.queries.getByIndex(e)}function rV(n,e){let t=n[ce],r=Ey(t,e);return r.crossesNgTemplate?Dm(t,n,e,[]):p0(t,n,r,e)}var Es=class{},Dy=class{};var bm=class extends Es{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=wT(e);this._bootstrapComponents=xC(o.bootstrap),this._r3Injector=uC(e,t,[{provide:Es,useValue:this},{provide:kd,useValue:this.componentFactoryResolver},...r],qt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tm=class extends Dy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new bm(this.moduleType,e,[])}};var vd=class extends Es{injector;componentFactoryResolver=new yd(this);instance=null;constructor(e){super();let t=new oc([...e.providers,{provide:Es,useValue:this},{provide:kd,useValue:this.componentFactoryResolver}],e.parent||Um(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vc(n,e,t=null){return new vd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var iV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=IT(!1,t.type),i=r.length>0?vc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(G(Ct))})}return n})();function qe(n){return dc(()=>{let e=m0(n),t=le(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_C.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qn.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&yc("NgStandalone"),y0(t);let r=n.dependencies;return t.directiveDefs=Gb(r,!1),t.pipeDefs=Gb(r,!0),t.id=uV(t),t})}function oV(n){return ro(n)||yO(n)}function sV(n){return n!==null}function xr(n){return dc(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function aV(n,e){if(n==null)return no;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Md.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function cV(n){if(n==null)return no;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xe(n){return dc(()=>{let e=m0(n);return y0(e),e})}function g0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function m0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||no,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aV(n.inputs,e),outputs:cV(n.outputs),debugInfo:null}}function y0(n){n.features?.forEach(e=>e(n))}function Gb(n,e){if(!n)return null;let t=e?vO:oV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(sV)}function uV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lV(n){return Object.getPrototypeOf(n.prototype).constructor}function hn(n){let e=lV(n.type),t=!0,r=[n];for(;e;){let i;if(Un(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Vg(n.inputs),s.declaredInputs=Vg(n.declaredInputs),s.outputs=Vg(n.outputs);let a=i.hostBindings;a&&gV(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&fV(n,u),l&&pV(n,l),dV(n,i),Kx(n.outputs,i.outputs),Un(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===hn&&(t=!1)}}e=Object.getPrototypeOf(e)}hV(r)}function dV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function hV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ac(i.hostAttrs,t=ac(t,i.hostAttrs))}}function Vg(n){return n===no?{}:n===un?[]:n}function fV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function pV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function gV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function v0(n){return yV(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function yV(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function vV(n,e,t){return n[e]=t}function Sr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _0(n,e,t,r){let i=Sr(n,e,t);return Sr(n,e+1,r)||i}function _V(n,e,t,r,i){let o=_0(n,e,t,r);return Sr(n,e+2,i)||o}function wV(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Iy(e,n,4,s||null,a||null);jT()&&c0(e,t,h,ad(l,u),zC),h.mergedAttrs=ac(h.mergedAttrs,h.attrs),ZT(e,h);let p=h.tView=ly(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function IV(n,e,t,r,i,o,s,a,u,l){let h=t+dn,p=e.firstCreatePass?wV(h,e,n,r,i,o,s,a,u):e.data[h];gc(p,!1);let y=EV(e,n,p,t);Zm()&&vy(e,n,y,p),mc(y,n);let m=i0(y,n,y,p);return n[h]=m,hy(n,m),zL(m,p,n),$m(p)&&fy(e,n,p),u!=null&&HC(n,p,l),p}function Re(n,e,t,r,i,o,s,a){let u=_e(),l=Rt(),h=ad(l.consts,o);return IV(u,l,n,e,t,r,i,h,s,a),Re}var EV=DV;function DV(n,e,t,r){return Jm(!0),e[ct].createComment("")}var w0=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var I0=new z("");var bV=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Cm})}return n})(),Cm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function yi(n){return!!n&&typeof n.then=="function"}function by(n){return!!n&&typeof n.subscribe=="function"}var E0=new z("");function Ty(n){return Rr([{provide:E0,multi:!0,useValue:n}])}var D0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(E0,{optional:!0})??[];injector=O(nt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=At(this.injector,i);if(yi(o))t.push(o);else if(by(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xd=new z("");function TV(){ug(()=>{throw new H(600,!1)})}function CV(n){return n.isBoundToModule}var SV=10;var ho=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(S1);afterRenderManager=O(SC);zonelessEnabled=O(dC);rootEffectScheduler=O(bV);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Qe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(go).hasPendingTasks.pipe(oe(t=>!t));constructor(){O(Rs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=nt.NULL){Te(10);let o=t instanceof s0;if(!this._injector.get(D0).done){let m="";throw new H(405,m)}let a;o?a=t:a=this._injector.get(kd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=CV(a)?void 0:this._injector.get(Es),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(I0,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Ql(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Te(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ws,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<SV;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)AV(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Cd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ql(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ql(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ql(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function AV(n,e,t,r){if(!t&&!Cd(n))return;e0(n,e,t&&!r?0:1)}function _c(n,e,t,r){let i=_e(),o=Sd();if(Sr(i,o,e)){let s=Rt(),a=Ym();MF(a,i,n,e,t,r)}return _c}function RV(n,e,t,r){return Sr(n,Sd(),t)?e+Dr(t)+r:Tn}function MV(n,e,t,r,i,o){let s=HT(),a=_0(n,s,t,i);return Wm(2),a?e+Dr(t)+r+Dr(i)+o:Tn}function NV(n,e,t,r,i,o,s,a){let u=HT(),l=_V(n,u,t,i,s);return Wm(3),l?e+Dr(t)+r+Dr(i)+o+Dr(s)+a:Tn}function ql(n,e){return n<<17|e<<2}function fo(n){return n>>17&32767}function PV(n){return(n&2)==2}function kV(n,e){return n&131071|e<<17}function Sm(n){return n|2}function Ds(n){return(n&131068)>>2}function jg(n,e){return n&-131069|e<<2}function xV(n){return(n&1)===1}function Am(n){return n|1}function OV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fo(s),u=Ds(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||hc(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=fo(n[a+1]);n[r+1]=ql(y,a),y!==0&&(n[y+1]=jg(n[y+1],r)),n[a+1]=kV(n[a+1],r)}else n[r+1]=ql(a,0),a!==0&&(n[a+1]=jg(n[a+1],r)),a=r;else n[r+1]=ql(u,0),a===0?a=r:n[u+1]=jg(n[u+1],r),u=r;l&&(n[r+1]=Sm(n[r+1])),Kb(n,h,r,!0),Kb(n,h,r,!1),FV(e,h,n,r,o),s=ql(a,u),o?e.classBindings=s:e.styleBindings=s}function FV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&hc(o,e)>=0&&(t[r+1]=Am(t[r+1]))}function Kb(n,e,t,r){let i=n[t+1],o=e===null,s=r?fo(i):Ds(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];LV(u,e)&&(a=!0,n[s+1]=r?Am(l):Sm(l)),s=r?fo(l):Ds(l)}a&&(n[t+1]=r?Sm(i):Am(i))}function LV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?hc(n,e)>=0:!1}function we(n,e,t){let r=_e(),i=Sd();if(Sr(r,i,e)){let o=Rt(),s=Ym();qC(o,s,r,n,e,r[ct],t,!1)}return we}function Qb(n,e,t,r,i){py(e,n,t,i?"class":"style",r)}function Od(n,e){return VV(n,e,null,!0),Od}function VV(n,e,t,r){let i=_e(),o=Rt(),s=Wm(2);if(o.firstUpdatePass&&UV(o,n,s,r),e!==Tn&&Sr(i,s,e)){let a=o.data[pi()];zV(o,a,i,i[ct],n,i[s+1]=WV(e,t),r,s)}}function jV(n,e){return e>=n.expandoStartIndex}function UV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[pi()],s=jV(n,t);GV(o,r)&&e===null&&!s&&(e=!1),e=BV(i,o,e,r),OV(i,o,e,t,s,r)}}function BV(n,e,t,r){let i=e1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ug(null,n,e,t,r),t=lc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ug(i,n,e,t,r),o===null){let u=$V(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Ug(null,n,e,u[1],r),u=lc(u,e.attrs,r),HV(n,e,r,u))}else o=qV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function $V(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ds(r)!==0)return n[fo(r)]}function HV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[fo(i)]=r}function qV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=lc(r,s,t)}return lc(r,e.attrs,t)}function Ug(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=lc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function lc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gO(n,s,t?!0:e[++o]))}return n===void 0?null:n}function zV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=xV(l)?Yb(u,e,t,i,Ds(l),s):void 0;if(!_d(h)){_d(o)||PV(l)&&(o=Yb(u,null,t,i,a,s));let p=kT(pi(),t);ZF(r,s,p,i,o)}}function Yb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Tn&&(y=p?un:void 0);let m=p?Mg(y,r):h===r?y:void 0;if(l&&!_d(m)&&(m=Mg(u,r)),_d(m)&&(a=m,s))return a;let C=n[i+1];i=s?fo(C):Ds(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Mg(u,r))}return a}function _d(n){return n!==void 0}function WV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=qt(Rd(n)))),n}function GV(n,e){return(n.flags&(e?8:16))!==0}function M(n,e,t,r){let i=_e(),o=Rt(),s=dn+n,a=i[ct],u=o.firstCreatePass?l0(s,o,i,e,zC,jT(),t,r):o.data[s],l=KV(o,i,u,a,e,n);i[s]=l;let h=$m(u);return gc(u,!0),VC(a,l,u),!WC(u)&&Zm()&&vy(o,i,l,u),(UO()===0||h)&&mc(l,i),BO(),h&&(fy(o,i,u),MC(o,u,i)),r!==null&&HC(i,u),M}function R(){let n=Lt();BT()?GO():(n=n.parent,gc(n,!1));let e=n;qO(e)&&zO(),$O();let t=Rt();return t.firstCreatePass&&d0(t,e),e.classesWithoutHost!=null&&s1(e)&&Qb(t,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&a1(e)&&Qb(t,e,_e(),e.stylesWithoutHost,!1),R}function ke(n,e,t,r){return M(n,e,t,r),R(),ke}var KV=(n,e,t,r,i,o)=>(Jm(!0),FC(r,i,r1()));function Kn(){return _e()}var wd="en-US";var QV=wd;function YV(n){typeof n=="string"&&(QV=n.toLowerCase().replace(/_/g,"-"))}function Zb(n,e,t){return function r(i){if(i===Function)return t;let o=Ts(n)?$n(n.index,e):e;wy(o,5);let s=e[zt],a=Jb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Jb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Jb(n,e,t,r){let i=fe(null);try{return Te(6,e,t),t(r)!==!1}catch(o){return ZV(n,o),!1}finally{Te(7,e,t),fe(i)}}function ZV(n,e){let t=n[vs],r=t?t.get(Hn,null):null;r&&r.handleError(e)}function Xb(n,e,t,r,i,o){let s=e[t],a=e[ce],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?zm(a):null,y=qm(e),m=h.subscribe(o),C=y.length;y.push(o,m),p&&p.push(i,n.index,C,-(C+1))}var JV=(n,e,t)=>{};function Ve(n,e,t,r){let i=_e(),o=Rt(),s=Lt();return b0(o,i,i[ct],s,n,e,r),Ve}function XV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[rd],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function b0(n,e,t,r,i,o,s){let a=$m(r),l=n.firstCreatePass?zm(n):null,h=qm(e),p=!0;if(r.type&3||s){let y=Wn(r,e),m=s?s(y):y,C=h.length,k=s?B=>s(Bn(B[r.index])):r.index,N=null;if(!s&&a&&(N=XV(n,e,i,r.index)),N!==null){let B=N.__ngLastListenerFn__||N;B.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=Zb(r,e,o),JV(m,i,o);let B=t.listen(m,i,o);h.push(o,B),l&&l.push(i,k,C,C+1)}}else o=Zb(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let C=0;C<m.length;C+=2){let k=m[C],N=m[C+1];Xb(r,e,k,N,i,o)}if(y&&y.length)for(let C of y)Xb(r,e,C,i,i,o)}}function Ze(n=1){return n1(n)}function T0(n,e,t,r){XL(n,e,t,r)}function C0(n){let e=_e(),t=Rt(),r=qT();Gm(r+1);let i=Ey(t,r);if(n.dirty&&OO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=rV(e,r);n.reset(o,M1),n.notifyOnChanges()}return!0}return!1}function S0(){return ZL(_e(),qT())}function e2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Fd(n){let e=KO();return OT(e,dn+n)}function F(n,e=""){let t=_e(),r=Rt(),i=n+dn,o=r.firstCreatePass?Iy(r,i,1,e,null):r.data[i],s=t2(r,t,o,e,n);t[i]=s,Zm()&&vy(r,t,s,o),gc(o,!1)}var t2=(n,e,t,r,i)=>(Jm(!0),pF(e[ct],r));function yt(n){return Cn("",n,""),yt}function Cn(n,e,t){let r=_e(),i=RV(r,n,e,t);return i!==Tn&&Sy(r,pi(),i),Cn}function wc(n,e,t,r,i){let o=_e(),s=MV(o,n,e,t,r,i);return s!==Tn&&Sy(o,pi(),s),wc}function Cy(n,e,t,r,i,o,s){let a=_e(),u=NV(a,n,e,t,r,i,o,s);return u!==Tn&&Sy(a,pi(),u),Cy}function Sy(n,e,t){let r=kT(e,n);gF(n[ct],r,t)}function je(n,e,t){yC(e)&&(e=e());let r=_e(),i=Sd();if(Sr(r,i,e)){let o=Rt(),s=Ym();qC(o,s,r,n,e,r[ct],t,!1)}return je}function ze(n,e){let t=yC(n);return t&&n.set(e),t}function Ue(n,e){let t=_e(),r=Rt(),i=Lt();return b0(r,t,t[ct],i,n,e),Ue}function n2(n,e,t){let r=Rt();if(r.firstCreatePass){let i=Un(n);Rm(t,r.data,r.blueprint,i,!0),Rm(e,r.data,r.blueprint,i,!1)}}function Rm(n,e,t,r,i){if(n=Ft(n),Array.isArray(n))for(let o=0;o<n.length;o++)Rm(n[o],e,t,r,i);else{let o=Rt(),s=_e(),a=Lt(),u=ys(n)?n:Ft(n.provide),l=bT(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(ys(n)||!n.multi){let m=new co(l,i,j),C=$g(u,e,i?h:h+y,p);C===-1?(em(dd(a,s),o,u),Bg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{let m=$g(u,e,h+y,p),C=$g(u,e,h,h+y),k=m>=0&&t[m],N=C>=0&&t[C];if(i&&!N||!i&&!k){em(dd(a,s),o,u);let B=o2(i?i2:r2,t.length,i,r,l);!i&&N&&(t[C].providerFactory=B),Bg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=A0(t[i?C:m],l,!i&&r);Bg(o,n,m>-1?m:C,B)}!i&&r&&N&&t[C].componentProviders++}}}function Bg(n,e,t,r){let i=ys(e),o=DO(e);if(i||o){let u=(o?Ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function A0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $g(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function r2(n,e,t,r){return Mm(this.multi,[])}function i2(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=cc(t,t[ce],this.providerFactory.index,r);o=a.slice(0,s),Mm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Mm(i,o);return o}function Mm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function o2(n,e,t,r,i){let o=new co(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,A0(o,i,r&&!t),o}function vi(n,e=[]){return t=>{t.providersResolver=(r,i)=>n2(r,i?i(n):n,e)}}function s2(n,e){let t=n[e];return t===Tn?void 0:t}function a2(n,e,t,r,i,o){let s=e+t;return Sr(n,s,i)?vV(n,s+1,o?r.call(o,i):r(i)):s2(n,s+1)}function R0(n,e){let t=Rt(),r,i=n+dn;t.firstCreatePass?(r=c2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=to(r.type,!0)),s,a=Ht(j);try{let u=ld(!1),l=o();return ld(u),e2(t,_e(),i,l),l}finally{Ht(a)}}function c2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function M0(n,e,t){let r=n+dn,i=_e(),o=OT(i,r);return u2(i,r)?a2(i,QO(),e,o.transform,t,o):o.transform(t)}function u2(n,e){return n[ce].data[e].pure}function Ld(n,e){return Pd(n,e)}var po=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},N0=new po("19.2.8"),Nm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},P0=(()=>{class n{compileModuleSync(t){return new Tm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wT(t),o=xC(i.declarations).reduce((s,a)=>{let u=ro(a);return u&&s.push(new Is(u)),s},[]);return new Nm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var l2=(()=>{class n{zone=O(Ee);changeDetectionScheduler=O(uo);applicationRef=O(ho);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d2({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(le(V({},h2()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:ic,multi:!0,useFactory:()=>{let r=O(l2,{optional:!0});return()=>r.initialize()}},{provide:ic,multi:!0,useFactory:()=>{let r=O(f2);return()=>{r.initialize()}}},e===!0?{provide:hC,useValue:!0}:[],{provide:fC,useValue:t??lC}]}function h2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var f2=(()=>{class n{subscription=new He;initialized=!1;zone=O(Ee);pendingTasks=O(go);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var p2=(()=>{class n{appRef=O(ho);taskService=O(go);ngZone=O(Ee);zonelessEnabled=O(dC);tracing=O(Rs,{optional:!0});disableScheduling=O(hC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(fC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof om||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Mb:pC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Mb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g2(){return typeof $localize<"u"&&$localize.locale||wd}var Ay=new z("",{providedIn:"root",factory:()=>O(Ay,ae.Optional|ae.SkipSelf)||g2()});var Pm=new z(""),m2=new z("");function Xa(n){return!n.moduleRef}function y2(n){let e=Xa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Xa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Hn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Xa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Pm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Pm);s.add(o),n.moduleRef.onDestroy(()=>{Ql(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return _2(r,t,()=>{let o=e.get(D0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ay,wd);if(YV(s||wd),!e.get(m2,!0))return Xa(n)?e.get(ho):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Xa(n)){let u=e.get(ho);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return v2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function v2(n,e){let t=n.injector.get(ho);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function _2(n,e,t){try{let r=t();return yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Yl=null;function w2(n=[],e){return nt.create({name:e,providers:[{provide:bd,useValue:"platform"},{provide:Pm,useValue:new Set([()=>Yl=null])},...n]})}function I2(n=[]){if(Yl)return Yl;let e=w2(n);return Yl=e,TV(),E2(e),e}function E2(n){let e=n.get(iy,null);At(n,()=>{e?.forEach(t=>t())})}function Ry(){return!1}var Or=(()=>{class n{static __NG_ELEMENT_ID__=D2}return n})();function D2(n){return b2(Lt(),_e(),(n&16)===16)}function b2(n,e,t){if(Ts(n)&&!t){let r=$n(n.index,e);return new uc(r,r)}else if(n.type&175){let r=e[jn];return new uc(r,e)}return null}var km=class{constructor(){}supports(e){return v0(e)}create(e){return new xm(e)}},T2=(n,e)=>e,xm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||T2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<eT(r,i,o)?t:r,a=eT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,C=m+y;h<=C&&C<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!v0(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,mV(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Om(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Id),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Id),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Om=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Fm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Id=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Fm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function tT(){return new My([new km])}var My=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:tT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tT()),deps:[[n,new dO,new en]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function k0(n){Te(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=I2(r),o=[d2({}),{provide:uo,useExisting:p2},...t||[]],s=new vd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return y2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}function _i(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function fn(n){return hg(n)}function Ns(n,e){return cg(n,e?.equal)}var nT=class{[an];constructor(e){this[an]=e}destroy(){this[an].destroy()}};function x0(n){let e=ro(n);if(!e)return null;let t=new Is(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var dt=new z("");var L0=null;function pn(){return L0}function Ny(n){L0??=n}var Ic=class{},Ec=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(V0),providedIn:"platform"})}return n})(),Py=new z(""),V0=(()=>{class n extends Ec{_location;_history;_doc=O(dt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pn().getBaseHref(this._doc)}onPopState(t){let r=pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Vd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function O0(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Sn(n){return n&&n[0]!=="?"?`?${n}`:n}var An=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(Ud),providedIn:"root"})}return n})(),jd=new z(""),Ud=(()=>{class n extends An{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Sn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(Ec),G(jd,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wi=(()=>{class n{_subject=new Qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=A2(O0(F0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Sn(r))}normalize(t){return n.stripTrailingSlash(S2(this._basePath,F0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Sn;static joinWithSlash=Vd;static stripTrailingSlash=O0;static \u0275fac=function(r){return new(r||n)(G(An))};static \u0275prov=W({token:n,factory:()=>C2(),providedIn:"root"})}return n})();function C2(){return new wi(G(An))}function S2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function F0(n){return n.replace(/\/index.html$/,"")}function A2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Oy=(()=>{class n extends An{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Vd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(Ec),G(jd,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();var Bd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Bd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),j0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);j0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(mi),j(lo),j(My))};static \u0275dir=xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function j0(n,e){n.context.$implicit=e.item}var Vt=(()=>{class n{_viewContainer;_context=new $d;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){U0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){U0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(mi),j(lo))};static \u0275dir=xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),$d=class{$implicit=null;ngIf=null};function U0(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}function R2(n,e){return new H(2100,!1)}var ky=class{createSubscription(e,t){return fn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){fn(()=>e.unsubscribe())}},xy=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},M2=new xy,N2=new ky,Fy=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(yi(t))return M2;if(by(t))return N2;throw R2(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(j(Or,16))};static \u0275pipe=g0({name:"async",type:n,pure:!1})}return n})();var We=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=Ar({})}return n})();function Ly(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vy="browser",B0="server";function Hd(n){return n===B0}var Dc=class{};var $0=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new jy(O(dt),window)})}return n})(),jy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=P2(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function P2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Wd=new z(""),Hy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(G(Wd),G(Ee))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),bc=class{_doc;constructor(e){this._doc=e}manager},qd="ng-app-id";function H0(n){for(let e of n)e.remove()}function q0(n,e){let t=e.createElement("style");return t.textContent=n,t}function k2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${qd}="${e}"],link[${qd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function By(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var qy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Hd(o),k2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,q0);r?.forEach(i=>this.addUsage(i,this.external,By))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(H0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])H0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,q0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,By(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(dt),G(ry),G(oy,8),G(gi))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Uy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zy=/%COMP%/g;var W0="%COMP%",x2=`_nghost-${W0}`,O2=`_ngcontent-${W0}`,F2=!0,L2=new z("",{providedIn:"root",factory:()=>F2});function V2(n){return O2.replace(zy,n)}function j2(n){return x2.replace(zy,n)}function G0(n,e){return e.map(t=>t.replace(zy,n))}var Wy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Hd(a),this.defaultRenderer=new Tc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r=le(V({},r),{encapsulation:qn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof zd?i.applyToHost(t):i instanceof Cc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case qn.Emulated:o=new zd(u,l,r,this.appId,h,s,a,p,y);break;case qn.ShadowDom:return new $y(u,l,t,r,s,a,this.nonce,p,y);default:o=new Cc(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(G(Hy),G(qy),G(ry),G(L2),G(dt),G(gi),G(Ee),G(oy),G(Rs,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Uy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(z0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(z0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Uy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Uy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cr.DashCase|Cr.Important)?e.style.setProperty(t,r,i&Cr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=pn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function z0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $y=class extends Tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=G0(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=By(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cc=class extends Tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?G0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zd=class extends Cc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=V2(h),this.hostAttr=j2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Gd=class n extends Ic{supportsDOMEvents=!0;static makeCurrent(){Ny(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=U2();return t==null?null:B2(t)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ly(document.cookie,e)}},Sc=null;function U2(){return Sc=Sc||document.querySelector("base"),Sc?Sc.getAttribute("href"):null}function B2(n){return new URL(n,document.baseURI).pathname}var $2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Q0=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(G(dt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),K0=["alt","control","meta","shift"],H2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Y0=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),K0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=H2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),K0.forEach(s=>{if(s!==i){let a=q2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(G(dt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Gy(n,e){return k0(V({rootComponent:n},z2(e)))}function z2(n){return{appProviders:[...Y2,...n?.providers??[]],platformProviders:Q2}}function W2(){Gd.makeCurrent()}function G2(){return new Hn}function K2(){return bC(document),document}var Q2=[{provide:gi,useValue:Vy},{provide:iy,useValue:W2,multi:!0},{provide:dt,useFactory:K2}];var Y2=[{provide:bd,useValue:"root"},{provide:Hn,useFactory:G2},{provide:Wd,useClass:Q0,multi:!0,deps:[dt]},{provide:Wd,useClass:Y0,multi:!0,deps:[dt]},Wy,qy,Hy,{provide:ws,useExisting:Wy},{provide:Dc,useClass:$2},[]];var Z0=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(G(dt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",Uc=Symbol("RouteTitle"),Jy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vo(n){return new Jy(n)}function oS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function J2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yn(n[t],e[t]))return!1;return!0}function Yn(n,e){let t=n?Xy(n):void 0,r=e?Xy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!sS(n[i],e[i]))return!1;return!0}function Xy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function aS(n){return n.length>0?n[n.length-1]:null}function Ci(n){return Cg(n)?n:yi(n)?Me(Promise.resolve(n)):Q(n)}var X2={exact:uS,subset:lS},cS={exact:ej,subset:tj,ignored:()=>!0};function J0(n,e,t){return X2[t.paths](n.root,e.root,t.matrixParams)&&cS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ej(n,e){return Yn(n,e)}function uS(n,e,t){if(!mo(n.segments,e.segments)||!Yd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!uS(n.children[r],e.children[r],t))return!1;return!0}function tj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sS(n[t],e[t]))}function lS(n,e,t){return dS(n,e,e.segments,t)}function dS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!mo(i,t)||e.hasChildren()||!Yd(i,t,r))}else if(n.segments.length===t.length){if(!mo(n.segments,t)||!Yd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!lS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!mo(n.segments,i)||!Yd(n.segments,i,r)||!n.children[ne]?!1:dS(n.children[ne],e,o,r)}}function Yd(n,e,t){return e.every((r,i)=>cS[t](n[i].parameters,r.parameters))}var Jn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return ij.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}},Ei=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return fS(this)}};function nj(n,e){return mo(n,e)&&n.every((t,r)=>Yn(t.parameters,e[r].parameters))}function mo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function rj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(t=t.concat(e(i,r)))}),t}var _o=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new Di,providedIn:"root"})}return n})(),Di=class{parse(e){let t=new tv(e);return new Jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ac(e.root,!0)}`,r=aj(e.queryParams),i=typeof e.fragment=="string"?`#${oj(e.fragment)}`:"";return`${t}${r}${i}`}},ij=new Di;function Zd(n){return n.segments.map(e=>fS(e)).join("/")}function Ac(n,e){if(!n.hasChildren())return Zd(n);if(e){let t=n.children[ne]?Ac(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Ac(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rj(n,(r,i)=>i===ne?[Ac(n.children[ne],!1)]:[`${i}:${Ac(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${Zd(n)}/${t[0]}`:`${Zd(n)}/(${t.join("//")})`}}function hS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(n){return hS(n).replace(/%3B/gi,";")}function oj(n){return encodeURI(n)}function ev(n){return hS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jd(n){return decodeURIComponent(n)}function X0(n){return Jd(n.replace(/\+/g,"%20"))}function fS(n){return`${ev(n.path)}${sj(n.parameters)}`}function sj(n){return Object.entries(n).map(([e,t])=>`;${ev(e)}=${ev(t)}`).join("")}function aj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Kd(t)}=${Kd(i)}`).join("&"):`${Kd(t)}=${Kd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var cj=/^[^\/()?;#]+/;function Ky(n){let e=n.match(cj);return e?e[0]:""}var uj=/^[^\/()?;=#]+/;function lj(n){let e=n.match(uj);return e?e[0]:""}var dj=/^[^=?&#]+/;function hj(n){let e=n.match(dj);return e?e[0]:""}var fj=/^[^&#]+/;function pj(n){let e=n.match(fj);return e?e[0]:""}var tv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new Ie(e,t)),r}parseSegment(){let e=Ky(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Ei(Jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=lj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ky(this.remaining);i&&(r=i,this.capture(r))}e[Jd(t)]=Jd(r)}parseQueryParam(e){let t=hj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=pj(this.remaining);s&&(r=s,this.capture(r))}let i=X0(t),o=X0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ky(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ne]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function pS(n){return n.segments.length>0?new Ie([],{[ne]:n}):n}function gS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=gS(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return gj(t)}function gj(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new Ie(n.segments.concat(e.segments),e.children)}return n}function bi(n){return n instanceof Jn}function mS(n,e,t=null,r=null){let i=yS(n);return vS(i,e,t,r)}function yS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=pS(r);return e??i}function vS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Qy(i,i,i,t,r);let o=mj(e);if(o.toRoot())return Qy(i,i,new Ie([],{}),t,r);let s=yj(o,i,n),a=s.processChildren?Mc(s.segmentGroup,s.index,o.commands):wS(s.segmentGroup,s.index,o.commands);return Qy(i,s.segmentGroup,a,t,r)}function eh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pc(n){return typeof n=="object"&&n!=null&&n.outlets}function Qy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=_S(n,e,t);let a=pS(gS(s));return new Jn(a,o,i)}function _S(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=_S(o,e,t)}),new Ie(n.segments,r)}var th=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&eh(r[0]))throw new H(4003,!1);let i=r.find(Pc);if(i&&i!==aS(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new th(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new th(t,e,r)}var xs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function yj(n,e,t){if(n.isAbsolute)return new xs(e,!0,0);if(!t)return new xs(e,!1,NaN);if(t.parent===null)return new xs(t,!0,0);let r=eh(n.commands[0])?0:1,i=t.segments.length-1+r;return vj(t,i,n.numberOfDoubleDots)}function vj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new xs(r,!1,i-o)}function _j(n){return Pc(n[0])?n[0].outlets:{[ne]:n}}function wS(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Mc(n,e,t);let r=wj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new Ie(n.segments.slice(r.pathIndex),n.children),Mc(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?nv(n,e,t):r.match?Mc(n,0,i):nv(n,e,t)}function Mc(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=_j(t),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=Mc(n.children[ne],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=wS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function wj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Pc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!tS(u,l,s))return o;r+=2}else{if(!tS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Pc(o)){let u=Ij(o.outlets);return new Ie(r,u)}if(i===0&&eh(t[0])){let u=n.segments[e];r.push(new Ei(u.path,eS(t[0]))),i++;continue}let s=Pc(o)?o.outlets[ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&eh(a)?(r.push(new Ei(s,eS(a))),i+=2):(r.push(new Ei(s,{})),i++)}return new Ie(r,{})}function Ij(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=nv(new Ie([],{}),0,r))}),e}function eS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function tS(n,e,t){return n==t.path&&Yn(e,t.parameters)}var Xd="imperative",ut=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ut||{}),nn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ti=class extends nn{type=ut.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends nn{urlAfterRedirects;type=ut.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Gt||{}),Fs=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Fs||{}),Zn=class extends nn{reason;code;type=ut.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xn=class extends nn{reason;code;type=ut.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ls=class extends nn{error;target;type=ut.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kc=class extends nn{urlAfterRedirects;state;type=ut.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nh=class extends nn{urlAfterRedirects;state;type=ut.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class extends nn{urlAfterRedirects;state;shouldActivate;type=ut.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ih=class extends nn{urlAfterRedirects;state;type=ut.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oh=class extends nn{urlAfterRedirects;state;type=ut.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class{route;type=ut.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ah=class{route;type=ut.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ch=class{snapshot;type=ut.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{snapshot;type=ut.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{snapshot;type=ut.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{snapshot;type=ut.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vs=class{routerEvent;position;anchor;type=ut.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xc=class{},js=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Ej(n,e){return n.providers&&!n._injector&&(n._injector=vc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rn(n){return n.outlet||ne}function Dj(n,e){let t=n.filter(r=>Rn(r)===e);return t.push(...n.filter(r=>Rn(r)!==e)),t}function Bc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new wo(this.rootInjector)}},wo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(G(Ct))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=rv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=rv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=iv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return iv(e,this._root).map(t=>t.value)}};function rv(n,e){if(n===e.value)return e;for(let t of e.children){let r=rv(n,t);if(r)return r}return null}function iv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=iv(n,t);if(r.length)return r.unshift(e),r}return[]}var tn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ks(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Oc=class extends fh{snapshot;constructor(e,t){super(e),this.snapshot=t,hv(this,e)}toString(){return this.snapshot.toString()}};function IS(n){let e=bj(n),t=new at([new Ei("",{})]),r=new at({}),i=new at({}),o=new at({}),s=new at(""),a=new er(t,r,o,s,i,ne,n,e.root);return a.snapshot=e.root,new Oc(new tn(a,[]),e)}function bj(n){let e={},t={},r={},i="",o=new yo([],e,r,i,t,ne,n,null,{});return new Fc("",new tn(o,[]))}var er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[Uc]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ph(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&DS(i)&&(r.resolve[Uc]=i.title),r}var yo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fc=class extends fh{url;constructor(e,t){super(t),this.url=e,hv(this,t)}toString(){return ES(this._root)}};function hv(n,e){e.value._routerState=n,e.children.forEach(t=>hv(n,t))}function ES(n){let e=n.children.length>0?` { ${n.children.map(ES).join(", ")} } `:"";return`${n.value}${e}`}function Yy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yn(e.params,t.params)||n.paramsSubject.next(t.params),J2(e.url,t.url)||n.urlSubject.next(t.url),Yn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ov(n,e){let t=Yn(n.params,e.params)&&nj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ov(n.parent,e.parent))}function DS(n){return typeof n.title=="string"||n.title===null}var bS=new z(""),$c=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new tt;deactivateEvents=new tt;attachEvents=new tt;detachEvents=new tt;routerOutletData=mC(void 0);parentContexts=O(wo);location=O(mi);changeDetector=O(Or);inputBinder=O(Hc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pr]})}return n})(),sv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===er?this.route:e===wo?this.childContexts:e===bS?this.outletData:this.parent.get(e,t)}},Hc=new z(""),fv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Za([r.queryParams,r.params,r.data]).pipe(cn(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=x0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Tj(n,e,t){let r=Lc(n,e._root,t?t._root:void 0);return new Oc(r,e)}function Lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Cj(n,e,t);return new tn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lc(n,a)),s}}let r=Sj(e.value),i=e.children.map(o=>Lc(n,o));return new tn(r,i)}}function Cj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lc(n,r,i);return Lc(n,r)})}function Sj(n){return new er(new at(n.url),new at(n.params),new at(n.queryParams),new at(n.fragment),new at(n.data),n.outlet,n.component,n)}var Us=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},TS="ngNavigationCancelingError";function gh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=bi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CS(!1,Gt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function CS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[TS]=!0,t.cancellationCode=e,t}function Aj(n){return SS(n)&&bi(n.url)}function SS(n){return!!n&&n[TS]}var Rj=(n,e,t,r)=>oe(i=>(new av(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),av=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ks(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ks(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Yy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Yy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},mh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Os=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Mj(n,e,t){let r=n._root,i=e?e._root:null;return Rc(r,i,t,[r.value])}function Nj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function $s(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!uT(n)?n:e.get(n):r}function Rc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(e);return n.children.forEach(s=>{Pj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,t.getContext(s),i)),i}function Pj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=kj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rc(n,e,a?a.children:null,r,i):Rc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Os(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new mh(r)),o.component?Rc(n,null,a?a.children:null,r,i):Rc(n,null,t,r,i);return i}function kj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!mo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(n.url,e.url)||!Yn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ov(n,e)||!Yn(n.queryParams,e.queryParams);case"paramsChange":default:return!ov(n,e)}}function Nc(n,e,t){let r=ks(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),t):Nc(s,null,t):Nc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Os(e.outlet.component,i)):t.canDeactivateChecks.push(new Os(null,i)):t.canDeactivateChecks.push(new Os(null,i))}function qc(n){return typeof n=="function"}function xj(n){return typeof n=="boolean"}function Oj(n){return n&&qc(n.canLoad)}function Fj(n){return n&&qc(n.canActivate)}function Lj(n){return n&&qc(n.canActivateChild)}function Vj(n){return n&&qc(n.canDeactivate)}function jj(n){return n&&qc(n.canMatch)}function AS(n){return n instanceof _r||n?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function Bs(){return cn(n=>Za(n.map(e=>e.pipe(Ir(1),Ul(Qd)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===Qd)return Qd;if(t===!1||Uj(t))return t}return!0}),$t(e=>e!==Qd),Ir(1)))}function Uj(n){return bi(n)||n instanceof Us}function Bj(n,e){return Ye(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(le(V({},t),{guardsResult:!0})):$j(s,r,i,n).pipe(Ye(a=>a&&xj(a)?Hj(r,o,n,e):Q(a)),oe(a=>le(V({},t),{guardsResult:a})))})}function $j(n,e,t,r){return Me(n).pipe(Ye(i=>Kj(i.component,i.route,t,e,r)),Er(i=>i!==!0,!0))}function Hj(n,e,t,r){return Me(e).pipe(li(i=>us(zj(i.route.parent,r),qj(i.route,r),Gj(n,i.path,t),Wj(n,i.route,t))),Er(i=>i!==!0,!0))}function qj(n,e){return n!==null&&e&&e(new lh(n)),Q(!0)}function zj(n,e){return n!==null&&e&&e(new ch(n)),Q(!0)}function Wj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Ll(()=>{let s=Bc(e)??t,a=$s(o,s),u=Fj(a)?a.canActivate(e,n):At(s,()=>a(e,n));return Ci(u).pipe(Er())}));return Q(i).pipe(Bs())}function Gj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Nj(s)).filter(s=>s!==null).map(s=>Ll(()=>{let a=s.guards.map(u=>{let l=Bc(s.node)??t,h=$s(u,l),p=Lj(h)?h.canActivateChild(r,n):At(l,()=>h(r,n));return Ci(p).pipe(Er())});return Q(a).pipe(Bs())}));return Q(o).pipe(Bs())}function Kj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=Bc(e)??i,l=$s(a,u),h=Vj(l)?l.canDeactivate(n,e,t,r):At(u,()=>l(n,e,t,r));return Ci(h).pipe(Er())});return Q(s).pipe(Bs())}function Qj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=$s(s,n),u=Oj(a)?a.canLoad(e,t):At(n,()=>a(e,t));return Ci(u)});return Q(o).pipe(Bs(),RS(r))}function RS(n){return vl(mt(e=>{if(typeof e!="boolean")throw gh(n,e)}),oe(e=>e===!0))}function Yj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=$s(s,n),u=jj(a)?a.canMatch(e,t):At(n,()=>a(e,t));return Ci(u)});return Q(o).pipe(Bs(),RS(r))}var Vc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},jc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ps(n){return cs(new Vc(n))}function Zj(n){return cs(new H(4e3,!1))}function Jj(n){return cs(CS(!1,Gt.GuardRejected))}var cv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ne])return Zj(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:C,title:k}=i,N=At(o,()=>a({params:m,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:k}));if(N instanceof Jn)throw new jc(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new jc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xj(n,e,t,r,i){let o=MS(n,e,t);return o.matched?(r=Ej(e,r),Yj(r,e,t,i).pipe(oe(s=>s===!0?o:V({},uv)))):Q(o)}function MS(n,e,t){if(e.path==="**")return eU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},uv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oS)(t,n,e);if(!i)return V({},uv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function eU(n){return{matched:!0,parameters:n.length>0?aS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nS(n,e,t,r){return t.length>0&&rU(n,t,r)?{segmentGroup:new Ie(e,nU(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&iU(n,t,r)?{segmentGroup:new Ie(n.segments,tU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function tU(n,e,t,r){let i={};for(let o of t)if(vh(n,e,o)&&!r[Rn(o)]){let s=new Ie([],{});i[Rn(o)]=s}return V(V({},r),i)}function nU(n,e){let t={};t[ne]=e;for(let r of n)if(r.path===""&&Rn(r)!==ne){let i=new Ie([],{});t[Rn(r)]=i}return t}function rU(n,e,t){return t.some(r=>vh(n,e,r)&&Rn(r)!==ne)}function iU(n,e,t){return t.some(r=>vh(n,e,r))}function vh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function oU(n,e,t){return e.length===0&&!n.children[t]}var lv=class{};function sU(n,e,t,r,i,o,s="emptyOnly"){return new dv(n,e,t,r,i,s,o).recognize()}var aU=31,dv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cv(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=nS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new tn(r,t),o=new Fc("",i),s=mS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new yo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,t).pipe(oe(r=>({children:r,rootSnapshot:t})),wr(r=>{if(r instanceof jc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof tn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(li(s=>{let a=r.children[s],u=Dj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),jl((s,a)=>(s.push(...a),s)),di(null),Ag(),Ye(s=>{if(s===null)return Ps(r);let a=NS(s);return cU(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return Me(t).pipe(li(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(wr(l=>{if(l instanceof Vc)return Q(null);throw l}))),Er(u=>!!u),wr(u=>{if(AS(u))return oU(r,i,o)?Q(new lv):Ps(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Rn(r)!==s&&(s===ne||!vh(i,o,r))?Ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ps(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=MS(t,i,o);if(!u)return Ps(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aU&&(this.allowRedirects=!1));let m=new yo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,rS(i),Rn(i),i.component??i._loadedComponent??null,i,iS(i)),C=ph(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(Ye(N=>this.processSegment(e,r,t,N.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Xj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(cn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,C=new yo(y,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,rS(r),Rn(r),r.component??r._loadedComponent??null,r,iS(r)),k=ph(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(k.params),C.data=Object.freeze(k.data);let{segmentGroup:N,slicedSegments:B}=nS(t,y,m,l);if(B.length===0&&N.hasChildren())return this.processChildren(h,l,N,C).pipe(oe(ie=>new tn(C,ie)));if(l.length===0&&B.length===0)return Q(new tn(C,[]));let re=Rn(r)===o;return this.processSegment(h,l,N,B,re?ne:o,!0,C).pipe(oe(ie=>new tn(C,ie instanceof tn?[ie]:[])))}))):Ps(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):Qj(e,t,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,t).pipe(mt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Jj(t))):Q({routes:[],injector:e})}};function cU(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function uU(n){let e=n.value.routeConfig;return e&&e.path===""}function NS(n){let e=[],t=new Set;for(let r of n){if(!uU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=NS(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!t.has(r))}function rS(n){return n.data||{}}function iS(n){return n.resolve||{}}function lU(n,e,t,r,i,o){return Ye(s=>sU(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:u})=>le(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function dU(n,e){return Ye(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of PS(u))s.add(l);let a=0;return Me(s).pipe(li(u=>o.has(u)?hU(u,r,n,e):(u.data=ph(u,u.parent,n).resolve,Q(void 0))),mt(()=>a++),ls(1),Ye(u=>a===s.size?Q(t):Ut))})}function PS(n){let e=n.children.map(t=>PS(t)).flat();return[n,...e]}function hU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!DS(i)&&(o[Uc]=i.title),fU(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=ph(n,n.parent,t).resolve,null)))}function fU(n,e,t,r){let i=Xy(n);if(i.length===0)return Q({});let o={};return Me(i).pipe(Ye(s=>pU(n[s],e,t,r).pipe(Er(),mt(a=>{if(a instanceof Us)throw gh(new Di,a);o[s]=a}))),ls(1),oe(()=>o),wr(s=>AS(s)?Ut:cs(s)))}function pU(n,e,t,r){let i=Bc(e)??r,o=$s(n,i),s=o.resolve?o.resolve(e,t):At(i,()=>o(e,t));return Ci(s)}function Zy(n){return cn(e=>{let t=n(e);return t?Me(t).pipe(oe(()=>e)):Q(e)})}var pv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[Uc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(kS),providedIn:"root"})}return n})(),kS=(()=>{class n extends pv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(Z0))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Io=new z("",{providedIn:"root",factory:()=>({})}),gv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ke(0,"router-outlet")},dependencies:[$c],encapsulation:2})}return n})();function mv(n){let e=n.children&&n.children.map(mv),t=e?le(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=gv),t}var Eo=new z(""),_h=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(P0);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ci(t.loadComponent()).pipe(oe(OS),mt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ja(()=>{this.componentLoaders.delete(t)})),i=new is(r,()=>new Qe).pipe(rs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=xS(r,this.compiler,t,this.onLoadEndListener).pipe(Ja(()=>{this.childrenLoaders.delete(r)})),s=new is(o,()=>new Qe).pipe(rs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xS(n,e,t,r){return Ci(n.loadChildren()).pipe(oe(OS),Ye(i=>i instanceof Dy||Array.isArray(i)?Q(i):Me(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Eo,[],{optional:!0,self:!0}).flat()),{routes:s.map(mv),injector:o}}))}function gU(n){return n&&typeof n=="object"&&"default"in n}function OS(n){return gU(n)?n.default:n}var wh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(mU),providedIn:"root"})}return n})(),mU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yv=new z(""),vv=new z("");function FS(n,e,t){let r=n.get(vv),i=n.get(dt);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),yU(n))),{onViewTransitionCreated:u}=r;return u&&At(n,()=>u({transition:a,from:e,to:t})),s})}function yU(n){return new Promise(e=>{ay({read:()=>setTimeout(e)},{injector:n})})}var _v=new z(""),Ih=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Qe;transitionAbortSubject=new Qe;configLoader=O(_h);environmentInjector=O(Ct);destroyRef=O(Cs);urlSerializer=O(_o);rootContexts=O(wo);location=O(wi);inputBindingEnabled=O(Hc,{optional:!0})!==null;titleStrategy=O(pv);options=O(Io,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(wh);createViewTransition=O(yv,{optional:!0});navigationErrorHandler=O(_v,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new sh(i)),r=i=>this.events.next(new ah(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new at(null),this.transitions.pipe($t(r=>r!==null),cn(r=>{let i=!1,o=!1;return Q(r).pipe(cn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Gt.SupersededByNewNavigation),Ut;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?le(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Fs.IgnoredSameUrlNavigation)),s.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(cn(l=>(this.events.next(new Ti(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ut:Promise.resolve(l))),lU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=le(V({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new kc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,C=new Ti(l,this.urlSerializer.serialize(h),p,y);this.events.next(C);let k=IS(this.rootComponentType).snapshot;return this.currentTransition=r=le(V({},s),{targetSnapshot:k,urlAfterRedirects:h,extras:le(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Q(r)}else{let l="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Fs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ut}}),mt(s=>{let a=new nh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=r=le(V({},s),{guards:Mj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Bj(this.environmentInjector,s=>this.events.next(s)),mt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw gh(this.urlSerializer,s.guardsResult);let a=new rh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),$t(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Gt.GuardRejected),!1)),Zy(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(mt(a=>{let u=new ih(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),cn(a=>{let u=!1;return Q(a).pipe(dU(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Gt.NoDataFromResolver)}}))}),mt(a=>{let u=new oh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Zy(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(mt(h=>{u.component=h}),oe(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Za(a(s.targetSnapshot.root)).pipe(di(null),Ir(1))}),Zy(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Me(u).pipe(oe(()=>r)):Q(r)}),oe(s=>{let a=Tj(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=le(V({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),mt(()=>{this.events.next(new xc)}),Rj(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ir(1),mt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Rg(this.transitionAbortSubject.pipe(mt(s=>{throw s}))),Ja(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Gt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),wr(s=>{if(this.destroyed)return r.resolve(!1),Ut;if(o=!0,SS(s))this.events.next(new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Aj(s)?this.events.next(new js(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ls(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=At(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Us){let{message:l,cancellationCode:h}=gh(this.urlSerializer,u);this.events.next(new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new js(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ut}))}))}cancelNavigationTransition(t,r,i){let o=new Zn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vU(n){return n!==Xd}var LS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(_U),providedIn:"root"})}return n})(),yh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_U=(()=>{class n extends yh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VS=(()=>{class n{urlSerializer=O(_o);options=O(Io,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(wi);urlHandlingStrategy=O(wh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=IS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(wU),providedIn:"root"})}return n})(),wU=(()=>{class n extends VS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ti?this.updateStateMemento():t instanceof Xn?this.commitTransition(r):t instanceof kc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Zn&&(t.code===Gt.GuardRejected||t.code===Gt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ls?this.restoreHistory(r,!0):t instanceof rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Eh(n,e){n.events.pipe($t(t=>t instanceof rn||t instanceof Zn||t instanceof Ls||t instanceof Xn),oe(t=>t instanceof rn||t instanceof Xn?0:(t instanceof Zn?t.code===Gt.Redirect||t.code===Gt.SupersededByNewNavigation:!1)?2:1),$t(t=>t!==2),Ir(1)).subscribe(()=>{e()})}var IU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(w0);stateManager=O(VS);options=O(Io,{optional:!0})||{};pendingTasks=O(go);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(Ih);urlSerializer=O(_o);location=O(wi);urlHandlingStrategy=O(wh);_events=new Qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(LS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Eo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Hc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Zn&&r.code!==Gt.Redirect&&r.code!==Gt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof js){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vU(i.source)},s);this.scheduleNavigation(a,Xd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=yS(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return vS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=bi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xd,null,r)}navigate(t,r={skipLocationChange:!1}){return DU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},IU):r===!1?i=V({},EU):i=r,bi(t))return J0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return J0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return Eh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function bU(n){return!(n instanceof xc)&&!(n instanceof js)}var tr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Qe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(bi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:PC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:bi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(vt),j(er),ey("tabindex"),j(Gn),j(Wt),j(An))};static \u0275dir=xe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ve("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&_c("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_i],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_i],replaceUrl:[2,"replaceUrl","replaceUrl",_i],routerLink:"routerLink"},features:[Pr]})}return n})(),Iv=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new tt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof rn&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(ui()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Me(t).pipe(ui()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=TU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(j(vt),j(Wt),j(Gn),j(Or),j(tr,8))};static \u0275dir=xe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&T0(o,tr,5),r&2){let s;C0(s=S0())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Pr]})}return n})();function TU(n){return!!n.paths}var zc=class{};var jS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($t(t=>t instanceof rn),li(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=vc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(ui())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(Ye(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(ui())}else return o})}static \u0275fac=function(r){return new(r||n)(G(vt),G(Ct),G(zc),G(_h))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),US=new z(""),CU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ti?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xn&&t.code===Fs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){a0()};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Ev(n,...e){return Rr([{provide:Eo,multi:!0,useValue:n},[],{provide:er,useFactory:BS,deps:[vt]},{provide:xd,multi:!0,useFactory:$S},e.map(t=>t.\u0275providers)])}function BS(n){return n.routerState.root}function Wc(n,e){return{\u0275kind:n,\u0275providers:e}}function $S(){let n=O(nt);return e=>{let t=n.get(ho);if(e!==t.components[0])return;let r=n.get(vt),i=n.get(HS);n.get(Dv)===1&&r.initialNavigation(),n.get(WS,null,ae.Optional)?.setUpPreloading(),n.get(US,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HS=new z("",{factory:()=>new Qe}),Dv=new z("",{providedIn:"root",factory:()=>1});function qS(){let n=[{provide:Dv,useValue:0},Ty(()=>{let e=O(nt);return e.get(Py,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(vt),o=e.get(HS);Eh(i,()=>{r(!0)}),e.get(Ih).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return Wc(2,n)}function zS(){let n=[Ty(()=>{O(vt).setUpLocationChangeListener()}),{provide:Dv,useValue:2}];return Wc(3,n)}var WS=new z("");function GS(n){return Wc(0,[{provide:WS,useExisting:jS},{provide:zc,useExisting:n}])}function KS(){return Wc(8,[fv,{provide:Hc,useExisting:fv}])}function QS(n){yc("NgRouterViewTransitions");let e=[{provide:yv,useValue:FS},{provide:vv,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return Wc(9,e)}var YS=[wi,{provide:_o,useClass:Di},vt,wo,{provide:er,useFactory:BS,deps:[vt]},_h,[]],Fr=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[YS,[],{provide:Eo,multi:!0,useValue:t},[],r?.errorHandler?{provide:_v,useValue:r.errorHandler}:[],{provide:Io,useValue:r||{}},r?.useHash?AU():RU(),SU(),r?.preloadingStrategy?GS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?MU(r):[],r?.bindToComponentInputs?KS().\u0275providers:[],r?.enableViewTransitions?QS().\u0275providers:[],NU()]}}static forChild(t){return{ngModule:n,providers:[{provide:Eo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=Ar({})}return n})();function SU(){return{provide:US,useFactory:()=>{let n=O($0),e=O(Ee),t=O(Io),r=O(Ih),i=O(_o);return t.scrollOffset&&n.setOffset(t.scrollOffset),new CU(i,r,n,e,t)}}}function AU(){return{provide:An,useClass:Oy}}function RU(){return{provide:An,useClass:Ud}}function MU(n){return[n.initialNavigation==="disabled"?zS().\u0275providers:[],n.initialNavigation==="enabledBlocking"?qS().\u0275providers:[]]}var wv=new z("");function NU(){return[{provide:wv,useFactory:$S},{provide:xd,multi:!0,useExisting:wv}]}var ZS=()=>{};var XS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},PU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(t[h],t[p],t[y],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):PU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Tv;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Tv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kU=function(n){let e=XS(n);return bh.encodeByteArray(e,!0)},Gc=function(n){return kU(n).replace(/\./g,"")},Th=function(n){try{return bh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xU=()=>Sv().__FIREBASE_DEFAULTS__,OU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Th(n[1]);return e&&JSON.parse(e)},Ch=()=>{try{return ZS()||xU()||OU()||FU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Av=n=>{var e,t;return(t=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eA=n=>{let e=Av(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Rv=()=>{var n;return(n=Ch())===null||n===void 0?void 0:n.config},Mv=n=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${n}`]};var Do=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function tA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gc(JSON.stringify(t)),Gc(JSON.stringify(s)),""].join(".")}function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function LU(){var n;let e=(n=Ch())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sh(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){let n=ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sA(){return!LU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bo(){try{return typeof indexedDB=="object"}catch{return!1}}function Ah(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function aA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var VU="FirebaseError",_t=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=VU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jt.prototype.create)}},jt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new _t(i,a,r)}};function jU(n,e){return n.replace(UU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var UU=/\{\$([^}]+)}/g;function cA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(JS(o)&&JS(s)){if(!gn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function JS(n){return n!==null&&typeof n=="object"}function Kc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uA(n,e){let t=new Cv(n,e);return t.subscribe.bind(t)}var Cv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");BU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bv),i.error===void 0&&(i.error=bv),i.complete===void 0&&(i.complete=bv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bv(){}var $U=1e3,HU=2,qU=4*60*60*1e3,zU=.5;function Rh(n,e=$U,t=HU){let r=e*Math.pow(t,n),i=Math.round(zU*r*(Math.random()-.5)*2);return Math.min(qU,r+i)}function Ge(n){return n&&n._delegate?n._delegate:n}function zs(n){return n.endsWith(".cloudworkstations.dev")}function Mh(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var Xe=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var To="[DEFAULT]";var Nv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Do;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GU(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function WU(n){return n===To?void 0:n}function GU(n){return n.instantiationMode==="EAGER"}var Nh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Nv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var KU=[],he=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(he||{}),QU={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},YU=he.INFO,ZU={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},JU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ZU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mn=class{constructor(e){this.name=e,this._logLevel=YU,this._logHandler=JU,this._userLogHandler=null,KU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var XU=(n,e)=>e.some(t=>n instanceof t),lA,dA;function eB(){return lA||(lA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tB(){return dA||(dA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hA=new WeakMap,kv=new WeakMap,fA=new WeakMap,Pv=new WeakMap,Ov=new WeakMap;function nB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(nr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&hA.set(t,n)}).catch(()=>{}),Ov.set(e,n),e}function rB(n){if(kv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kv.set(n,e)}var xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pA(n){xv=n(xv)}function iB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ph(this),e,...t);return fA.set(r,e.sort?e.sort():[e]),nr(r)}:tB().includes(n)?function(...e){return n.apply(Ph(this),e),nr(hA.get(this))}:function(...e){return nr(n.apply(Ph(this),e))}}function oB(n){return typeof n=="function"?iB(n):(n instanceof IDBTransaction&&rB(n),XU(n,eB())?new Proxy(n,xv):n)}function nr(n){if(n instanceof IDBRequest)return nB(n);if(Pv.has(n))return Pv.get(n);let e=oB(n);return e!==n&&(Pv.set(n,e),Ov.set(e,n)),e}var Ph=n=>Ov.get(n);function kh(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=nr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(nr(s.result),u.oldVersion,u.newVersion,nr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var sB=["get","getKey","getAll","getAllKeys","count"],aB=["put","add","delete","clear"],Fv=new Map;function gA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=aB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sB.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Fv.set(e,o),o}pA(n=>le(V({},n),{get:(e,t,r)=>gA(e,t)||n.get(e,t,r),has:(e,t)=>!!gA(e,t)||n.has(e,t)}));var Vv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function cB(n){let e=n.getComponent();return e?.type==="VERSION"}var jv="@firebase/app",mA="0.12.1";var Lr=new mn("@firebase/app"),uB="@firebase/app-compat",lB="@firebase/analytics-compat",dB="@firebase/analytics",hB="@firebase/app-check-compat",fB="@firebase/app-check",pB="@firebase/auth",gB="@firebase/auth-compat",mB="@firebase/database",yB="@firebase/data-connect",vB="@firebase/database-compat",_B="@firebase/functions",wB="@firebase/functions-compat",IB="@firebase/installations",EB="@firebase/installations-compat",DB="@firebase/messaging",bB="@firebase/messaging-compat",TB="@firebase/performance",CB="@firebase/performance-compat",SB="@firebase/remote-config",AB="@firebase/remote-config-compat",RB="@firebase/storage",MB="@firebase/storage-compat",NB="@firebase/firestore",PB="@firebase/vertexai",kB="@firebase/firestore-compat",xB="firebase",OB="11.7.1";var Uv="[DEFAULT]",FB={[jv]:"fire-core",[uB]:"fire-core-compat",[dB]:"fire-analytics",[lB]:"fire-analytics-compat",[fB]:"fire-app-check",[hB]:"fire-app-check-compat",[pB]:"fire-auth",[gB]:"fire-auth-compat",[mB]:"fire-rtdb",[yB]:"fire-data-connect",[vB]:"fire-rtdb-compat",[_B]:"fire-fn",[wB]:"fire-fn-compat",[IB]:"fire-iid",[EB]:"fire-iid-compat",[DB]:"fire-fcm",[bB]:"fire-fcm-compat",[TB]:"fire-perf",[CB]:"fire-perf-compat",[SB]:"fire-rc",[AB]:"fire-rc-compat",[RB]:"fire-gcs",[MB]:"fire-gcs-compat",[NB]:"fire-fst",[kB]:"fire-fst-compat",[PB]:"fire-vertex","fire-js":"fire-js",[xB]:"fire-js-all"};var Qc=new Map,LB=new Map,Bv=new Map;function yA(n,e){try{n.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wt(n){let e=n.name;if(Bv.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Bv.set(e,n);for(let t of Qc.values())yA(t,n);for(let t of LB.values())yA(t,n);return!0}function yn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kt(n){return n==null?!1:n.settings!==void 0}var VB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new jt("app","Firebase",VB);var $v=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}};var Ai=OB;function Zc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Uv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(t||(t=Rv()),!t)throw Si.create("no-options");let o=Qc.get(i);if(o){if(gn(t,o.options)&&gn(r,o.config))return o;throw Si.create("duplicate-app",{appName:i})}let s=new Nh(i);for(let u of Bv.values())s.addComponent(u);let a=new $v(t,r,s);return Qc.set(i,a),a}function rr(n=Uv){let e=Qc.get(n);if(!e&&n===Uv&&Rv())return Zc();if(!e)throw Si.create("no-app",{appName:n});return e}function xh(){return Array.from(Qc.values())}function Ce(n,e,t){var r;let i=(r=FB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}wt(new Xe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jB="firebase-heartbeat-database",UB=1,Yc="firebase-heartbeat-store",Lv=null;function IA(){return Lv||(Lv=kh(jB,UB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),Lv}function BB(n){return v(this,null,function*(){try{let t=(yield IA()).transaction(Yc),r=yield t.objectStore(Yc).get(EA(n));return yield t.done,r}catch(e){if(e instanceof _t)Lr.warn(e.message);else{let t=Si.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}})}function vA(n,e){return v(this,null,function*(){try{let r=(yield IA()).transaction(Yc,"readwrite");yield r.objectStore(Yc).put(e,EA(n)),yield r.done}catch(t){if(t instanceof _t)Lr.warn(t.message);else{let r=Si.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(r.message)}}})}function EA(n){return`${n.name}!${n.options.appId}`}var $B=1024,HB=30,Hv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_A();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>HB){let s=zB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Lr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=_A(),{heartbeatsToSend:r,unsentEntries:i}=qB(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Lr.warn(t),""}})}};function _A(){return new Date().toISOString().substring(0,10)}function qB(n,e=$B){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),wA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return bo()?Ah().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield BB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wA(n){return Gc(JSON.stringify({version:2,heartbeats:n})).length}function zB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function WB(n){wt(new Xe("platform-logger",e=>new Vv(e),"PRIVATE")),wt(new Xe("heartbeat",e=>new Hv(e),"PRIVATE")),Ce(jv,mA,n),Ce(jv,mA,"esm2017"),Ce("fire-js","")}WB("");var GB="firebase",KB="11.7.1";Ce(GB,KB,"app");function zv(n){n===void 0&&(Bm(zv),n=O(nt));let e=n.get(Ad);return t=>new de(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ri=new po("ANGULARFIRE2_VERSION");function Jc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Gs=(n,e)=>{let t=e?[e]:xh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ws=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ws||{}),DA=Ry()&&typeof Zone<"u"?Ws.WARN:Ws.SILENT;var Oh=class{zone;delegate;constructor(e,t=bg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Mi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(Ee);this.outsideAngular=t.runOutsideAngular(()=>new Oh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Oh(typeof Zone>"u"?void 0:Zone.current,Dg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bA=!1;function QB(n,e){!bA&&(DA>Ws.SILENT||Ry())&&(bA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),DA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function YB(n){let e=O(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Co(n){let e=O(Ee,{optional:!0});return e?e.run(()=>n()):n()}var ZB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),At(t,()=>Co(()=>n.apply(void 0,r)))),lt=(n,e,t)=>(t||=e?Ws.WARN:Ws.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=O(Mi),s=O(Ad),a=O(Ct)}catch{return QB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Co(()=>s.add())),i[l]=ZB(i[l],r,a));let u=YB(()=>n.apply(this,i));return e?u instanceof de?u.pipe(ci(o.outsideAngular),ai(o.insideAngular),zv(a)):u instanceof Promise?Co(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>At(a,()=>Co(()=>l(p))),p=>At(a,()=>Co(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Co(()=>u):u instanceof de?u.pipe(ci(o.outsideAngular),ai(o.insideAngular)):Co(()=>u)});var Vr=class{constructor(e){return e}},So=class{constructor(){return xh()}};function JB(n){return n&&n.length===1?n[0]:new Vr(rr())}var Wv=new z("angularfire2._apps"),XB={provide:Vr,useFactory:JB,deps:[[new en,Wv]]},e$={provide:So,deps:[[new en,Wv]]};function t$(n){return(e,t)=>{let r=t.get(gi);Ce("angularfire",Ri.full,"core"),Ce("angularfire",Ri.full,"app"),Ce("angular",N0.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Vr(i)}}function TA(n,...e){return Rr([XB,e$,{provide:Wv,useFactory:t$(n),multi:!0,deps:[Ee,nt,Mi,...e]}])}var CA=lt(Zc,!0);var n$=new Map,r$={activated:!1,tokenObservers:[]},i$={initialized:!1,enabled:!1};function Mn(n){return n$.get(n)||Object.assign({},r$)}function MA(){return i$}var o$="https://content-firebaseappcheck.googleapis.com/v1";var s$="exchangeDebugToken",SA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},BX=24*60*60*1e3;var Qv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Do,this.pending.promise.catch(t=>{}),yield a$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Do,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function a$(n){return new Promise(e=>{setTimeout(e,n)})}var c$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ni=new jt("appCheck","AppCheck",c$);function NA(n){if(!Mn(n).activated)throw Ni.create("use-before-activation",{appName:n.name})}function PA(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw Ni.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Ni.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Ni.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ni.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function kA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${o$}/projects/${t}/apps/${r}:${s$}?key=${i}`,body:{debug_token:e}}}var u$="firebase-app-check-database",l$=1,Yv="firebase-app-check-store";var Fh=null;function d$(){return Fh||(Fh=new Promise((n,e)=>{try{let t=indexedDB.open(u$,l$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ni.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Yv,{keyPath:"compositeKey"})}}}catch(t){e(Ni.create("storage-open",{originalErrorMessage:t?.message}))}}),Fh)}function h$(n,e){return f$(p$(n),e)}function f$(n,e){return v(this,null,function*(){let r=(yield d$()).transaction(Yv,"readwrite"),o=r.objectStore(Yv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ni.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function p$(n){return`${n.options.appId}-${n.name}`}var Xc=new mn("@firebase/app-check");function Gv(n,e){return bo()?h$(n,e).catch(t=>{Xc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xA(){return MA().enabled}function OA(){return v(this,null,function*(){let n=MA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var g$={error:"UNKNOWN_ERROR"};function m$(n){return bh.encodeString(JSON.stringify(n),!1)}function Zv(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;NA(r);let i=Mn(r),o=i.token,s;if(o&&!eu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(eu(l)?o=l:yield Gv(r,void 0))}if(!e&&o&&eu(o))return{token:o.token};let a=!1;if(xA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=PA(kA(r,yield OA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Gv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xc.warn(l.message):t&&Xc.error(l),Kv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Mn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xc.warn(l.message):t&&Xc.error(l),s=l}let u;return o?s?eu(o)?u={token:o.token,internalError:s}:u=Kv(s):(u={token:o.token},i.token=o,yield Gv(r,o)):u=Kv(s),a&&w$(r,u),u})}function y$(n){return v(this,null,function*(){let e=n.app;NA(e);let{provider:t}=Mn(e);if(xA()){let r=yield OA(),{token:i}=yield PA(kA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function v$(n,e,t,r){let{app:i}=n,o=Mn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&eu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),AA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>AA(n))}function FA(n,e){let t=Mn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function AA(n){let{app:e}=n,t=Mn(e),r=t.tokenRefresher;r||(r=_$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function _$(n){let{app:e}=n;return new Qv(()=>v(this,null,function*(){let t=Mn(e),r;if(t.token?r=yield Zv(n,!0):r=yield Zv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Mn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SA.RETRIAL_MIN_WAIT,SA.RETRIAL_MAX_WAIT)}function w$(n,e){let t=Mn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function eu(n){return n.expireTimeMillis-Date.now()>0}function Kv(n){return{token:m$(g$),error:n}}var Jv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Mn(this.app);for(let t of e)FA(this.app,t.next);return Promise.resolve()}};function I$(n,e){return new Jv(n,e)}function E$(n){return{getToken:e=>Zv(n,e),getLimitedUseToken:()=>y$(n),addTokenListener:e=>v$(n,"INTERNAL",e),removeTokenListener:e=>FA(n.app,e)}}var D$="@firebase/app-check",b$="0.9.1";var T$="app-check",RA="app-check-internal";function C$(){wt(new Xe(T$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return I$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RA).initialize()})),wt(new Xe(RA,n=>{let e=n.getProvider("app-check").getImmediate();return E$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ce(D$,b$)}C$();var S$="app-check";var Ks=class{constructor(){return Gs(S$)}};var A$=["localhost","0.0.0.0","127.0.0.1"],eee=typeof window<"u"&&A$.includes(window.location.hostname);function JA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XA=JA,eR=new jt("auth","Firebase",JA());var $h=new mn("@firebase/auth");function R$(n,...e){$h.logLevel<=he.WARN&&$h.warn(`Auth (${Ai}): ${n}`,...e)}function Vh(n,...e){$h.logLevel<=he.ERROR&&$h.error(`Auth (${Ai}): ${n}`,...e)}function or(n,...e){throw D_(n,...e)}function Ao(n,...e){return D_(n,...e)}function tR(n,e,t){let r=Object.assign(Object.assign({},XA()),{[e]:t});return new jt("auth","Firebase",r).create(e,{appName:n.name})}function Br(n){return tR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eR.create(n,...e)}function Z(n,e,...t){if(!n)throw D_(e,...t)}function jr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vh(e),new Error(e)}function xi(n,e){n||jr(e)}function n_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function M$(){return LA()==="http:"||LA()==="https:"}function LA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function N$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M$()||Sh()||"connection"in navigator)?navigator.onLine:!0}function P$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ro=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=nA()||iA()}get(){return N$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function b_(n,e){xi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Hh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var k$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var x$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O$=new Ro(3e4,6e4);function Oi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Fi(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return nR(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Kc(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:y},l);return rA()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&zs(n.emulatorConfig.host)&&(m.credentials="include"),Hh.fetch()(yield rR(n,n.config.apiHost,t,p),m)}))})}function nR(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},k$),e);try{let i=new r_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Lh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw tR(n,h,l);or(n,h)}}catch(i){if(i instanceof _t)throw i;or(n,"network-request-failed",{message:String(i)})}})}function uu(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Fi(n,e,t,r,i);return"mfaPendingCredential"in l&&or(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function rR(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?b_(n.config,i):`${n.config.apiScheme}://${i}`;return x$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function F$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var r_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ao(this.auth,"network-request-failed")),O$.get())})}};function Lh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ao(n,e,r);return i.customData._tokenResponse=t,i}function VA(n){return n!==void 0&&n.enterprise!==void 0}var i_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function L$(n,e){return v(this,null,function*(){return Fi(n,"GET","/v2/recaptchaConfig",Oi(n,e))})}function V$(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:delete",e)})}function qh(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:lookup",e)})}function nu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function T_(n,e=!1){return v(this,null,function*(){let t=Ge(n),r=yield t.getIdToken(e),i=C_(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:nu(Xv(i.auth_time)),issuedAtTime:nu(Xv(i.iat)),expirationTime:nu(Xv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xv(n){return Number(n)*1e3}function C_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Th(t);return i?JSON.parse(i):(Vh("Failed to decode base64 JWT payload"),null)}catch(i){return Vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jA(n){let e=C_(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function iu(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof _t&&j$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function j$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var o_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ou=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zh(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield iu(n,qh(t,{idToken:r}));Z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iR(o.providerUserInfo):[],a=U$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ou(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function S_(n){return v(this,null,function*(){let e=Ge(n);yield zh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function U$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iR(n){return n.map(e=>{var{providerId:t}=e,r=Tg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function B$(n,e){return v(this,null,function*(){let t=yield nR(n,{},()=>v(this,null,function*(){let r=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield rR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function $$(n,e){return v(this,null,function*(){return Fi(n,"POST","/v2/accounts:revokeToken",Oi(n,e))})}var ru=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let t=jA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield B$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return jr("not implemented")}};function Pi(n,e){Z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ki=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ou(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield iu(this,this.stsTokenManager.getToken(this.auth,e));return Z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return T_(this,e)}reload(){return S_(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield zh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(Br(this.auth));let e=yield this.getIdToken();return yield iu(this,V$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=t.createdAt)!==null&&l!==void 0?l:void 0,re=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ie,emailVerified:Ne,isAnonymous:kt,providerData:be,stsTokenManager:D}=t;Z(ie&&D,e,"internal-error");let _=ru.fromJSON(this.name,D);Z(typeof ie=="string",e,"internal-error"),Pi(p,e.name),Pi(y,e.name),Z(typeof Ne=="boolean",e,"internal-error"),Z(typeof kt=="boolean",e,"internal-error"),Pi(m,e.name),Pi(C,e.name),Pi(k,e.name),Pi(N,e.name),Pi(B,e.name),Pi(re,e.name);let I=new n({uid:ie,auth:e,email:y,emailVerified:Ne,displayName:p,isAnonymous:kt,photoURL:C,phoneNumber:m,tenantId:k,stsTokenManager:_,createdAt:B,lastLoginAt:re});return be&&Array.isArray(be)&&(I.providerData=be.map(E=>Object.assign({},E))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new ru;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?iR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ru;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ou(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var UA=new Map;function Ur(n){xi(n instanceof Function,"Expected a class definition");let e=UA.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UA.set(n,e),e)}var H$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),s_=H$;function jh(n,e,t){return`firebase:${n}:${e}:${t}`}var Wh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jh(this.userKey,i.apiKey,o),this.fullPersistenceKey=jh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield qh(this.auth,{idToken:e}).catch(()=>{});return t?ki._fromGetAccountInfoResponse(this.auth,t,e):null}return ki._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Ur(s_),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ur(s_),s=jh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield qh(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield ki._fromGetAccountInfoResponse(e,y,h)}else p=ki._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function BA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lR(e))return"Blackberry";if(dR(e))return"Webos";if(sR(e))return"Safari";if((e.includes("chrome/")||aR(e))&&!e.includes("edge/"))return"Chrome";if(uR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function oR(n=ht()){return/firefox\//i.test(n)}function sR(n=ht()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aR(n=ht()){return/crios\//i.test(n)}function cR(n=ht()){return/iemobile/i.test(n)}function uR(n=ht()){return/android/i.test(n)}function lR(n=ht()){return/blackberry/i.test(n)}function dR(n=ht()){return/webos/i.test(n)}function A_(n=ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function q$(n=ht()){var e;return A_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z$(){return oA()&&document.documentMode===10}function hR(n=ht()){return A_(n)||uR(n)||dR(n)||lR(n)||/windows phone/i.test(n)||cR(n)}function fR(n,e=[]){let t;switch(n){case"Browser":t=BA(ht());break;case"Worker":t=`${BA(ht())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ai}/${r}`}var a_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function W$(t){return v(this,arguments,function*(n,e={}){return Fi(n,"GET","/v2/passwordPolicy",Oi(n,e))})}var G$=6,c_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:G$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var u_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gh(this),this.idTokenSubscription=new Gh(this),this.beforeStateQueue=new a_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ur(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Wh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield qh(this,{idToken:e}),r=yield ki._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=P$()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Kt(this.app))return Promise.reject(Br(this));let t=e?Ge(e):null;return t&&Z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Kt(this.app)?Promise.reject(Br(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(Br(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield W$(this),t=new c_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ur(e)||this._popupRedirectResolver;Z(t,this,"argument-error"),this.redirectPersistenceManager=yield Wh.create(this,[Ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&R$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function No(n){return Ge(n)}var Gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uA(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ef={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K$(n){ef=n}function pR(n){return ef.loadJS(n)}function Q$(){return ef.recaptchaEnterpriseScript}function Y$(){return ef.gapiScript}function gR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var l_=class{constructor(){this.enterprise=new d_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},d_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Z$="recaptcha-enterprise",mR="NO_RECAPTCHA",h_=class{constructor(e){this.type=Z$,this.auth=No(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){L$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new i_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;VA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(mR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&VA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Q$();u.length!==0&&(u+=a),pR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function tu(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new h_(n),s;if(i)s=mR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function f_(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield tu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield tu(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield tu(n,e,t);return r(n,a).catch(u=>v(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield tu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield tu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function R_(n,e){let t=yn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(gn(o,e??{}))return i;or(i,"already-initialized")}return t.initialize({options:e})}function J$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ur);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function M_(n,e,t){let r=No(n);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=yR(e),{host:s,port:a}=X$(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(gn(l,r.config.emulator)&&gn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||eH(),zs(s)&&Mh(`${o}//${s}${u}`)}function yR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function X$(n){let e=yR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$A(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$A(s)}}}function $A(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function eH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var su=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}};function tH(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signUp",e)})}function nH(n,e){return v(this,null,function*(){return uu(n,"POST","/v1/accounts:signInWithPassword",Oi(n,e))})}function rH(n,e){return v(this,null,function*(){return uu(n,"POST","/v1/accounts:signInWithEmailLink",Oi(n,e))})}function iH(n,e){return v(this,null,function*(){return uu(n,"POST","/v1/accounts:signInWithEmailLink",Oi(n,e))})}var au=class n extends su{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,t,"signInWithPassword",nH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rH(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,r,"signUpPassword",tH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return iH(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function e_(n,e){return v(this,null,function*(){return uu(n,"POST","/v1/accounts:signInWithIdp",Oi(n,e))})}function oH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sH(n){let e=Hs(qs(n)).link,t=e?Hs(qs(e)).deep_link_id:null,r=Hs(qs(n)).deep_link_id;return(r?Hs(qs(r)).link:null)||r||t||e||n}var Kh=class n{constructor(e){var t,r,i,o,s,a;let u=Hs(qs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=oH((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=sH(e);try{return new n(t)}catch{return null}}};var vR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return au._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Kh.parseLink(r);return Z(i,"argument-error"),au._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Qh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var p_=class extends Qh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function aH(n,e){return v(this,null,function*(){return uu(n,"POST","/v1/accounts:signUp",Oi(n,e))})}var Qs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield ki._fromIdTokenResponse(e,r,i),s=HA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function HA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var g_=class n extends _t{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function _R(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?g_._fromErrorAndOperation(n,o,e,r):o})}function cH(n,e,t=!1){return v(this,null,function*(){let r=yield iu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Qs._forOperation(n,"link",r)})}function uH(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Kt(r.app))return Promise.reject(Br(r));let i="reauthenticate";try{let o=yield iu(n,_R(r,i,e,n),t);Z(o.idToken,r,"internal-error");let s=C_(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),Qs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&or(r,"user-mismatch"),o}})}function wR(n,e,t=!1){return v(this,null,function*(){if(Kt(n.app))return Promise.reject(Br(n));let r="signIn",i=yield _R(n,r,e),o=yield Qs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function N_(n,e){return v(this,null,function*(){return wR(No(n),e)})}function IR(n){return v(this,null,function*(){let e=No(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function P_(n,e,t){return v(this,null,function*(){if(Kt(n.app))return Promise.reject(Br(n));let r=No(n),s=yield f_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&IR(n),u}),a=yield Qs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function k_(n,e,t){return Kt(n.app)?Promise.reject(Br(n)):N_(Ge(n),vR.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&IR(n),r}))}function x_(n,e,t,r){return Ge(n).onIdTokenChanged(e,t,r)}function O_(n,e,t){return Ge(n).beforeAuthStateChanged(e,t)}function F_(n,e,t,r){return Ge(n).onAuthStateChanged(e,t,r)}function L_(n){return Ge(n).signOut()}var Yh="__sak";var Zh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lH=1e3,dH=10,hH=(()=>{class n extends Zh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);z$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,dH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield oi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield oi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield oi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ER=hH;var fH=(()=>{class n extends Zh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),V_=fH;function pH(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var gH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield pH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function DR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var m_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=DR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ir(){return window}function mH(n){ir().location.href=n}function bR(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}function yH(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _H(){return bR()?self:null}var TR="firebaseLocalStorageDb",wH=1,Jh="firebaseLocalStorage",CR="fbase_key",Mo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function tf(n,e){return n.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function IH(){let n=indexedDB.deleteDatabase(TR);return new Mo(n).toPromise()}function y_(){let n=indexedDB.open(TR,wH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Jh,{keyPath:CR})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),yield IH(),e(yield y_()))}))})}function qA(n,e,t){return v(this,null,function*(){let r=tf(n,!0).put({[CR]:e,value:t});return new Mo(r).toPromise()})}function EH(n,e){return v(this,null,function*(){let t=tf(n,!1).get(e),r=yield new Mo(t).toPromise();return r===void 0?null:r.value})}function zA(n,e){let t=tf(n,!0).delete(e);return new Mo(t).toPromise()}var DH=800,bH=3,TH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield y_(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>bH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return bR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=gH._getInstance(_H()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield yH(),!this.activeServiceWorker)return;this.sender=new m_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield y_();return yield qA(t,Yh,"1"),yield zA(t,Yh),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>qA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>EH(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>zA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=tf(o,!1).getAll();return new Mo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),SR=TH;var cee=gR("rcb"),uee=new Ro(3e4,6e4);function CH(n,e){return e?Ur(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var cu=class extends su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return e_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return e_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return e_(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function SH(n){return wR(n.auth,new cu(n),n.bypassAuthState)}function AH(n){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),uH(t,new cu(n),n.bypassAuthState)}function RH(n){return v(this,null,function*(){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),cH(t,new cu(n),n.bypassAuthState)})}var v_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SH;case"linkViaPopup":case"linkViaRedirect":return RH;case"reauthViaPopup":case"reauthViaRedirect":return AH;default:or(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lee=new Ro(2e3,1e4);var MH="pendingRedirect",Uh=new Map,__=class n extends v_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Uh.get(this.auth._key());if(!e){try{let r=(yield NH(this.resolver,this.auth))?yield oi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return oi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,oi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function NH(n,e){return v(this,null,function*(){let t=xH(e),r=kH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function PH(n,e){Uh.set(n._key(),e)}function kH(n){return Ur(n._redirectPersistence)}function xH(n){return jh(MH,n.config.apiKey,n.name)}function OH(n,e,t=!1){return v(this,null,function*(){if(Kt(n.app))return Promise.reject(Br(n));let r=No(n),i=CH(r,e),s=yield new __(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var FH=10*60*1e3,w_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!AR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ao(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FH&&this.cachedEventUids.clear(),this.cachedEventUids.has(WA(e))}saveEventToCache(e){this.cachedEventUids.add(WA(e)),this.lastProcessedEventTime=Date.now()}};function WA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(n);default:return!1}}function VH(t){return v(this,arguments,function*(n,e={}){return Fi(n,"GET","/v1/projects",e)})}var jH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UH=/^https?/;function BH(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield VH(n);for(let t of e)try{if($H(t))return}catch{}or(n,"unauthorized-domain")})}function $H(n){let e=n_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!UH.test(t))return!1;if(jH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HH=new Ro(3e4,6e4);function GA(){let n=ir().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qH(n){return new Promise((e,t)=>{var r,i,o;function s(){GA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GA(),t(Ao(n,"network-request-failed"))},timeout:HH.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ir().gapi)===null||o===void 0)&&o.load)s();else{let a=gR("iframefcb");return ir()[a]=()=>{gapi.load?s():t(Ao(n,"network-request-failed"))},pR(`${Y$()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Bh=null,e})}var Bh=null;function zH(n){return Bh=Bh||qH(n),Bh}var WH=new Ro(5e3,15e3),GH="__/auth/iframe",KH="emulator/auth/iframe",QH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZH(n){let e=n.config;Z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?b_(e,KH):`https://${n.config.authDomain}/${GH}`,r={apiKey:e.apiKey,appName:n.name,v:Ai},i=YH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kc(r).slice(1)}`}function JH(n){return v(this,null,function*(){let e=yield zH(n),t=ir().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:ZH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QH,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ao(n,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},WH.get());function u(){ir().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var XH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eq=500,tq=600,nq="_blank",rq="http://localhost",Xh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iq(n,e,t,r=eq,i=tq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},XH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ht().toLowerCase();t&&(a=aR(l)?nq:t),oR(l)&&(e=e||rq,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,C])=>`${y}${m}=${C},`,"");if(q$(l)&&a!=="_self")return oq(e||"",a),new Xh(null);let p=window.open(e||"",a,h);Z(p,n,"popup-blocked");try{p.focus()}catch{}return new Xh(p)}function oq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var sq="__/auth/handler",aq="emulator/auth/handler",cq=encodeURIComponent("fac");function KA(n,e,t,r,i,o){return v(this,null,function*(){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ai,eventId:i};if(e instanceof Qh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",cA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof p_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${cq}=${encodeURIComponent(u)}`:"";return`${uq(n)}?${Kc(a).slice(1)}${l}`})}function uq({config:n}){return n.emulator?b_(n,aq):`https://${n.authDomain}/${sq}`}var t_="webStorageSupport",I_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V_,this._completeRedirectFn=OH,this._overrideRedirectResult=PH}_openPopup(e,t,r,i){return v(this,null,function*(){var o;xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield KA(e,t,r,n_(),i);return iq(e,s,DR())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield KA(e,t,r,n_(),i);return mH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(xi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield JH(e),r=new w_(e);return t.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(t_,{type:t_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[t_];s!==void 0&&t(!!s),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hR()||sR()||A_()}},RR=I_;var QA="@firebase/auth",YA="1.10.2";var E_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dq(n){wt(new Xe("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fR(n)},l=new u_(r,i,o,u);return J$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wt(new Xe("auth-internal",e=>{let t=No(e.getProvider("auth").getImmediate());return(r=>new E_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(QA,YA,lq(n)),Ce(QA,YA,"esm2017")}var hq=5*60,fq=Mv("authIdTokenMaxAge")||hq,ZA=null,pq=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fq)return;let i=t?.token;ZA!==i&&(ZA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function j_(n=rr()){let e=yn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=R_(n,{popupRedirectResolver:RR,persistence:[SR,ER,V_]}),r=Mv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=pq(o.toString());O_(t,s,()=>s(t.currentUser)),x_(t,a=>s(a))}}let i=Av("auth");return i&&M_(t,`http://${i}`),t}function gq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}K$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ao("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",gq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dq("Browser");var MR="auth",$r=class{constructor(e){return e}},lu=class{constructor(){return Gs(MR)}};var U_=new z("angularfire2.auth-instances");function rz(n,e){let t=Jc(MR,n,e);return t&&new $r(t)}function iz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $r(r)}}var oz={provide:lu,deps:[[new en,U_]]},sz={provide:$r,useFactory:rz,deps:[[new en,U_],Vr]};function NR(n,...e){return Ce("angularfire",Ri.full,"auth"),Rr([sz,oz,{provide:U_,useFactory:iz(n),multi:!0,deps:[Ee,nt,Mi,So,[new en,Ks],...e]}])}var PR=lt(P_,!0,2);var kR=lt(j_,!0);var xR=lt(F_,!0);var OR=lt(k_,!0,2);var FR=lt(L_,!0,2);var VR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jR={};var Hr,B_;(function(){var n;function e(D,_){function I(){}I.prototype=_.prototype,D.D=_.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(E,b,S){for(var w=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)w[gr-2]=arguments[gr];return _.prototype[b].apply(E,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,I){I||(I=0);var E=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)E[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)E[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=D.g[0],I=D.g[1],b=D.g[2];var S=D.g[3],w=_+(S^I&(b^S))+E[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+E[1]+3905402710&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+E[2]+606105819&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+E[3]+3250441966&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(S^I&(b^S))+E[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+E[5]+1200080426&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+E[6]+2821735955&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+E[7]+4249261313&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(S^I&(b^S))+E[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+E[9]+2336552879&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+E[10]+4294925233&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+E[11]+2304563134&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(S^I&(b^S))+E[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=S+(b^_&(I^b))+E[13]+4254626195&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(I^S&(_^I))+E[14]+2792965006&4294967295,b=S+(w<<17&4294967295|w>>>15),w=I+(_^b&(S^_))+E[15]+1236535329&4294967295,I=b+(w<<22&4294967295|w>>>10),w=_+(b^S&(I^b))+E[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+E[6]+3225465664&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+E[11]+643717713&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+E[0]+3921069994&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(I^b))+E[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+E[10]+38016083&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+E[15]+3634488961&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+E[4]+3889429448&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(I^b))+E[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+E[14]+3275163606&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+E[3]+4107603335&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+E[8]+1163531501&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(I^b))+E[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=S+(I^b&(_^I))+E[2]+4243563512&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^I&(S^_))+E[7]+1735328473&4294967295,b=S+(w<<14&4294967295|w>>>18),w=I+(S^_&(b^S))+E[12]+2368359562&4294967295,I=b+(w<<20&4294967295|w>>>12),w=_+(I^b^S)+E[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+E[8]+2272392833&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+E[11]+1839030562&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+E[14]+4259657740&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(I^b^S)+E[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+E[4]+1272893353&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+E[7]+4139469664&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+E[10]+3200236656&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(I^b^S)+E[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+E[0]+3936430074&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+E[3]+3572445317&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+E[6]+76029189&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(I^b^S)+E[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=S+(_^I^b)+E[12]+3873151461&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^I)+E[15]+530742520&4294967295,b=S+(w<<16&4294967295|w>>>16),w=I+(b^S^_)+E[2]+3299628645&4294967295,I=b+(w<<23&4294967295|w>>>9),w=_+(b^(I|~S))+E[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+E[7]+1126891415&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+E[14]+2878612391&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+E[5]+4237533241&4294967295,I=b+(w<<21&4294967295|w>>>11),w=_+(b^(I|~S))+E[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+E[3]+2399980690&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+E[10]+4293915773&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+E[1]+2240044497&4294967295,I=b+(w<<21&4294967295|w>>>11),w=_+(b^(I|~S))+E[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+E[15]+4264355552&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+E[6]+2734768916&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+E[13]+1309151649&4294967295,I=b+(w<<21&4294967295|w>>>11),w=_+(b^(I|~S))+E[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=S+(I^(_|~b))+E[11]+3174756917&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~I))+E[2]+718787259&4294967295,b=S+(w<<15&4294967295|w>>>17),w=I+(S^(b|~_))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var I=_-this.blockSize,E=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=I;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<_;)if(E[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,E),b=0;break}}else for(;S<_;)if(E[b++]=D[S++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var I=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=I&255,I/=256;for(this.u(D),D=Array(16),_=I=0;4>_;++_)for(var E=0;32>E;E+=8)D[I++]=this.g[_]>>>E&255;return D};function o(D,_){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=_(D)}function s(D,_){this.h=_;for(var I=[],E=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;E&&S==_||(I[b]=S,E=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var _=[],I=1,E=0;D>=I;E++)_[E]=D/I|0,I*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return N(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),E=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),w=parseInt(D.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),E=E.j(S).add(l(w))):(E=E.j(I),E=E.add(l(w)))}return E}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-N(this).m();for(var D=0,_=1,I=0;I<this.g.length;I++){var E=this.i(I);D+=(0<=E?E:4294967296+E)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(k(this))return"-"+N(this).toString(D);for(var _=l(Math.pow(D,6)),I=this,E="";;){var b=Ne(I,_).g;I=B(I,b.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,C(I))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=B(this,D),k(D)?-1:C(D)?0:1};function N(D){for(var _=D.g.length,I=[],E=0;E<_;E++)I[E]=~D.g[E];return new s(I,~D.h).add(y)}n.abs=function(){return k(this)?N(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],E=0,b=0;b<=_;b++){var S=E+(this.i(b)&65535)+(D.i(b)&65535),w=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=w>>>16,S&=65535,w&=65535,I[b]=w<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function B(D,_){return D.add(N(_))}n.j=function(D){if(C(this)||C(D))return p;if(k(this))return k(D)?N(this).j(N(D)):N(N(this).j(D));if(k(D))return N(this.j(N(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,I=[],E=0;E<2*_;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var S=this.i(E)>>>16,w=this.i(E)&65535,gr=D.i(b)>>>16,Ta=D.i(b)&65535;I[2*E+2*b]+=w*Ta,re(I,2*E+2*b),I[2*E+2*b+1]+=S*Ta,re(I,2*E+2*b+1),I[2*E+2*b+1]+=w*gr,re(I,2*E+2*b+1),I[2*E+2*b+2]+=S*gr,re(I,2*E+2*b+2)}for(E=0;E<_;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=_;E<2*_;E++)I[E]=0;return new s(I,0)};function re(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function ie(D,_){this.g=D,this.h=_}function Ne(D,_){if(C(_))throw Error("division by zero");if(C(D))return new ie(p,p);if(k(D))return _=Ne(N(D),_),new ie(N(_.g),N(_.h));if(k(_))return _=Ne(D,N(_)),new ie(N(_.g),_.h);if(30<D.g.length){if(k(D)||k(_))throw Error("slowDivide_ only works with positive integers.");for(var I=y,E=_;0>=E.l(D);)I=kt(I),E=kt(E);var b=be(I,1),S=be(E,1);for(E=be(E,2),I=be(I,2);!C(E);){var w=S.add(E);0>=w.l(D)&&(b=b.add(I),S=w),E=be(E,1),I=be(I,1)}return _=B(D,b.j(_)),new ie(b,_)}for(b=p;0<=D.l(_);){for(I=Math.max(1,Math.floor(D.m()/_.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(I),w=S.j(_);k(w)||0<w.l(D);)I-=E,S=l(I),w=S.j(_);C(S)&&(S=y),b=b.add(S),D=B(D,w)}return new ie(b,D)}n.A=function(D){return Ne(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],E=0;E<_;E++)I[E]=this.i(E)&D.i(E);return new s(I,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],E=0;E<_;E++)I[E]=this.i(E)|D.i(E);return new s(I,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],E=0;E<_;E++)I[E]=this.i(E)^D.i(E);return new s(I,this.h^D.h)};function kt(D){for(var _=D.g.length+1,I=[],E=0;E<_;E++)I[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(I,D.h)}function be(D,_){var I=_>>5;_%=32;for(var E=D.g.length-I,b=[],S=0;S<E;S++)b[S]=0<_?D.i(S+I)>>>_|D.i(S+I+1)<<32-_:D.i(S+I);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B_=jR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Hr=jR.Integer=s}).apply(typeof VR<"u"?VR:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={};var $_,az,Ys,H_,du,rf,q_,z_,W_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var L=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];return d.prototype[T].apply(g,L)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let L=0;L<A;L++)c[T+L]=g[L]}else c.push(g)}}class B{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function re(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ne(c){return Ne[" "](c),c}Ne[" "]=function(){};var kt=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function be(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Tp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class gr{constructor(){this.h=this.g=null}add(d,f){let g=Ta.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ta=new B(()=>new Rk,c=>c.reset());class Rk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ca,Sa=!1,Tp=new gr,FE=()=>{let c=a.Promise.resolve(void 0);Ca=()=>{c.then(Mk)}};var Mk=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ta;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Sa=!1};function ti(){this.s=this.s,this.C=this.C}ti.prototype.s=!1,ti.prototype.ma=function(){this.s||(this.s=!0,this.N())},ti.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var Nk=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Aa(c,d){if(Et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(kt){e:{try{Ne(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Aa.aa.h.call(this)}}C(Aa,Et);var Pk={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ra="closure_listenable_"+(1e6*Math.random()|0),kk=0;function xk(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++kk,this.da=this.fa=!1}function qu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zu(c){this.src=c,this.g={},this.h=0}zu.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=Sp(c,d,g,T);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new xk(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function Cp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(qu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Sp(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var Ap="closure_lm_"+(1e6*Math.random()|0),Rp={};function LE(c,d,f,g,T){if(g&&g.once)return jE(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)LE(c,d[A],f,g,T);return null}return f=kp(f),c&&c[Ra]?c.K(d,f,l(g)?!!g.capture:!!g,T):VE(c,d,f,!1,g,T)}function VE(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var L=l(T)?!!T.capture:!!T,Se=Np(c);if(Se||(c[Ap]=Se=new zu(c)),f=Se.add(d,f,g,L,A),f.proxy)return f;if(g=Ok(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Nk||(T=L),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(BE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ok(){function c(f){return d.call(c.src,c.listener,f)}let d=Fk;return c}function jE(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)jE(c,d[A],f,g,T);return null}return f=kp(f),c&&c[Ra]?c.L(d,f,l(g)?!!g.capture:!!g,T):VE(c,d,f,!0,g,T)}function UE(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)UE(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=kp(f),c&&c[Ra]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Sp(A,f,g,T),-1<f&&(qu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Np(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Sp(d,f,g,T)),(f=-1<c?d[c]:null)&&Mp(f))}function Mp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ra])Cp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(BE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Np(d))?(Cp(f,c),f.h==0&&(f.src=null,d[Ap]=null)):qu(c)}}}function BE(c){return c in Rp?Rp[c]:Rp[c]="on"+c}function Fk(c,d){if(c.da)c=!0;else{d=new Aa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Mp(c),c=f.call(g,d)}return c}function Np(c){return c=c[Ap],c instanceof zu?c:null}var Pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function kp(c){return typeof c=="function"?c:(c[Pp]||(c[Pp]=function(d){return c.handleEvent(d)}),c[Pp])}function Dt(){ti.call(this),this.i=new zu(this),this.M=this,this.F=null}C(Dt,ti),Dt.prototype[Ra]=!0,Dt.prototype.removeEventListener=function(c,d,f,g){UE(this,c,d,f,g)};function xt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Et(d,c);else if(d instanceof Et)d.target=d.target||c;else{var T=d;d=new Et(g,c),E(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];T=Wu(L,g,!0,d)&&T}if(L=d.g=c,T=Wu(L,g,!0,d)&&T,T=Wu(L,g,!1,d)&&T,f)for(A=0;A<f.length;A++)L=d.g=f[A],T=Wu(L,g,!1,d)&&T}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)qu(f[g]);delete c.g[d],c.h--}}this.F=null},Dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Wu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var Se=L.listener,gt=L.ha||L.src;L.fa&&Cp(c.i,L),T=Se.call(gt,g)!==!1&&T}}return T&&!g.defaultPrevented}function $E(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function HE(c){c.g=$E(()=>{c.g=null,c.i&&(c.i=!1,HE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Lk extends ti{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:HE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(c){ti.call(this),this.h=c,this.g={}}C(Ma,ti);var qE=[];function zE(c){be(c.g,function(d,f){this.g.hasOwnProperty(f)&&Mp(d)},c),c.g={}}Ma.prototype.N=function(){Ma.aa.N.call(this),zE(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xp=a.JSON.stringify,Vk=a.JSON.parse,jk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Op(){}Op.prototype.h=null;function WE(c){return c.h||(c.h=c.i())}function GE(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fp(){Et.call(this,"d")}C(Fp,Et);function Lp(){Et.call(this,"c")}C(Lp,Et);var zi={},KE=null;function Gu(){return KE=KE||new Dt}zi.La="serverreachability";function QE(c){Et.call(this,zi.La,c)}C(QE,Et);function Pa(c){let d=Gu();xt(d,new QE(d))}zi.STAT_EVENT="statevent";function YE(c,d){Et.call(this,zi.STAT_EVENT,c),this.stat=d}C(YE,Et);function Ot(c){let d=Gu();xt(d,new YE(d,c))}zi.Ma="timingevent";function ZE(c,d){Et.call(this,zi.Ma,c),this.size=d}C(ZE,Et);function ka(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function xa(){this.g=!0}xa.prototype.xa=function(){this.g=!1};function Uk(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var L="",Se=A.split("&"),gt=0;gt<Se.length;gt++){var ve=Se[gt].split("=");if(1<ve.length){var bt=ve[0];ve=ve[1];var Tt=bt.split("_");L=2<=Tt.length&&Tt[1]=="type"?L+(bt+"="+ve+"&"):L+(bt+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function Bk(c,d,f,g,T,A,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+L})}function Ko(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Hk(c,f)+(g?" "+g:"")})}function $k(c,d){c.info(function(){return"TIMEOUT: "+d})}xa.prototype.info=function(){};function Hk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return xp(f)}catch{return d}}var Ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},JE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vp;function Qu(){}C(Qu,Op),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},Vp=new Qu;function ni(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new XE}function XE(){this.i=null,this.g="",this.h=!1}var eD={},jp={};function Up(c,d,f){c.L=1,c.v=Xu(mr(d)),c.m=f,c.P=!0,tD(c,null)}function tD(c,d){c.F=Date.now(),Yu(c),c.A=mr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),gD(f.i,"t",g),c.C=0,f=c.j.J,c.h=new XE,c.g=kD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Lk(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(qE[0]=T.toString()),T=qE);for(var A=0;A<T.length;A++){var L=LE(f,T[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Pa(),Uk(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;let d=this.M;d&&yr(c)==3?d.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{let Tt=yr(this.g);var d=this.g.Ba();let Zo=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||ED(this.g)))){this.J||Tt!=4||d==7||(d==8||0>=Zo?Pa(3):Pa(2)),Bp(this);var f=this.g.Z();this.X=f;t:if(nD(this)){var g=ED(this.g);c="";var T=g.length,A=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wi(this),Oa(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,Bk(this.i,this.u,this.A,this.l,this.R,Tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,gt=this.g;if((Se=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Se)){var ve=Se;break t}}ve=null}if(f=ve)Ko(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$p(this,f);else{this.o=!1,this.s=3,Ot(12),Wi(this),Oa(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<L.length;)if(wn=qk(this,L),wn==jp){Tt==4&&(this.s=4,Ot(14),f=!1),Ko(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==eD){this.s=4,Ot(15),Ko(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Ko(this.i,this.l,wn,null),$p(this,wn);if(nD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||L.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)Ko(this.i,this.l,L,"[Invalid Chunked Response]"),Wi(this),Oa(this);else if(0<L.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Kp(bt),bt.M=!0,Ot(11))}}else Ko(this.i,this.l,L,null),$p(this,L);Tt==4&&Wi(this),this.o&&!this.J&&(Tt==4?RD(this.j,this):(this.o=!1,Yu(this)))}else ax(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Wi(this),Oa(this)}}}catch{}finally{}};function nD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qk(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?jp:(f=Number(d.substring(f,g)),isNaN(f)?eD:(g+=1,g+f>d.length?jp:(d=d.slice(g,g+f),c.C=g+f,d)))}ni.prototype.cancel=function(){this.J=!0,Wi(this)};function Yu(c){c.S=Date.now()+c.I,rD(c,c.I)}function rD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ka(y(c.ba,c),d)}function Bp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?($k(this.i,this.A),this.L!=2&&(Pa(),Ot(17)),Wi(this),this.s=2,Oa(this)):rD(this,this.S-c)};function Oa(c){c.j.G==0||c.J||RD(c.j,c)}function Wi(c){Bp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,zE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function $p(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Hp(f.h,c))){if(!c.K&&Hp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)il(f),nl(f);else break e;Gp(f),Ot(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ka(y(f.Za,f),6e3));if(1>=sD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((c.K||f.g==c)&&il(f),!re(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let ve=T[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let bt=ve[3];bt!=null&&(f.la=bt,f.j.info("VER="+f.la));let Tt=ve[4];Tt!=null&&(f.Aa=Tt,f.j.info("SVER="+f.Aa));let Zo=ve[5];Zo!=null&&typeof Zo=="number"&&0<Zo&&(g=1.5*Zo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let wn=c.g;if(wn){let sl=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var A=g.h;A.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(qp(A,A.h),A.h=null))}if(g.D){let Qp=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qp&&(g.ya=Qp,Pe(g.I,g.D,Qp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=PD(g,g.J?g.ia:null,g.W),L.K){aD(g.h,L);var Se=L,gt=g.L;gt&&(Se.I=gt),Se.B&&(Bp(Se),Yu(Se)),g.g=L}else SD(g);0<f.i.length&&rl(f)}else ve[0]!="stop"&&ve[0]!="close"||Ki(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ki(f,7):Wp(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Pa(4)}catch{}}var zk=class{constructor(c,d){this.g=c,this.map=d}};function iD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sD(c){return c.h?1:c.g?c.g.size:0}function Hp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function qp(c,d){c.g?c.g.add(d):c.h=d}function aD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iD.prototype.cancel=function(){if(this.i=cD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function Wk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Gk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function uD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Gk(c),g=Wk(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var lD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gi){this.h=c.h,Zu(this,c.j),this.o=c.o,this.g=c.g,Ju(this,c.s),this.l=c.l;var d=c.i,f=new Va;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),dD(this,f),this.m=c.m}else c&&(d=String(c).match(lD))?(this.h=!1,Zu(this,d[1]||"",!0),this.o=Fa(d[2]||""),this.g=Fa(d[3]||"",!0),Ju(this,d[4]),this.l=Fa(d[5]||"",!0),dD(this,d[6]||"",!0),this.m=Fa(d[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}Gi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(La(d,hD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(La(d,hD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(La(f,f.charAt(0)=="/"?Zk:Yk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",La(f,Xk)),c.join("")};function mr(c){return new Gi(c)}function Zu(c,d,f){c.j=f?Fa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ju(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dD(c,d,f){d instanceof Va?(c.i=d,ex(c.i,c.h)):(f||(d=La(d,Jk)),c.i=new Va(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function Xu(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Qk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hD=/[#\/\?@]/g,Yk=/[#\?:]/g,Zk=/[#\?]/g,Jk=/[#\?@]/g,Xk=/#/g;function Va(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ri(c){c.g||(c.g=new Map,c.h=0,c.i&&Kk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Va.prototype,n.add=function(c,d){ri(this),this.i=null,c=Qo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fD(c,d){ri(c),d=Qo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pD(c,d){return ri(c),d=Qo(c,d),c.g.has(d)}n.forEach=function(c,d){ri(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){ri(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},n.V=function(c){ri(this);let d=[];if(typeof c=="string")pD(this,c)&&(d=d.concat(this.g.get(Qo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return ri(this),this.i=null,c=Qo(this,c),pD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gD(c,d,f){fD(c,d),0<f.length&&(c.i=null,c.g.set(Qo(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var T=A;L[g]!==""&&(T+="="+encodeURIComponent(String(L[g]))),c.push(T)}}return this.i=c.join("&")};function Qo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ex(c,d){d&&!c.j&&(ri(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(fD(this,g),gD(this,T,f))},c)),c.j=d}function tx(c,d){let f=new xa;if(a.Image){let g=new Image;g.onload=m(ii,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(ii,f,"TestLoadImage: error",!1,d,g),g.onabort=m(ii,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(ii,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function nx(c,d){let f=new xa,g=new AbortController,T=setTimeout(()=>{g.abort(),ii(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?ii(f,"TestPingServer: ok",!0,d):ii(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ii(f,"TestPingServer: error",!1,d)})}function ii(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function rx(){this.g=new jk}function ix(c,d,f){let g=f||"";try{uD(c,function(T,A){let L=T;l(T)&&(L=xp(T)),d.push(g+A+"="+encodeURIComponent(L))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ja(c){this.l=c.Ub||null,this.j=c.eb||!1}C(ja,Op),ja.prototype.g=function(){return new el(this.l,this.j)},ja.prototype.i=function(c){return function(){return c}}({});function el(c,d){Dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(el,Dt),n=el.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ba(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ua(this):Ba(this),this.readyState==3&&mD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ua(this))},n.Qa=function(c){this.g&&(this.response=c,Ua(this))},n.ga=function(){this.g&&Ua(this)};function Ua(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ba(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ba(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yD(c){let d="";return be(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function zp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=yD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function $e(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C($e,Dt);var ox=/^https?$/i,sx=["POST","PUT"];n=$e.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vp.g(),this.v=this.o?WE(this.o):WE(Vp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){vD(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sx,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ID(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){vD(this,A)}};function vD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_D(c),tl(c)}function _D(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),tl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tl(this,!0)),$e.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wD(this):this.bb())},n.bb=function(){wD(this)};function wD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||yr(c)!=4||c.Z()!=2)){if(c.u&&yr(c)==4)$E(c.Ea,0,c);else if(xt(c,"readystatechange"),yr(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var T=String(c.D).match(lD)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!ox.test(T?T.toLowerCase():"")}f=g}if(f)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var A=2<yr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",_D(c)}}finally{tl(c)}}}}function tl(c,d){if(c.g){ID(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||xt(c,"ready");try{f.onreadystatechange=g}catch{}}}function ID(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Vk(d)}};function ED(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ax(c){let d={};c=(c.g&&2<=yr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(re(c[g]))continue;var f=b(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function DD(c){this.Aa=0,this.i=[],this.j=new xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,c),this.cb=$a("retryDelaySeedMs",1e4,c),this.Wa=$a("forwardChannelMaxRetries",2,c),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iD(c&&c.concurrentRequestLimit),this.Da=new rx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=DD.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Ot(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=PD(this,null,this.W),rl(this)};function Wp(c){if(bD(c),c.G==3){var d=c.U++,f=mr(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),Ha(c,f),d=new ni(c,c.j,d),d.L=2,d.v=Xu(mr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=kD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Yu(d)}ND(c)}function nl(c){c.g&&(Kp(c),c.g.cancel(),c.g=null)}function bD(c){nl(c),c.u&&(a.clearTimeout(c.u),c.u=null),il(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function rl(c){if(!oD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ca||FE(),Sa||(Ca(),Sa=!0),Tp.add(d,c),c.B=0}}function cx(c,d){return sD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ka(y(c.Ga,c,d),MD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new ni(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=CD(this,T,d),f=mr(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),Ha(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(yD(A)))+"&"+d:this.m&&zp(f,this.m,A)),qp(this.h,T),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),T.T=!0,Up(T,f,null)):Up(T,f,d),this.G=2}}else this.G==3&&(c?TD(this,c):this.i.length==0||oD(this.h)||TD(this))};function TD(c,d){var f;d?f=d.l:f=c.U++;let g=mr(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),Ha(c,g),c.m&&c.o&&zp(g,c.m,c.o),f=new ni(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=CD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qp(c.h,f),Up(f,g,d)}function Ha(c,d){c.H&&be(c.H,function(f,g){Pe(d,g,f)}),c.l&&uD({},function(f,g){Pe(d,g,f)})}function CD(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=T[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Se=!0;for(let gt=0;gt<f;gt++){let ve=T[gt].g,bt=T[gt].map;if(ve-=A,0>ve)A=Math.max(0,T[gt].g-100),Se=!1;else try{ix(bt,L,"req"+ve+"_")}catch{g&&g(bt)}}if(Se){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function SD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ca||FE(),Sa||(Ca(),Sa=!0),Tp.add(d,c),c.v=0}}function Gp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ka(y(c.Fa,c),MD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,AD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ka(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),nl(this),AD(this))};function Kp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function AD(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=mr(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),Ha(c,d),c.m&&c.o&&zp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Xu(mr(d)),f.m=null,f.P=!0,tD(f,c)}n.Za=function(){this.C!=null&&(this.C=null,nl(this),Gp(this),Ot(19))};function il(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function RD(c,d){var f=null;if(c.g==d){il(c),Kp(c),c.g=null;var g=2}else if(Hp(c.h,d))f=d.D,aD(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Gu(),xt(g,new ZE(g,f)),rl(c)}else SD(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&cx(c,d)||g==2&&Gp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function MD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ki(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let T=!g;g=new Gi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zu(g,"https"),Xu(g),T?tx(g.toString(),f):nx(g.toString(),f)}else Ot(2);c.G=0,c.l&&c.l.sa(d),ND(c),bD(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ND(c){if(c.G=0,c.ka=[],c.l){let d=cD(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function PD(c,d,f){var g=f instanceof Gi?mr(f):new Gi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ju(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new Gi(null);g&&Zu(A,g),d&&(A.g=d),T&&Ju(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),Ha(c,g),g}function kD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new $e(new ja({eb:f})):new $e(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xD(){}n=xD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ol(){}ol.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){Dt.call(this),this.g=new DD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!re(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!re(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yo(this)}C(Zt,Dt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Wp(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=xp(c),c=f);d.i.push(new zk(d.Ya++,c)),d.G==3&&rl(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Wp(this.g),delete this.g,Zt.aa.N.call(this)};function OD(c){Fp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(OD,Fp);function FD(){Lp.call(this),this.status=1}C(FD,Lp);function Yo(c){this.g=c}C(Yo,xD),Yo.prototype.ua=function(){xt(this.g,"a")},Yo.prototype.ta=function(c){xt(this.g,new OD(c))},Yo.prototype.sa=function(c){xt(this.g,new FD)},Yo.prototype.ra=function(){xt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,W_=qr.createWebChannelTransport=function(){return new ol},z_=qr.getStatEventTarget=function(){return Gu()},q_=qr.Event=zi,rf=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,du=qr.ErrorCode=Ku,JE.COMPLETE="complete",H_=qr.EventType=JE,GE.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Ys=qr.WebChannel=GE,az=qr.FetchXmlHttpFactory=ja,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,$_=qr.XhrIo=$e}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});var UR="@firebase/firestore",BR="4.7.12";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var va="11.7.0";var Oo=new mn("@firebase/firestore");function Zs(){return Oo.logLevel}function U(n,...e){if(Oo.logLevel<=he.DEBUG){let t=e.map(FI);Oo.debug(`Firestore (${va}): ${n}`,...t)}}function Gr(n,...e){if(Oo.logLevel<=he.ERROR){let t=e.map(FI);Oo.error(`Firestore (${va}): ${n}`,...t)}}function ia(n,...e){if(Oo.logLevel<=he.WARN){let t=e.map(FI);Oo.warn(`Firestore (${va}): ${n}`,...t)}}function FI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,xM(n,r,t)}function xM(n,e,t){let r=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gr(r),new Error(r)}function De(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||xM(e,i,r)}function X(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends _t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var df=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Z_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ft.UNAUTHENTICATED))}shutdown(){}},J_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},X_=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new df(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new ft(e)}},ew=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},tw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ew(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){De(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function cz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function OM(){return new TextEncoder}var ff=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=cz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ue(n,e){return n<e?-1:n>e?1:0}function rw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ue(r,i);{let o=OM(),s=uz(o.encode($R(n,t)),o.encode($R(e,t)));return s!==0?s:ue(r,i)}}t+=r>65535?2:1}return ue(n.length,e.length)}function $R(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uz(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ue(n[t],e[t]);return ue(n.length,e.length)}function oa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var HR=-62135596800,qR=1e6,It=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HR)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qR}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-HR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new It(0,0))}static max(){return new n(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zR="__name__",pf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ue(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):rw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}},Be=class n extends pf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},lz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=class n extends pf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return lz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zR}static keyField(){return new n([zR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Be.fromString(e))}static fromName(e){return new n(Be.fromString(e).popFirst(5))}static empty(){return new n(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Be(e.slice()))}};var yu=-1,iw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};iw.UNKNOWN_ID=-1;function dz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new Fo(i,K.empty(),e)}function hz(n){return new Fo(n.readTime,n.key,yu)}var Fo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),K.empty(),yu)}static max(){return new n(te.max(),K.empty(),yu)}};function fz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:ue(n.largestBatchId,e.largestBatchId))}var pz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ow=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _a(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==pz)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function gz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}var LI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),VI=-1;function zf(n){return n==null}function vu(n){return n===0&&1/n==-1/0}function mz(n){return typeof n=="number"&&Number.isInteger(n)&&!vu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var FM="";function yz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WR(e)),e=vz(n.get(t),e);return WR(e)}function vz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case FM:t+="";break;default:t+=o}}return t}function WR(n){return n+FM+""}var _z="remoteDocuments",LM="owner";var VM="mutationQueues";var jM="mutations";var UM="documentMutations",wz="remoteDocumentsV14";var BM="remoteDocumentGlobal";var $M="targets";var HM="targetDocuments";var qM="targetGlobal",zM="collectionParents";var WM="clientMetadata";var GM="bundles";var KM="namedQueries";var Iz="indexConfiguration";var Ez="indexState";var Dz="indexEntries";var QM="documentOverlays";var bz="globals";var Tz=[VM,jM,UM,_z,$M,LM,qM,HM,WM,BM,zM,GM,KM],cte=[...Tz,QM],Cz=[VM,jM,UM,wz,$M,LM,qM,HM,WM,BM,zM,GM,KM,QM],Sz=Cz,Az=[...Sz,Iz,Ez,Dz];var ute=[...Az,bz];function GR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $o(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||ar.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ta(this.root,e,this.comparator,!0)}},ta=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ar=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gf(this.data.getIterator())}getIteratorFrom(e){return new gf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},gf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sr=class n{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new n([])}unionWith(e){let t=new pt(on.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var mf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Nt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Nt.EMPTY_BYTE_STRING=new Nt("");var Rz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(De(!!n,39018),typeof n=="string"){let e=0,t=Rz.exec(n);if(De(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qr(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}var ZM="server_timestamp",JM="__type__",XM="__previous_value__",eN="__local_write_time__";function jI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JM])===null||t===void 0?void 0:t.stringValue)===ZM}function Wf(n){let e=n.mapValue.fields[XM];return jI(e)?Wf(e):e}function _u(n){let e=Kr(n.mapValue.fields[eN].timestampValue);return new It(e.seconds,e.nanos)}var sw=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},yf="(default)",vf=class n{constructor(e,t){this.projectId=e,this.database=t||yf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var UI="__type__",tN="__max__",of={mapValue:{fields:{__type__:{stringValue:tN}}}},BI="__vector__",sa="value";function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jI(n)?4:rN(n)?9007199254740991:nN(n)?10:11:Y(28295,{value:n})}function lr(n,e){if(n===e)return!0;let t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _u(n).isEqual(_u(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Qr(i.bytesValue).isEqual(Qr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?vu(s)===vu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GR(s)!==GR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!lr(s[u],a[u])))return!1;return!0}(n,e);default:return Y(52216,{left:n})}}function wu(n,e){return(n.values||[]).find(t=>lr(t,e))!==void 0}function aa(n,e){if(n===e)return 0;let t=ji(n),r=ji(e);if(t!==r)return ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return KR(n.timestampValue,e.timestampValue);case 4:return KR(_u(n),_u(e));case 5:return rw(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Qr(o),u=Qr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ue(a[l],u[l]);if(h!==0)return h}return ue(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ue(Oe(o.latitude),Oe(s.latitude));return a!==0?a:ue(Oe(o.longitude),Oe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[sa])===null||a===void 0?void 0:a.arrayValue,C=(u=y[sa])===null||u===void 0?void 0:u.arrayValue,k=ue(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:QR(m,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===of.mapValue&&s===of.mapValue)return 0;if(o===of.mapValue)return 1;if(s===of.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=rw(u[p],h[p]);if(y!==0)return y;let m=aa(a[u[p]],l[h[p]]);if(m!==0)return m}return ue(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Y(23264,{Pe:t})}}function KR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ue(n,e);let t=Kr(n),r=Kr(e),i=ue(t.seconds,r.seconds);return i!==0?i:ue(t.nanos,r.nanos)}function QR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=aa(t[i],r[i]);if(o)return o}return ue(t.length,r.length)}function ca(n){return aw(n)}function aw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Kr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=aw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${aw(t.fields[s])}`;return i+"}"}(n.mapValue):Y(61005,{value:n})}function cf(n){switch(ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Wf(n);return e?16+cf(e):16;case 5:return 2*n.stringValue.length;case 6:return Qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+cf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return $o(r.fields,(o,s)=>{i+=o.length+cf(s)}),i}(n.mapValue);default:throw Y(13486,{value:n})}}function YR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cw(n){return!!n&&"integerValue"in n}function $I(n){return!!n&&"arrayValue"in n}function ZR(n){return!!n&&"nullValue"in n}function JR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uf(n){return!!n&&"mapValue"in n}function nN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[UI])===null||t===void 0?void 0:t.stringValue)===BI}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $o(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tN}var dte={mapValue:{fields:{[UI]:{stringValue:BI},[sa]:{arrayValue:{}}}}};var Nn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=fu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$o(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(fu(this.value))}};function iN(n){let e=[];return $o(n.fields,(t,r)=>{let i=new on([t]);if(uf(r)){let o=iN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sr(e)}var Pn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ua=class{constructor(e,t){this.position=e,this.inclusive=t}};function XR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=aa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lr(n.position[t],e.position[t]))return!1;return!0}var la=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Mz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var _f=class{},ot=class n extends _f{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lw(e,t,r):t==="array-contains"?new fw(e,r):t==="in"?new pw(e,r):t==="not-in"?new gw(e,r):t==="array-contains-any"?new mw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dw(e,r):new hw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(aa(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class n extends _f{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return oN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function oN(n){return n.op==="and"}function sN(n){return Nz(n)&&oN(n)}function Nz(n){for(let e of n.filters)if(e instanceof kn)return!1;return!0}function uw(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(sN(n))return n.filters.map(e=>uw(e)).join(",");{let e=n.filters.map(t=>uw(t)).join(",");return`${n.op}(${e})`}}function aN(n,e){return n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(n,e):n instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aN(s,i.filters[a]),!0):!1}(n,e):void Y(19439)}function cN(n){return n instanceof ot?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof kn?function(t){return t.op.toString()+" {"+t.getFilters().map(cN).join(" ,")+"}"}(n):"Filter"}var lw=class extends ot{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},dw=class extends ot{constructor(e,t){super(e,"in",t),this.keys=uN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hw=class extends ot{constructor(e,t){super(e,"not-in",t),this.keys=uN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function uN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var fw=class extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $I(t)&&wu(t.arrayValue,this.value)}},pw=class extends ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}},gw=class extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}},mw=class extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$I(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}};var yw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function tM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new yw(n,e,t,r,i,o,s)}function HI(n){let e=X(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>uw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ca(r)).join(",")),e.Ie=t}return e.Ie}function qI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eM(n.startAt,e.startAt)&&eM(n.endAt,e.endAt)}function vw(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Lo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Pz(n,e,t,r,i,o,s,a){return new Lo(n,e,t,r,i,o,s,a)}function zI(n){return new Lo(n)}function nM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lN(n){return n.collectionGroup!==null}function pu(n){let e=X(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(on.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new la(o,r))}),t.has(on.keyField().canonicalString())||e.Ee.push(new la(on.keyField(),r))}return e.Ee}function cr(n){let e=X(n);return e.de||(e.de=kz(e,pu(n))),e.de}function kz(n,e){if(n.limitType==="F")return tM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new la(i.field,o)});let t=n.endAt?new ua(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ua(n.startAt.position,n.startAt.inclusive):null;return tM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _w(n,e){let t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ww(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gf(n,e){return qI(cr(n),cr(e))&&n.limitType===e.limitType}function dN(n){return`${HI(cr(n))}|lt:${n.limitType}`}function Js(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cN(i)).join(", ")}]`),zf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ca(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ca(i)).join(",")),`Target(${r})`}(cr(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of pu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=XR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,pu(r),i)||r.endAt&&!function(s,a,u){let l=XR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,pu(r),i))}(n,e)}function xz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hN(n){return(e,t)=>{let r=!1;for(let i of pu(n)){let o=Oz(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Oz(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?aa(u,l):Y(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var Yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YM(this.inner)}size(){return this.innerSize}};var Fz=new Ke(K.comparator);function Zr(){return Fz}var fN=new Ke(K.comparator);function hu(...n){let e=fN;for(let t of n)e=e.insert(t.key,t);return e}function pN(n){let e=fN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Po(){return gu()}function gN(){return gu()}function gu(){return new Yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Lz=new Ke(K.comparator),Vz=new pt(K.comparator);function ge(...n){let e=Vz;for(let t of n)e=e.add(t);return e}var jz=new pt(ue);function Uz(){return jz}function WI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function mN(n){return{integerValue:""+n}}function Bz(n,e){return mz(e)?mN(e):WI(n,e)}var da=class{constructor(){this._=void 0}};function $z(n,e,t){return n instanceof ha?function(i,o){let s={fields:{[JM]:{stringValue:ZM},[eN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jI(o)&&(o=Wf(o)),o&&(s.fields[XM]=o),{mapValue:s}}(t,e):n instanceof Vo?vN(n,e):n instanceof jo?_N(n,e):function(i,o){let s=yN(i,o),a=rM(s)+rM(i.Re);return cw(s)&&cw(i.Re)?mN(a):WI(i.serializer,a)}(n,e)}function Hz(n,e,t){return n instanceof Vo?vN(n,e):n instanceof jo?_N(n,e):t}function yN(n,e){return n instanceof fa?function(r){return cw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ha=class extends da{},Vo=class extends da{constructor(e){super(),this.elements=e}};function vN(n,e){let t=wN(e);for(let r of n.elements)t.some(i=>lr(i,r))||t.push(r);return{arrayValue:{values:t}}}var jo=class extends da{constructor(e){super(),this.elements=e}};function _N(n,e){let t=wN(e);for(let r of n.elements)t=t.filter(i=>!lr(i,r));return{arrayValue:{values:t}}}var fa=class extends da{constructor(e,t){super(),this.serializer=e,this.Re=t}};function rM(n){return Oe(n.integerValue||n.doubleValue)}function wN(n){return $I(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function qz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Vo&&i instanceof Vo||r instanceof jo&&i instanceof jo?oa(r.elements,i.elements,lr):r instanceof fa&&i instanceof fa?lr(r.Re,i.Re):r instanceof ha&&i instanceof ha}(n.transform,e.transform)}var Iw=class{constructor(e,t){this.version=e,this.transformResults=t}},Wr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var pa=class{};function IN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Iu(n.key,Wr.none()):new Uo(n.key,n.data,Wr.none());{let t=n.data,r=Nn.empty(),i=new pt(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jr(n.key,r,new sr(i.toArray()),Wr.none())}}function zz(n,e,t){n instanceof Uo?function(i,o,s){let a=i.value.clone(),u=oM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Jr?function(i,o,s){if(!lf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=oM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(EN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function mu(n,e,t,r){return n instanceof Uo?function(o,s,a,u){if(!lf(o.precondition,s))return a;let l=o.value.clone(),h=sM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Jr?function(o,s,a,u){if(!lf(o.precondition,s))return a;let l=sM(o.fieldTransforms,u,s),h=s.data;return h.setAll(EN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return lf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Wz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=yN(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function iM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oa(r,i,(o,s)=>qz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Uo=class extends pa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jr=class extends pa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function EN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function oM(n,e,t){let r=new Map;De(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Hz(s,a,t[i]))}return r}function sM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,$z(o,s,e))}return r}var Iu=class extends pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ew=class extends pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Dw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=gN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=IN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,r)=>iM(t,r))&&oa(this.baseMutations,e.baseMutations,(t,r)=>iM(t,r))}},bw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Lz}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Tw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var rt,ye;function Gz(n){switch(n){case P.OK:return Y(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function DN(n){if(n===void 0)return Gr("GRPC error has no .code"),P.UNKNOWN;switch(n){case rt.OK:return P.OK;case rt.CANCELLED:return P.CANCELLED;case rt.UNKNOWN:return P.UNKNOWN;case rt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case rt.INTERNAL:return P.INTERNAL;case rt.UNAVAILABLE:return P.UNAVAILABLE;case rt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case rt.NOT_FOUND:return P.NOT_FOUND;case rt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case rt.ABORTED:return P.ABORTED;case rt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case rt.DATA_LOSS:return P.DATA_LOSS;default:return Y(39323,{code:n})}}(ye=rt||(rt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var aM=null;var Kz=new Hr([4294967295,4294967295],0);function cM(n){let e=OM().encode(n),t=new B_;return t.update(e),new Uint8Array(t.digest())}function uM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hr([t,r],0),new Hr([i,o],0)]}var Sw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ko(`Invalid padding: ${t}`);if(r<0)throw new ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ko(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Hr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Hr.fromNumber(r)));return i.compare(Kz)===1&&(i=new Hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=cM(e),[r,i]=uM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=cM(e),[r,i]=uM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ko=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Ke(ue),Zr(),ge())}},Eu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var na=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},If=class{constructor(e,t){this.targetId=e,this.Ce=t}},Ef=class{constructor(e,t,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Df=class{constructor(){this.Fe=0,this.Me=lM(),this.xe=Nt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ge(),t=ge(),r=ge();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new Eu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=lM()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,De(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Aw=class{constructor(e){this.ze=e,this.je=new Map,this.He=Zr(),this.Je=sf(),this.Ye=sf(),this.Ze=new Ke(ue)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(vw(o))if(r===0){let s=new K(o.path);this.tt(t,s,Pn.newNoDocument(s,te.min()))}else De(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}aM?.ht(function(h,p,y,m,C){var k,N,B,re,ie,Ne;let kt={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},be=p.unchangedNames;return be&&(kt.bloomFilter={applied:C===0,hashCount:(k=be?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(re=(B=(N=be?.bits)===null||N===void 0?void 0:N.bitmap)===null||B===void 0?void 0:B.length)!==null&&re!==void 0?re:0,padding:(Ne=(ie=be?.bits)===null||ie===void 0?void 0:ie.padding)!==null&&Ne!==void 0?Ne:0,mightContain:D=>{var _;return(_=m?.mightContain(D))!==null&&_!==void 0&&_}}),kt}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Qr(r).toUint8Array()}catch(u){if(u instanceof mf)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Sw(s,i,o)}catch(u){return ia(u instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&vw(a.target)){let u=new K(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Pn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ge();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new wf(e,t,this.Ze,this.He,r);return this.He=Zr(),this.Je=sf(),this.Ye=sf(),this.Ze=new Ke(ue),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Df,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new pt(ue),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new pt(ue),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Df),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function sf(){return new Ke(K.comparator)}function lM(){return new Ke(K.comparator)}var Qz={asc:"ASCENDING",desc:"DESCENDING"},Yz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zz={and:"AND",or:"OR"},Rw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Mw(n,e){return n.useProto3Json||zf(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jz(n,e){return bf(n,e.toTimestamp())}function ur(n){return De(!!n,49232),te.fromTimestamp(function(t){let r=Kr(t);return new It(r.seconds,r.nanos)}(n))}function GI(n,e){return Nw(n,e).canonicalString()}function Nw(n,e){let t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TN(n){let e=Be.fromString(n);return De(MN(e),10190,{key:e.toString()}),e}function Pw(n,e){return GI(n.databaseId,e.path)}function G_(n,e){let t=TN(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(SN(t))}function CN(n,e){return GI(n.databaseId,e)}function Xz(n){let e=TN(n);return e.length===4?Be.emptyPath():SN(e)}function kw(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SN(n){return De(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function dM(n,e,t){return{name:Pw(n,e),fields:t.value.mapValue.fields}}function e4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:DN(l.code);return new $(h,l.message||"")}(s);t=new Ef(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=G_(n,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):te.min(),a=new Nn({mapValue:{fields:r.document.fields}}),u=Pn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new na(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=G_(n,r.document),o=r.readTime?ur(r.readTime):te.min(),s=Pn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new na([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=G_(n,r.document),o=r.removedTargetIds||[];t=new na([],o,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Cw(i,o),a=r.targetId;t=new If(a,s)}}return t}function t4(n,e){let t;if(e instanceof Uo)t={update:dM(n,e.key,e.value)};else if(e instanceof Iu)t={delete:Pw(n,e.key)};else if(e instanceof Jr)t={update:dM(n,e.key,e.data),updateMask:l4(e.fieldMask)};else{if(!(e instanceof Ew))return Y(16599,{ft:e.type});t={verify:Pw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fa)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Jz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)}(n,e.precondition)),t}function n4(n,e){return n&&n.length>0?(De(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?ur(i.updateTime):ur(o);return s.isEqual(te.min())&&(s=ur(o)),new Iw(s,i.transformResults||[])}(t,e))):[]}function r4(n,e){return{documents:[CN(n,e.path)]}}function i4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CN(n,i);let o=function(l){if(l.length!==0)return RN(kn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Xs(y.field),direction:a4(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Mw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function o4(n){let e=Xz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=AN(p);return y instanceof kn&&sN(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(C){return new la(ea(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,zf(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new ua(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new ua(m,y)}(t.endAt)),Pz(e,i,s,o,a,"F",u,l)}function s4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ea(t.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ea(t.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ea(t.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ea(t.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(n):n.fieldFilter!==void 0?function(t){return ot.create(ea(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kn.create(t.compositeFilter.filters.map(r=>AN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(t.compositeFilter.op))}(n):Y(30097,{filter:n})}function a4(n){return Qz[n]}function c4(n){return Yz[n]}function u4(n){return Zz[n]}function Xs(n){return{fieldPath:n.canonicalString()}}function ea(n){return on.fromServerFormat(n.fieldPath)}function RN(n){return n instanceof ot?function(t){if(t.op==="=="){if(JR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NAN"}};if(ZR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NAN"}};if(ZR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(t.field),op:c4(t.op),value:t.value}}}(n):n instanceof kn?function(t){let r=t.getFilters().map(i=>RN(i));return r.length===1?r[0]:{compositeFilter:{op:u4(t.op),filters:r}}}(n):Y(54877,{filter:n})}function l4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Du=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),a=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xw=class{constructor(e){this.wt=e}};function d4(n){let e=o4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ww(e,e.limit,"L"):e}var Tf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),vu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Kr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Qr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?rN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):nN(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Y(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=sa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Oe(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),K.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Tf.Wt=new Tf;var Ow=class{constructor(){this.yn=new Fw}addToCollectionParentIndex(e,t){return this.yn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Fo.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Fw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pt(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Be.comparator)).toArray()}};var hte=new Uint8Array(0);var hM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NN=41943040,vn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(NN,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);var bu=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var fM="LruGarbageCollector",h4=1048576;function pM([n,e],[t,r]){let i=ue(n,t);return i===0?ue(e,r):i}var Lw=class{constructor(e){this.cr=e,this.buffer=new pt(pM),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();pM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){U(fM,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?U(fM,"Ignoring IndexedDB error during garbage collection: ",t):yield _a(t)}yield this.Ir(3e5)}))}},jw=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(LI.le);let r=new Lw(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(hM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hM):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Zs()<=he.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function f4(n,e){return new jw(n,e)}var Uw=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Bw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var $w=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&mu(r.mutation,i,sr.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Po();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=hu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Po();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Zr(),s=gu(),a=function(){return gu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Jr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),mu(h.mutation,l,h.mutation.getFieldMask(),It.now())):s.set(l.key,sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Bw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=gu(),i=new Ke((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||sr.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=gN();h.forEach(y=>{if(!o.has(y)){let m=IN(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Po()),a=yu,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:pN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=hu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=hu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,y){return new Lo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Pn.newInvalidDocument(h)))});let a=hu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&mu(h.mutation,l,sr.empty(),It.now()),Kf(t,l)&&(a=a.insert(u,l))}),a})}};var Hw=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return x.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:d4(i.bundledQuery),readTime:ur(i.readTime)}}(t)),x.resolve()}};var qw=class{constructor(){this.overlays=new Ke(K.comparator),this.Or=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Po();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Po(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Po(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Po(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Tw(t,r));let o=this.Or.get(t);o===void 0&&(o=ge(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}};var zw=class{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Tu=class{constructor(){this.Nr=new pt(it.Br),this.Lr=new pt(it.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new it(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new it(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new K(new Be([])),r=new it(t,e),i=new it(t,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new K(new Be([])),r=new it(t,e),i=new it(t,e+1),o=ge();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new it(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return K.comparator(e.key,t.key)||ue(e.Gr,t.Gr)}static kr(e,t){return ue(e.Gr,t.Gr)||K.comparator(e.key,t.key)}};var Ww=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new pt(it.Br)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Dw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new it(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?VI:this.Jn-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new it(t,0),i=new it(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pt(ue);return t.forEach(i=>{let o=new it(i,0),s=new it(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),x.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new it(new K(o),0),a=new pt(ue);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),x.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return x.forEach(t.mutations,i=>{let o=new it(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new it(t,0),i=this.zr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Gw=class{constructor(e){this.Zr=e,this.docs=function(){return new Ke(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Zr(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||fz(hz(h),r)<=0||(i.has(h.key)||Kf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}Xr(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Kw(this)}getSize(e){return x.resolve(this.size)}},Kw=class extends Uw{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var Qw=class{constructor(e){this.persistence=e,this.ei=new Yr(t=>HI(t),qI),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tu,this.targetCount=0,this.ri=bu.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),x.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new bu(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.ar(t),x.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ni.containsKey(t))}};var Cf=class{constructor(e,t){this.ii={},this.overlays={},this.si=new LI(0),this.oi=!1,this.oi=!0,this._i=new zw,this.referenceDelegate=e(this),this.ai=new Qw(this),this.indexManager=new Ow,this.remoteDocumentCache=function(i){return new Gw(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new xw(t),this.ci=new Hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new Ww(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new Yw(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return x.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},Yw=class extends ow{constructor(e){super(),this.currentSequenceNumber=e}},Zw=class n{constructor(e){this.persistence=e,this.Ti=new Tu,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw Y(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.di,r=>{let i=K.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return x.or([()=>x.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},Sf=class n{constructor(e,t){this.persistence=e,this.Ri=new Yr(r=>yz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=f4(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return x.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),x.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cf(e.data.value)),t}gr(e,t,r){return x.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Jw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Xw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eI=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return sA()?8:gz(ht())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xw;return this.fs(e,t,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,t,s,a.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Zs()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Js(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),x.resolve()):(Zs()<=he.DEBUG&&U("QueryEngine","Query:",Js(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Zs()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Js(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(t))):x.resolve())}Rs(e,t){if(nM(t))return x.resolve(null);let r=cr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ww(t,null,"F"),r=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(t,a);return this.ys(t,l,s,u.readTime)?this.Rs(e,ww(t,null,"F")):this.ws(e,l,t,u)}))})))}Vs(e,t,r,i){return nM(t)||i.isEqual(te.min())?x.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(t,o);return this.ys(t,s,r,i)?x.resolve(null):(Zs()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(t)),this.ws(e,s,t,dz(i,yu)).next(a=>a))})}ps(e,t){let r=new pt(hN(e));return t.forEach((i,o)=>{Kf(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Zs()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Js(t)),this.As.getDocumentsMatchingQuery(e,t,Fo.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var KI="LocalStore",p4=3e8,tI=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Ke(ue),this.Ds=new Yr(o=>HI(o),qI),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $w(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function g4(n,e,t,r){return new tI(n,e,t,r)}function PN(n,e){return v(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function m4(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=x.resolve();return y.forEach(C=>{m=m.next(()=>h.getEntry(u,C)).next(k=>{let N=l.docVersions.get(C);De(N!==null,48541),k.version.compareTo(N)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function kN(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function y4(n,e){let t=X(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Nt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(k,N,B){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=p4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(y,m,h)&&a.push(t.ai.updateTargetData(o,m))});let u=Zr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(v4(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(te.min())){let h=t.ai.getLastRemoteSnapshotVersion(o).next(p=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ss=i,o))}function v4(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Zr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(KI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function _4(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=VI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w4(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.ai.allocateTargetId(r).next(s=>(i=new Du(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function nI(n,e,t){return v(this,null,function*(){let r=X(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wa(s))throw s;U(KI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function gM(n,e,t){let r=X(n),i=te.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=X(u),y=p.Ds.get(h);return y!==void 0?x.resolve(p.Ss.get(y)):p.ai.getTargetData(l,h)}(r,s,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:ge())).next(a=>(I4(r,xz(e),a),{documents:a,Ns:o})))}function I4(n,e,t){let r=n.vs.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}var Af=class{constructor(){this.activeTargetIds=Uz()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rI=class{constructor(){this.So=new Af,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Af,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iI=class{vo(e){}shutdown(){}};var mM="ConnectivityMonitor",Rf=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){U(mM,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){U(mM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var af=null;function oI(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}var K_="RestConnection",E4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},sI=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===yf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){let s=oI(),a=this.$o(e,t.toUriEncodedString());U(K_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,o);let{host:l}=new URL(a),h=zs(l);return this.Ko(e,a,u,r,h).then(p=>(U(K_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ia(K_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Wo(e,t,r,i,o,s){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){let r=E4[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var aI=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var Mt="WebChannelConnection",cI=class extends sI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){let s=oI();return new Promise((a,u)=>{let l=new $_;l.setWithCredentials(!0),l.listenOnce(H_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case du.NO_ERROR:let p=l.getResponseJson();U(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case du.TIMEOUT:U(Mt,`RPC '${e}' ${s} timed out`),u(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:let y=l.getStatus();if(U(Mt,`RPC '${e}' ${s} failed with status:`,y,"response text:",l.getResponseText()),y>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let C=m?.error;if(C&&C.status&&C.message){let k=function(B){let re=B.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(re)>=0?re:P.UNKNOWN}(C.status);u(new $(k,C.message))}else u(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(P.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{U(Mt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}a_(e,t,r){let i=oI(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=W_(),a=z_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(Mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,C=new aI({Go:N=>{m?U(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(U(Mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(Mt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},zo:()=>p.close()}),k=(N,B,re)=>{N.listen(B,ie=>{try{re(ie)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return k(p,Ys.EventType.OPEN,()=>{m||(U(Mt,`RPC '${e}' stream ${i} transport opened.`),C.t_())}),k(p,Ys.EventType.CLOSE,()=>{m||(m=!0,U(Mt,`RPC '${e}' stream ${i} transport closed`),C.r_())}),k(p,Ys.EventType.ERROR,N=>{m||(m=!0,ia(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),C.r_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),k(p,Ys.EventType.MESSAGE,N=>{var B;if(!m){let re=N.data[0];De(!!re,16349);let ie=re,Ne=ie?.error||((B=ie[0])===null||B===void 0?void 0:B.error);if(Ne){U(Mt,`RPC '${e}' stream ${i} received error:`,Ne);let kt=Ne.status,be=function(I){let E=rt[I];if(E!==void 0)return DN(E)}(kt),D=Ne.message;be===void 0&&(be=P.INTERNAL,D="Unknown error status: "+kt+" with message "+Ne.message),m=!0,C.r_(new $(be,D)),p.close()}else U(Mt,`RPC '${e}' stream ${i} received:`,re),C.i_(re)}}),k(a,q_.STAT_EVENT,N=>{N.stat===rf.PROXY?U(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===rf.NOPROXY&&U(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}};function Q_(){return typeof document<"u"?document:null}function Qf(n){return new Rw(n,!0)}var Mf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var yM="PersistentStream",Nf=class{constructor(e,t,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Mf(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return v(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return v(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return v(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>v(this,null,function*(){this.state=0,this.start()}))}L_(e){return U(yM,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(U(yM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},uI=class extends Nf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=e4(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?ur(s.readTime):te.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=kw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=vw(u)?{documents:r4(o,u)}:{query:i4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bN(o,s.resumeToken);let l=Mw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());let l=Mw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=s4(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=kw(this.serializer),t.removeTarget=e,this.F_(t)}},lI=class extends Nf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=n4(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=kw(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>t4(this.serializer,r))};this.F_(t)}};var dI=class{},hI=class extends dI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,Nw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Nw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},fI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Gr(t),this.ea=!1):U("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Bo="RemoteStore",pI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Ho(this)&&(U(Bo,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=X(u);l.aa.add(4),yield Nu(l),l.la.set("Unknown"),l.aa.delete(4),yield Yf(l)})}(this))}))}),this.la=new fI(r,i)}};function Yf(n){return v(this,null,function*(){if(Ho(n))for(let e of n.ua)yield e(!0)})}function Nu(n){return v(this,null,function*(){for(let e of n.ua)yield e(!1)})}function xN(n,e){let t=X(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),JI(t)?ZI(t):Ia(t).b_()&&YI(t,e))}function QI(n,e){let t=X(n),r=Ia(t);t._a.delete(e),r.b_()&&ON(t,e),t._a.size===0&&(r.b_()?r.v_():Ho(t)&&t.la.set("Unknown"))}function YI(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ia(n).U_(e)}function ON(n,e){n.ha.Ke(e),Ia(n).K_(e)}function ZI(n){n.ha=new Aw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ia(n).start(),n.la.ta()}function JI(n){return Ho(n)&&!Ia(n).w_()&&n._a.size>0}function Ho(n){return X(n).aa.size===0}function FN(n){n.ha=void 0}function D4(n){return v(this,null,function*(){n.la.set("Online")})}function b4(n){return v(this,null,function*(){n._a.forEach((e,t)=>{YI(n,e)})})}function T4(n,e){return v(this,null,function*(){FN(n),JI(n)?(n.la.ia(e),ZI(n)):n.la.set("Unknown")})}function C4(n,e,t){return v(this,null,function*(){if(n.la.set("Online"),e instanceof Ef&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){U(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pf(n,r)}else if(e instanceof na?n.ha.Xe(e):e instanceof If?n.ha.ot(e):n.ha.nt(e),!t.isEqual(te.min()))try{let r=yield kN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),ON(o,u);let p=new Du(h.target,u,l,h.sequenceNumber);YI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U(Bo,"Failed to raise snapshot:",r),yield Pf(n,r)}})}function Pf(n,e,t){return v(this,null,function*(){if(!wa(e))throw e;n.aa.add(1),yield Nu(n),n.la.set("Offline"),t||(t=()=>kN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){U(Bo,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield Yf(n)}))})}function LN(n,e){return e().catch(t=>Pf(n,t,e))}function Zf(n){return v(this,null,function*(){let e=X(n),t=Ui(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:VI;for(;S4(e);)try{let i=yield _4(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,A4(e,i)}catch(i){yield Pf(e,i)}VN(e)&&jN(e)})}function S4(n){return Ho(n)&&n.oa.length<10}function A4(n,e){n.oa.push(e);let t=Ui(n);t.b_()&&t.W_&&t.G_(e.mutations)}function VN(n){return Ho(n)&&!Ui(n).w_()&&n.oa.length>0}function jN(n){Ui(n).start()}function R4(n){return v(this,null,function*(){Ui(n).H_()})}function M4(n){return v(this,null,function*(){let e=Ui(n);for(let t of n.oa)e.G_(t.mutations)})}function N4(n,e,t){return v(this,null,function*(){let r=n.oa.shift(),i=bw.from(r,e,t);yield LN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Zf(n)})}function P4(n,e){return v(this,null,function*(){e&&Ui(n).W_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Gz(s)&&s!==P.ABORTED}(i.code)){let o=r.oa.shift();Ui(r).D_(),yield LN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Zf(r)}})}(n,e)),VN(n)&&jN(n)})}function vM(n,e){return v(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U(Bo,"RemoteStore received new credentials");let r=Ho(t);t.aa.add(3),yield Nu(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield Yf(t)})}function k4(n,e){return v(this,null,function*(){let t=X(n);e?(t.aa.delete(2),yield Yf(t)):e||(t.aa.add(2),yield Nu(t),t.la.set("Unknown"))})}function Ia(n){return n.Pa||(n.Pa=function(t,r,i){let o=X(t);return o.Y_(),new uI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:D4.bind(null,n),Jo:b4.bind(null,n),Zo:T4.bind(null,n),Q_:C4.bind(null,n)}),n.ua.push(e=>v(this,null,function*(){e?(n.Pa.D_(),JI(n)?ZI(n):n.la.set("Unknown")):(yield n.Pa.stop(),FN(n))}))),n.Pa}function Ui(n){return n.Ta||(n.Ta=function(t,r,i){let o=X(t);return o.Y_(),new lI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:R4.bind(null,n),Zo:P4.bind(null,n),z_:M4.bind(null,n),j_:N4.bind(null,n)}),n.ua.push(e=>v(this,null,function*(){e?(n.Ta.D_(),yield Zf(n)):(yield n.Ta.stop(),n.oa.length>0&&(U(Bo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var gI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function XI(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),wa(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var kf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=hu(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var xf=class{constructor(){this.Ia=new Ke(K.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Y(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},ga=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,kf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var mI=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},yI=class{constructor(){this.queries=_M(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=_M(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function _M(){return new Yr(n=>dN(n),Gf)}function x4(n,e){return v(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new mI,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield t.onListen(i,!0);break;case 1:o.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=XI(s,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&eE(t)})}function O4(n,e){return v(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function F4(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&eE(t)}function L4(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(t);r.queries.delete(e)}function eE(n){n.fa.forEach(e=>{e.next()})}var vI,wM;(wM=vI||(vI={})).ya="default",wM.Cache="cache";var _I=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==vI.Cache}};var Of=class{constructor(e){this.key=e}},Ff=class{constructor(e){this.key=e}},wI=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ge(),this.mutatedKeys=ge(),this.Ua=hN(e),this.Ka=new kf(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new xf,i=t?t.Ka:this.Ka,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Kf(this.query,p)?p:null,C=!!y&&this.mutatedKeys.has(y.key),k=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),N=!1;y&&m?y.data.isEqual(m.data)?C!==k&&(r.track({type:3,doc:m}),N=!0):this.ja(y,m)||(r.track({type:2,doc:m}),N=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),N=!0):y&&!m&&(r.track({type:1,doc:y}),N=!0,(u||l)&&(a=!0)),N&&(m?(s=s.add(m),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,C){let k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:N})}};return k(m)-k(C)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new ga(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new xf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=ge(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Ff(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Of(r))}),t}Xa(e){this.qa=e.Ns,this.$a=ge();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ga.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},tE="SyncEngine",II=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},EI=class{constructor(e){this.key=e,this.tu=!1}},DI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Yr(a=>dN(a),Gf),this.iu=new Map,this.su=new Set,this.ou=new Ke(K.comparator),this._u=new Map,this.au=new Tu,this.uu={},this.cu=new Map,this.lu=bu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function V4(n,e,t=!0){return v(this,null,function*(){let r=zN(n),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield UN(r,e,t,!0),i})}function j4(n,e){return v(this,null,function*(){let t=zN(n);yield UN(t,e,!0,!1)})}function UN(n,e,t,r){return v(this,null,function*(){let i=yield w4(n.localStore,cr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield U4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&xN(n.remoteStore,i),a})}function U4(n,e,t,r,i){return v(this,null,function*(){n.Pu=(p,y,m)=>function(k,N,B,re){return v(this,null,function*(){let ie=N.view.Ga(B);ie.ys&&(ie=yield gM(k.localStore,N.query,!1).then(({documents:D})=>N.view.Ga(D,ie)));let Ne=re&&re.targetChanges.get(N.targetId),kt=re&&re.targetMismatches.get(N.targetId)!=null,be=N.view.applyChanges(ie,k.isPrimaryClient,Ne,kt);return EM(k,N.targetId,be.Ya),be.snapshot})}(n,p,y,m);let o=yield gM(n.localStore,e,!0),s=new wI(e,o.Ns),a=s.Ga(o.documents),u=Eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);EM(n,t,l.Ya);let h=new II(e,t,s);return n.ru.set(e,h),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),l.snapshot})}function B4(n,e,t){return v(this,null,function*(){let r=X(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!Gf(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&QI(r.remoteStore,i.targetId),bI(r,i.targetId)}).catch(_a))):(bI(r,i.targetId),yield nI(r.localStore,i.targetId,!0))})}function $4(n,e){return v(this,null,function*(){let t=X(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),QI(t.remoteStore,r.targetId))})}function H4(n,e,t){return v(this,null,function*(){let r=Y4(n);try{let i=yield function(s,a){let u=X(s),l=It.now(),h=a.reduce((m,C)=>m.add(C.key),ge()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=Zr(),k=ge();return u.Cs.getEntries(m,h).next(N=>{C=N,C.forEach((B,re)=>{re.isValidDocument()||(k=k.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,C)).next(N=>{p=N;let B=[];for(let re of a){let ie=Wz(re,p.get(re.key).overlayedDocument);ie!=null&&B.push(new Jr(re.key,ie,iN(ie.value.mapValue),Wr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,B,a)}).next(N=>{y=N;let B=N.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(m,N.batchId,B)})}).then(()=>({batchId:y.batchId,changes:pN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new Ke(ue)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Pu(r,i.changes),yield Zf(r.remoteStore)}catch(i){let o=XI(i,"Failed to persist write");t.reject(o)}})}function BN(n,e){return v(this,null,function*(){let t=X(n);try{let r=yield y4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t._u.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?De(s.tu,14607):i.removedDocuments.size>0&&(De(s.tu,42227),s.tu=!1))}),yield Pu(t,r,e)}catch(r){yield _a(r)}})}function IM(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(a)&&(l=!0)}),l&&eE(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function q4(n,e,t){return v(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Ke(K.comparator);s=s.insert(o,Pn.newNoDocument(o,te.min()));let a=ge().add(o),u=new wf(te.min(),new Map,new Ke(ue),s,a);yield BN(r,u),r.ou=r.ou.remove(o),r._u.delete(e),nE(r)}else yield nI(r.localStore,e,!1).then(()=>bI(r,e,t)).catch(_a)})}function z4(n,e){return v(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield m4(t.localStore,e);HN(t,r,null),$N(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pu(t,i)}catch(i){yield _a(i)}})}function W4(n,e,t){return v(this,null,function*(){let r=X(n);try{let i=yield function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);HN(r,e,t),$N(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pu(r,i)}catch(i){yield _a(i)}})}function $N(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function HN(n,e,t){let r=X(n),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function bI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||qN(n,r)})}function qN(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(QI(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),nE(n))}function EM(n,e,t){for(let r of t)r instanceof Of?(n.au.addReference(r.key,e),G4(n,r)):r instanceof Ff?(U(tE,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||qN(n,r.key)):Y(19791,{Iu:r})}function G4(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(U(tE,"New document in limbo: "+t),n.su.add(r),nE(n))}function nE(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new K(Be.fromString(e)),r=n.lu.next();n._u.set(r,new EI(t)),n.ou=n.ou.insert(t,r),xN(n.remoteStore,new Du(cr(zI(t.path)),r,"TargetPurposeLimboResolution",LI.le))}}function Pu(n,e,t){return v(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Jw.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return v(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>x.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!wa(p))throw p;U(KI,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),C=m.snapshotVersion,k=m.withLastLimboFreeSnapshotVersion(C);h.Ss=h.Ss.insert(y,k)}}})}(r.localStore,o))})}function K4(n,e){return v(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){U(tE,"User change. New user:",e.toKey());let r=yield PN(t.localStore,e);t.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new $(P.CANCELLED,s))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pu(t,r.Ms)}})}function Q4(n,e){let t=X(n),r=t._u.get(e);if(r&&r.tu)return ge().add(r.key);{let i=ge(),o=t.iu.get(e);if(!o)return i;for(let s of o){let a=t.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function zN(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.nu.Q_=F4.bind(null,e.eventManager),e.nu.Tu=L4.bind(null,e.eventManager),e}function Y4(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W4.bind(null,e),e}var WN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return g4(this.persistence,new eI,t.initialUser,this.serializer)}Ru(t){return new Cf(Zw.Ei,this.serializer)}Au(t){return new rI}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),TI=class extends WN{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){De(this.persistence.referenceDelegate instanceof Sf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Vw(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Cf(r=>Sf.Ei(r,t),this.serializer)}};var Z4=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>IM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),yield k4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new yI}()}createDatastore(t){let r=Qf(t.databaseInfo.databaseId),i=function(s){return new cI(s)}(t.databaseInfo);return function(s,a,u,l){return new hI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new pI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>IM(this.syncEngine,r,0),function(){return Rf.C()?new Rf:new iI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new DI(o,s,a,u,l,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=X(o);U(Bo,"RemoteStore shutting down."),s.aa.add(5),yield Nu(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var CI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Bi="FirestoreClient",SI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=ff.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){U(Bi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(Bi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=XI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Y_(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Bi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield PN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function DM(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield J4(n);U(Bi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>vM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>vM(e.remoteStore,i)),n._onlineComponents=e})}function J4(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Bi,"Using user provided OfflineComponentProvider");try{yield Y_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ia("Error using user provided cache. Falling back to memory cache: "+t),yield Y_(n,new WN)}}else U(Bi,"Using default OfflineComponentProvider"),yield Y_(n,new TI(void 0));return n._offlineComponents})}function GN(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Bi,"Using user provided OnlineComponentProvider"),yield DM(n,n._uninitializedComponentsProvider._online)):(U(Bi,"Using default OnlineComponentProvider"),yield DM(n,new Z4))),n._onlineComponents})}function X4(n){return GN(n).then(e=>e.syncEngine)}function bM(n){return v(this,null,function*(){let e=yield GN(n),t=e.eventManager;return t.onListen=V4.bind(null,e.syncEngine),t.onUnlisten=B4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$4.bind(null,e.syncEngine),t})}function KN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var TM=new Map;function QN(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eW(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CM(n){if(!K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SM(n){if(K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function Li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Jf(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var YN="firestore.googleapis.com",AM=!0,Lf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YN,this.ssl=AM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h4)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ma=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z_;switch(r.type){case"firstParty":return new tw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=TM.get(t);r&&(U("ComponentProvider","Removing Datastore"),TM.delete(t),r.terminate())}(this),Promise.resolve()}};function ZN(n,e,t,r={}){var i;n=Li(n,ma);let o=zs(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&Mh(`https://${u}`),s.host!==YN&&s.host!==u&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!gn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ft.MOCK_USER;else{h=tA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ft(y)}n._authCredentials=new J_(new df(h,p))}}var ya=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Vi=class n extends ya{constructor(e,t,r){super(e,t,zI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function JN(n,e,...t){if(n=Ge(n),QN("collection","path",e),n instanceof ma){let r=Be.fromString(e,...t);return SM(r),new Vi(n,null,r)}{if(!(n instanceof Qt||n instanceof Vi))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return SM(r),new Vi(n.firestore,null,r)}}function rE(n,e,...t){if(n=Ge(n),arguments.length===1&&(e=ff.newId()),QN("doc","path",e),n instanceof ma){let r=Be.fromString(e,...t);return CM(r),new Qt(n,null,new K(r))}{if(!(n instanceof Qt||n instanceof Vi))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return CM(r),new Qt(n.firestore,n instanceof Vi?n.converter:null,new K(r))}}var RM="AsyncQueue",Vf=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Mf(this,"async_queue_retry"),this.ju=()=>{let r=Q_();r&&U(RM,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=Q_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=Q_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new zr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return v(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wa(e))throw e;U(RM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Gr("INTERNAL UNHANDLED ERROR: ",MM(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=gI.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Y(47125,{ec:MM(this.Ku)})}verifyOperationInProgress(){}tc(){return v(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function MM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function NM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var $i=class extends ma{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vf(e),this._firestoreClient=void 0,yield e}})}};function XN(n,e){let t=typeof n=="object"?n:rr(),r=typeof n=="string"?n:e||yf,i=yn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=eA("firestore");o&&ZN(i,...o)}return i}function eP(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tW(n),n._firestoreClient}function tW(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new sw(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new SI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Cu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Nt.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Su=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var jf=class{constructor(e){this._methodName=e}};var Au=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var Ru=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var nW=/^__.*__$/,AI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uo(e,this.data,t,this.fieldTransforms)}};function tP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{oc:n})}}var RI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Uf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(tP(this.oc)&&nW.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},MI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qf(e)}dc(e,t,r,i=!1){return new RI({oc:e,methodName:t,Ec:r,path:on.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function iE(n){let e=n._freezeSettings(),t=Qf(n._databaseId);return new MI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nP(n,e,t,r,i,o={}){let s=n.dc(o.merge||o.mergeFields?2:0,e,t,i);oP("Data must be an object, but it was:",s,r);let a=rP(r,s),u,l;if(o.merge)u=new sr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=iW(e,p,t);if(!s.contains(y))throw new $(P.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);sW(h,y)||h.push(y)}u=new sr(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new AI(new Nn(a),u,l)}function rW(n,e,t,r=!1){return oE(t,n.dc(r?4:3,e))}function oE(n,e){if(iP(n=Ge(n)))return oP("Unsupported field value:",e,n),rP(n,e);if(n instanceof jf)return function(r,i){if(!tP(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=oE(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=It.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof It){let o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof Au)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cu)return{bytesValue:bN(i.serializer,r._byteString)};if(r instanceof Qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ru)return function(s,a){return{mapValue:{fields:{[UI]:{stringValue:BI},[sa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return WI(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Jf(r)}`)}(n,e)}function rP(n,e){let t={};return YM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(n,(r,i)=>{let o=oE(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function iP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Au||n instanceof Cu||n instanceof Qt||n instanceof jf||n instanceof Ru)}function oP(n,e,t){if(!iP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Jf(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function iW(n,e,t){if((e=Ge(e))instanceof Su)return e._internalPath;if(typeof e=="string")return sP(n,e);throw Uf("Field path arguments must be of type string or ",n,!1,void 0,t)}var oW=new RegExp("[~\\*/\\[\\]]");function sP(n,e,t){if(e.search(oW)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Su(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(P.INVALID_ARGUMENT,a+n+u)}function sW(n,e){return n.some(t=>t.isEqual(e))}var Bf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(sE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},NI=class extends Bf{data(){return super.data()}};function sE(n,e){return typeof e=="string"?sP(n,e):e instanceof Su?e._internalPath:e._delegate._internalPath}function aW(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mu=class{},PI=class extends Mu{};function aP(n,e,...t){let r=[];e instanceof Mu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof kI).length,a=o.filter(u=>u instanceof $f).length;if(s>1||s>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var $f=class n extends PI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return uP(e._query,t),new ya(e.firestore,e.converter,_w(e._query,t))}_parse(e){let t=iE(e.firestore);return function(o,s,a,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kM(p,h);let C=[];for(let k of p)C.push(PM(u,o,k));y={arrayValue:{values:C}}}else y=PM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kM(p,h),y=rW(a,s,p,h==="in"||h==="not-in");return ot.create(l,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function cP(n,e,t){let r=e,i=sE("where",n);return $f._create(i,r,t)}var kI=class n extends Mu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:kn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)uP(s,u),s=_w(s,u)}(e._query,t),new ya(e.firestore,e.converter,_w(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function PM(n,e,t){if(typeof(t=Ge(t))=="string"){if(t==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lN(e)&&t.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Be.fromString(t));if(!K.isDocumentKey(r))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YR(n,new K(r))}if(t instanceof Qt)return YR(n,t._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(t)}.`)}function kM(n,e){if(!Array.isArray(n)||n.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uP(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var xI=class{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return $o(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[sa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new Ru(o)}convertGeoPoint(e){return new Au(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){let t=Kr(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Be.fromString(e);De(MN(r),9688,{name:e});let i=new vf(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function lP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var xo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hf=class extends Bf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(sE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ra=class extends Hf{data(e={}){return super.data(e)}},OI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ra(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:cW(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function cW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}var qf=class extends xI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}};function dP(n,e,t){n=Li(n,Qt);let r=Li(n.firestore,$i),i=lP(n.converter,e,t);return cE(r,[nP(iE(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Wr.none())])}function hP(n){return cE(Li(n.firestore,$i),[new Iu(n._key,Wr.none())])}function fP(n,e){let t=Li(n.firestore,$i),r=rE(n),i=lP(n.converter,e);return cE(t,[nP(iE(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function aE(n,...e){var t,r,i;n=Ge(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NM(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Qt)l=Li(n.firestore,$i),h=zI(n._key.path),u={next:p=>{e[s]&&e[s](uW(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Li(n,ya);l=Li(p.firestore,$i),h=p._query;let y=new qf(l);u={next:m=>{e[s]&&e[s](new OI(l,y,p,m))},error:e[s+1],complete:e[s+2]},aW(n._query)}return function(y,m,C,k){let N=new CI(k),B=new _I(m,N,C);return y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return x4(yield bM(y),B)})),()=>{N.yu(),y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return O4(yield bM(y),B)}))}}(eP(l),h,a,u)}function cE(n,e){return function(r,i){let o=new zr;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return H4(yield X4(r),i,o)})),o.promise}(eP(n),e)}function uW(n,e,t){let r=t.docs.get(e._key),i=new qf(n);return new Hf(n,i,e._key,r,new xo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){va=i})(Ai),wt(new Xe("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $i(new X_(r.getProvider("auth-internal")),new nw(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ce(UR,BR,e),Ce(UR,BR,"esm2017")})();var Xf=function(){return Xf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xf.apply(this,arguments)};var hW={includeMetadataChanges:!1};function pP(n,e){return e===void 0&&(e=hW),new de(function(t){var r=aE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function gP(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Xf(Xf({},r),(t={},t[e.idField]=n.id,t))}function mP(n){return pP(n,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function yP(n,e){return e===void 0&&(e={}),mP(n).pipe(oe(function(t){return t.map(function(r){return gP(r,e)})}))}var xn=class{constructor(e){return e}},vP="firestore",uE=class{constructor(){return Gs(vP)}};var lE=new z("angularfire2.firestore-instances");function fW(n,e){let t=Jc(vP,n,e);return t&&new xn(t)}function pW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xn(r)}}var gW={provide:uE,deps:[[new en,lE]]},mW={provide:xn,useFactory:fW,deps:[[new en,lE],Vr]};function _P(n,...e){return Ce("angularfire",Ri.full,"fst"),Rr([mW,gW,{provide:lE,useFactory:pW(n),multi:!0,deps:[Ee,nt,Mi,So,[new en,lu],[new en,Ks],...e]}])}var wP=lt(yP,!0);var ep=lt(fP,!0,2);var ku=lt(JN,!0,2);var IP=lt(hP,!0,2);var tp=lt(rE,!0,2);var EP=lt(XN,!0);var DP=lt(aP,!0,2);var bP=lt(dP,!0,2);var TP=lt(cP,!0,2);var Pt=class n{constructor(e,t){this.auth=e;this.firestore=t;xR(this.auth,r=>{this.userSubject.next(r)})}userSubject=new at(null);user$=this.userSubject.asObservable();isLoggedIn$=this.user$.pipe(oe(e=>!!e));login(e,t){return OR(this.auth,e,t)}register(e,t){return PR(this.auth,e,t).then(r=>{let i=tp(this.firestore,`users/${r.user.uid}`);return bP(i,{email:e,createdAt:new Date})})}logout(){return FR(this.auth)}get currentUser(){return this.userSubject.value}static \u0275fac=function(t){return new(t||n)(G($r),G(xn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var np=class n{constructor(e,t){this.authService=e;this.router=t}onLogout(){this.authService.logout(),this.router.navigate(["/welcome"])}static \u0275fac=function(t){return new(t||n)(j(Pt),j(vt))};static \u0275cmp=qe({type:n,selectors:[["app-navbar"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","d-flex","justify-content-between","align-items-center"],["routerLink","/",1,"navbar-brand","me-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"d-flex","flex-wrap","align-items-center","gap-2","w-100"],[1,"d-flex","flex-wrap","gap-2","me-auto"],["routerLink","/exercise-demos","routerLinkActive","active",1,"btn","btn-outline-light"],["routerLink","/log-workout","routerLinkActive","active",1,"btn","btn-outline-light"],["routerLink","/profile","routerLinkActive","active",1,"btn","btn-outline-light"],["routerLink","/track-progress","routerLinkActive","active",1,"btn","btn-outline-light"],["routerLink","/workout-history","routerLinkActive","active",1,"btn","btn-outline-light"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){t&1&&(M(0,"nav",0)(1,"div",1)(2,"a",2),F(3,"GainsGuide"),R(),M(4,"button",3),ke(5,"span",4),R(),M(6,"div",5)(7,"div",6)(8,"div",7)(9,"a",8),F(10,"Exercise Demos"),R(),M(11,"a",9),F(12,"Log Workout"),R(),M(13,"a",10),F(14,"Profile"),R(),M(15,"a",11),F(16,"Track Progress"),R(),M(17,"a",12),F(18,"Workout History"),R()(),M(19,"button",13),Ve("click",function(){return r.onLogout()}),F(20,"Logout"),R()()()()())},dependencies:[We,Fr,tr,Iv],encapsulation:2})};function yW(n,e){n&1&&ke(0,"app-navbar")}var rp=class n{constructor(e){this.authService=e}isLoggedIn=!1;ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{this.isLoggedIn=e})}static \u0275fac=function(t){return new(t||n)(j(Pt))};static \u0275cmp=qe({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(Re(0,yW,1,0,"app-navbar",0),ke(1,"router-outlet"),F(2,`>
`)),t&2&&we("ngIf",r.isLoggedIn)},dependencies:[We,Vt,$c,np],encapsulation:2})};var OP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(j(Gn),j(Wt))};static \u0275dir=xe({type:n})}return n})(),dp=(()=>{class n extends OP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275dir=xe({type:n,features:[hn]})}return n})(),Uu=new z("");var vW={provide:Uu,useExisting:zn(()=>_n),multi:!0};function _W(){let n=pn()?pn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wW=new z(""),_n=(()=>{class n extends OP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!_W())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(j(Gn),j(Wt),j(wW,8))};static \u0275dir=xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ve("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[vi([vW]),hn]})}return n})();function IW(n){return n==null||EW(n)===0}function EW(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var gE=new z(""),FP=new z("");function DW(n){return IW(n.value)?{required:!0}:null}function CP(n){return null}function LP(n){return n!=null}function VP(n){return yi(n)?Me(n):n}function jP(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function UP(n,e){return e.map(t=>t(n))}function bW(n){return!n.validate}function BP(n){return n.map(e=>bW(e)?e:t=>e.validate(t))}function TW(n){if(!n)return null;let e=n.filter(LP);return e.length==0?null:function(t){return jP(UP(t,e))}}function mE(n){return n!=null?TW(BP(n)):null}function CW(n){if(!n)return null;let e=n.filter(LP);return e.length==0?null:function(t){let r=UP(t,e).map(VP);return Sg(r).pipe(oe(jP))}}function yE(n){return n!=null?CW(BP(n)):null}function SP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SW(n){return n._rawValidators}function AW(n){return n._rawAsyncValidators}function hE(n){return n?Array.isArray(n)?n:[n]:[]}function op(n,e){return Array.isArray(n)?n.includes(e):n===e}function AP(n,e){let t=hE(e);return hE(n).forEach(i=>{op(t,i)||t.push(i)}),t}function RP(n,e){return hE(e).filter(t=>!op(n,t))}var sp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ba=class extends sp{name;get formDirective(){return null}get path(){return null}},ju=class extends sp{_parent=null;name=null;valueAccessor=null},ap=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},RW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cre=le(V({},RW),{"[class.ng-submitted]":"isSubmitted"}),dr=(()=>{class n extends ap{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(ju,2))};static \u0275dir=xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Od("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[hn]})}return n})(),hr=(()=>{class n extends ap{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(ba,10))};static \u0275dir=xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Od("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[hn]})}return n})();var xu="VALID",ip="INVALID",Ea="PENDING",Ou="DISABLED",Hi=class{},cp=class extends Hi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Lu=class extends Hi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Vu=class extends Hi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Da=class extends Hi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},fE=class extends Hi{source;constructor(e){super(),this.source=e}},pE=class extends Hi{source;constructor(e){super(),this.source=e}};function $P(n){return(hp(n)?n.validators:n)||null}function MW(n){return Array.isArray(n)?mE(n):n||null}function HP(n,e){return(hp(e)?e.asyncValidators:n)||null}function NW(n){return Array.isArray(n)?yE(n):n||null}function hp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function PW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function kW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var up=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fn(this.statusReactive)}set status(e){fn(()=>this.statusReactive.set(e))}_status=Ns(()=>this.statusReactive());statusReactive=As(void 0);get valid(){return this.status===xu}get invalid(){return this.status===ip}get pending(){return this.status==Ea}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}errors;get pristine(){return fn(this.pristineReactive)}set pristine(e){fn(()=>this.pristineReactive.set(e))}_pristine=Ns(()=>this.pristineReactive());pristineReactive=As(!0);get dirty(){return!this.pristine}get touched(){return fn(this.touchedReactive)}set touched(e){fn(()=>this.touchedReactive.set(e))}_touched=Ns(()=>this.touchedReactive());touchedReactive=As(!1);get untouched(){return!this.touched}_events=new Qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RP(e,this._rawAsyncValidators))}hasValidator(e){return op(this._rawValidators,e)}hasAsyncValidator(e){return op(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Lu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Lu(!0,r))}markAsPending(e={}){this.status=Ea;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Da(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(i=>{i.disable(le(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cp(this.value,r)),this._events.next(new Da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xu,this._forEachChild(r=>{r.enable(le(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xu||this.status===Ea)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cp(this.value,t)),this._events.next(new Da(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ea,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=VP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Da(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ea)?Ea:this._anyControlsHaveStatus(ip)?ip:xu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Lu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Vu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=MW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=NW(this._rawAsyncValidators)}},lp=class extends up{constructor(e,t,r){super($P(t),HP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kW(this,!0,e),Object.keys(e).forEach(r=>{PW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vE=new z("",{providedIn:"root",factory:()=>_E}),_E="always";function xW(n,e){return[...e.path,n]}function qP(n,e,t=_E){zP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),FW(n,e),VW(n,e),LW(n,e),OW(n,e)}function MP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function OW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function zP(n,e){let t=SW(n);e.validator!==null?n.setValidators(SP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=AW(n);e.asyncValidator!==null?n.setAsyncValidators(SP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();MP(e._rawValidators,i),MP(e._rawAsyncValidators,i)}function FW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&WP(n,e)})}function LW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&WP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function WP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function jW(n,e){n==null,zP(n,e)}function UW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function BW(n){return Object.getPrototypeOf(n.constructor)===dp}function $W(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===_n?t=o:BW(o)?r=o:i=o}),i||r||t||null}var qW={provide:ba,useExisting:zn(()=>On)},Fu=Promise.resolve(),On=(()=>{class n extends ba{callSetDisabledState;get submitted(){return fn(this.submittedReactive)}_submitted=Ns(()=>this.submittedReactive());submittedReactive=As(!1);_directives=new Set;form;ngSubmit=new tt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new lp({},mE(t),yE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),qP(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fu.then(()=>{let r=this._findContainer(t.path),i=new lp({});jW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),$W(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new fE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new pE(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(j(gE,10),j(FP,10),j(vE,8))};static \u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vi([qW]),hn]})}return n})();function NP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zW=class extends up{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super($P(t),HP(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(PP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var WW={provide:ju,useExisting:zn(()=>Fn)},kP=Promise.resolve(),Fn=(()=>{class n extends ju{_changeDetectorRef;callSetDisabledState;control=new zW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new tt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HW(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),UW(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){kP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&_i(r);kP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?xW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(j(ba,9),j(gE,10),j(FP,10),j(Uu,10),j(Or,8),j(vE,8))};static \u0275dir=xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vi([WW]),hn,Pr]})}return n})();var fr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),GW={provide:Uu,useExisting:zn(()=>ei),multi:!0},ei=(()=>{class n extends dp{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ve("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[vi([GW]),hn]})}return n})();var KW={provide:Uu,useExisting:zn(()=>fp),multi:!0};function GP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function QW(n){return n.split(":")[0]}var fp=(()=>{class n extends dp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=GP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=QW(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ve("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vi([KW]),hn]})}return n})(),KP=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(GP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Wt),j(Gn),j(fp,9))};static \u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),YW={provide:Uu,useExisting:zn(()=>QP),multi:!0};function xP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function ZW(n){return n.split(":")[0]}var QP=(()=>{class n extends dp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=ZW(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ve("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vi([YW]),hn]})}return n})(),YP=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(xP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(Wt),j(Gn),j(QP,9))};static \u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var JW=(()=>{class n{_validator=CP;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):CP,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,features:[Pr]})}return n})();var XW={provide:gE,useExisting:zn(()=>Ln),multi:!0};var Ln=(()=>{class n extends JW{required;inputName="required";normalizeInput=_i;createValidator=t=>DW;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kr(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&_c("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[vi([XW]),hn]})}return n})();var e3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=Ar({})}return n})();var pr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vE,useValue:t.callSetDisabledState??_E}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=Ar({imports:[e3]})}return n})();var pp=class n{constructor(e,t){this.firestore=e;this.auth=t}lift="";weight=null;units="lbs";date="";addPR(){return v(this,null,function*(){let e=this.auth.currentUser;if(!e)return;let t={lift:this.lift,weight:this.weight,units:this.units,date:this.date},r=ku(this.firestore,`users/${e.uid}/prs`);yield ep(r,t),alert("PR added successfully!")})}static \u0275fac=function(t){return new(t||n)(j(xn),j($r))};static \u0275cmp=qe({type:n,selectors:[["app-add-pr"]],decls:21,vars:4,consts:[[3,"submit"],["name","lift","required","",3,"ngModelChange","ngModel"],["type","number","name","weight","required","",3,"ngModelChange","ngModel"],["name","units",3,"ngModelChange","ngModel"],["value","lbs"],["value","kg"],["type","date","name","date","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(t,r){t&1&&(M(0,"h2"),F(1,"Add Personal Record"),R(),M(2,"form",0),Ve("submit",function(o){return r.addPR(),o.preventDefault()}),M(3,"label"),F(4,"Lift:"),R(),M(5,"input",1),Ue("ngModelChange",function(o){return ze(r.lift,o)||(r.lift=o),o}),R(),M(6,"label"),F(7,"Weight:"),R(),M(8,"input",2),Ue("ngModelChange",function(o){return ze(r.weight,o)||(r.weight=o),o}),R(),M(9,"label"),F(10,"Units:"),R(),M(11,"select",3),Ue("ngModelChange",function(o){return ze(r.units,o)||(r.units=o),o}),M(12,"option",4),F(13,"lbs"),R(),M(14,"option",5),F(15,"kg"),R()(),M(16,"label"),F(17,"Date:"),R(),M(18,"input",6),Ue("ngModelChange",function(o){return ze(r.date,o)||(r.date=o),o}),R(),M(19,"button",7),F(20,"Add PR"),R()()),t&2&&(q(5),je("ngModel",r.lift),q(3),je("ngModel",r.weight),q(3),je("ngModel",r.units),q(7),je("ngModel",r.date))},dependencies:[We,pr,fr,KP,YP,_n,ei,fp,dr,hr,Ln,Fn,On],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px}"]})};function t3(n,e){if(n&1&&(M(0,"div",13),F(1),R()),n&2){let t=Ze(2);q(),Cn(" ",t.successMessage," ")}}function n3(n,e){if(n&1&&(M(0,"li",17)(1,"strong"),F(2),R(),F(3),R()),n&2){let t=e.$implicit;q(2),Cn("",t.lift,":"),q(),Cy(" ",t.weight," ",t.units," on ",t.date," ")}}function r3(n,e){if(n&1&&(M(0,"div",14)(1,"h3"),F(2,"Personal Records"),R(),M(3,"ul",15),Re(4,n3,4,4,"li",16),R()()),n&2){let t=Ze(2);q(4),we("ngForOf",t.prs)}}function i3(n,e){if(n&1){let t=Kn();M(0,"div",3)(1,"h2",4),F(2,"Edit Profile"),R(),M(3,"form",5),Ve("ngSubmit",function(){Fe(t);let i=Ze();return Le(i.saveProfile())}),M(4,"div",6)(5,"label"),F(6,"Name"),R(),M(7,"input",7),Ue("ngModelChange",function(i){Fe(t);let o=Ze();return ze(o.user.name,i)||(o.user.name=i),Le(i)}),R()(),M(8,"div",6)(9,"label"),F(10,"Email (cannot change)"),R(),ke(11,"input",8),R(),M(12,"div",6)(13,"label"),F(14,"Age"),R(),M(15,"input",9),Ue("ngModelChange",function(i){Fe(t);let o=Ze();return ze(o.user.age,i)||(o.user.age=i),Le(i)}),R()(),M(16,"button",10),F(17,"Save Changes"),R()(),Re(18,t3,2,1,"div",11)(19,r3,5,1,"div",12),R()}if(n&2){let t=Ze();q(7),je("ngModel",t.user.name),q(4),we("value",t.user.email),q(4),je("ngModel",t.user.age),q(3),we("ngIf",t.successMessage),q(),we("ngIf",t.prs.length>0)}}function o3(n,e){n&1&&(M(0,"div",18),F(1,"No user is currently logged in."),R())}var gp=class n{constructor(e){this.authService=e}user=null;prs=[];successMessage="";ngOnInit(){this.user=this.authService.currentUser,this.user?.prs&&(this.prs=this.user.prs)}saveProfile(){this.successMessage="Profile updated (local only in this version)"}static \u0275fac=function(t){return new(t||n)(j(Pt))};static \u0275cmp=qe({type:n,selectors:[["app-profile"]],decls:5,vars:3,consts:[["noUser",""],["class","container mt-5",4,"ngIf","ngIfElse"],[1,"btn","btn-success","mt-4",3,"routerLink"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"mb-3"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","disabled","",1,"form-control",3,"value"],["type","number","name","age",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-success mt-3",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"alert","alert-success","mt-3"],[1,"mt-5"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"alert","alert-warning","mt-5"]],template:function(t,r){if(t&1&&(Re(0,i3,20,5,"div",1)(1,o3,2,0,"ng-template",null,0,Ld),M(3,"button",2),F(4,"Add PR"),R()),t&2){let i=Fd(2);we("ngIf",r.user)("ngIfElse",i),q(3),we("routerLink","/add-pr")}},dependencies:[We,Qn,Vt,pr,fr,_n,ei,dr,hr,Ln,Fn,On,Fr,tr],encapsulation:2})};var mp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-exercise-demos"]],decls:28,vars:0,consts:[[1,"container","mt-5"],[1,"mb-4"],[1,"mb-5"],[1,"ratio","ratio-16x9"],["src",Ms`https://www.youtube.com/embed/vthMCtgVtFw`,"title","Bench Press Demo","allowfullscreen",""],["src",Ms`https://www.youtube.com/embed/YaXPRqUwItQ`,"title","Squat Demo","allowfullscreen",""],["src",Ms`https://www.youtube.com/embed/op9kVnSso6Q`,"title","Deadlift Demo","allowfullscreen",""],["src",Ms`https://www.youtube.com/embed/ykJmrZ5v0Oo`,"title","Bicep Curl Demo","allowfullscreen",""],["src",Ms`https://www.youtube.com/embed/2-LAMcpzODU`,"title","Tricep Pushdown Demo","allowfullscreen",""]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h2",1),F(2,"Exercise Demos"),R(),M(3,"div",2)(4,"h4"),F(5,"Bench Press"),R(),M(6,"div",3),ke(7,"iframe",4),R()(),M(8,"div",2)(9,"h4"),F(10,"Squat"),R(),M(11,"div",3),ke(12,"iframe",5),R()(),M(13,"div",2)(14,"h4"),F(15,"Deadlift"),R(),M(16,"div",3),ke(17,"iframe",6),R()(),M(18,"div",2)(19,"h4"),F(20,"Bicep Curls"),R(),M(21,"div",3),ke(22,"iframe",7),R()(),M(23,"div",2)(24,"h4"),F(25,"Tricep Pushdowns"),R(),M(26,"div",3),ke(27,"iframe",8),R()()())},dependencies:[We],encapsulation:2})};var qi=class n{constructor(e,t){this.firestore=e;this.authService=t}getWorkouts(){let e=this.authService.currentUser?.uid;if(!e)return Q([]);let t=ku(this.firestore,"workouts"),r=DP(t,TP("userId","==",e));return wP(r,{idField:"id"})}addWorkout(e){let t=ku(this.firestore,"workouts");return ep(t,e)}deleteWorkout(e){let t=tp(this.firestore,`workouts/${e}`);return IP(t)}static \u0275fac=function(t){return new(t||n)(G(xn),G(Pt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function s3(n,e){if(n&1&&(M(0,"tr")(1,"td"),F(2),R(),M(3,"td"),F(4),R(),M(5,"td"),F(6),R(),M(7,"td"),F(8),R()()),n&2){let t=e.$implicit;q(2),yt(t.exercise),q(2),yt(t.sets),q(2),yt(t.reps),q(2),yt(t.weight)}}function a3(n,e){if(n&1&&(M(0,"table",13)(1,"thead")(2,"tr")(3,"th"),F(4,"Exercise"),R(),M(5,"th"),F(6,"Sets"),R(),M(7,"th"),F(8,"Reps"),R(),M(9,"th"),F(10,"Weight (lbs)"),R()()(),M(11,"tbody"),Re(12,s3,9,4,"tr",14),R()()),n&2){let t=Ze();q(12),we("ngForOf",t.todayWorkouts)}}function c3(n,e){n&1&&(M(0,"p",15),F(1,"No workouts logged for today."),R())}var yp=class n{constructor(e,t){this.workoutService=e;this.authService=t}workout={};workouts=[];ngOnInit(){let e=localStorage.getItem("workouts");this.workouts=e?JSON.parse(e):[]}logWorkout(){if(!this.workout.exercise||!this.workout.sets||!this.workout.reps||!this.workout.weight)return;let e=this.authService.currentUser?.uid;if(!e){console.error("No user is logged in \u2014 cannot save workout");return}let r={date:new Date().toISOString().split("T")[0],notes:"",userId:e,exercises:[{name:this.workout.exercise,sets:Array(this.workout.sets).fill(null).map(()=>({reps:this.workout.reps,weight:this.workout.weight}))}]};this.workoutService.addWorkout(r).then(()=>console.log("Workout saved to Firestore")).catch(i=>console.error("Error saving workout:",i)),this.workout={}}get todayWorkouts(){let e=new Date().toISOString().split("T")[0];return this.workouts.filter(t=>t.date===e)}static \u0275fac=function(t){return new(t||n)(j(qi),j(Pt))};static \u0275cmp=qe({type:n,selectors:[["app-log-workout"]],decls:29,vars:6,consts:[["logForm","ngForm"],["noLogs",""],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"mb-3"],["type","text","name","exercise","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","sets","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","reps","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","weight","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],[1,"my-4"],["class","table table-striped mt-3",4,"ngIf","ngIfElse"],[1,"table","table-striped","mt-3"],[4,"ngFor","ngForOf"],[1,"text-muted"]],template:function(t,r){if(t&1){let i=Kn();M(0,"div",2)(1,"h2",3),F(2,"Log Workout"),R(),M(3,"form",4,0),Ve("ngSubmit",function(){return Fe(i),Le(r.logWorkout())}),M(5,"div",5)(6,"label"),F(7,"Exercise"),R(),M(8,"input",6),Ue("ngModelChange",function(s){return Fe(i),ze(r.workout.exercise,s)||(r.workout.exercise=s),Le(s)}),R()(),M(9,"div",5)(10,"label"),F(11,"Sets"),R(),M(12,"input",7),Ue("ngModelChange",function(s){return Fe(i),ze(r.workout.sets,s)||(r.workout.sets=s),Le(s)}),R()(),M(13,"div",5)(14,"label"),F(15,"Reps"),R(),M(16,"input",8),Ue("ngModelChange",function(s){return Fe(i),ze(r.workout.reps,s)||(r.workout.reps=s),Le(s)}),R()(),M(17,"div",5)(18,"label"),F(19,"Weight (lbs)"),R(),M(20,"input",9),Ue("ngModelChange",function(s){return Fe(i),ze(r.workout.weight,s)||(r.workout.weight=s),Le(s)}),R()(),M(21,"button",10),F(22,"Add Workout"),R()(),ke(23,"hr",11),M(24,"h4"),F(25,"Today's Workouts"),R(),Re(26,a3,13,1,"table",12)(27,c3,2,0,"ng-template",null,1,Ld),R()}if(t&2){let i=Fd(28);q(8),je("ngModel",r.workout.exercise),q(4),je("ngModel",r.workout.sets),q(4),je("ngModel",r.workout.reps),q(4),je("ngModel",r.workout.weight),q(6),we("ngIf",r.todayWorkouts.length>0)("ngIfElse",i)}},dependencies:[We,Qn,Vt,pr,fr,_n,ei,dr,hr,Ln,Fn,On],encapsulation:2})};function u3(n,e){if(n&1&&(M(0,"p")(1,"em"),F(2),R()()),n&2){let t=Ze().$implicit;q(2),yt(t.notes)}}function l3(n,e){if(n&1&&(M(0,"span"),F(1),R()),n&2){let t=Ze().$implicit;q(),Cn(" @ RPE ",t.rpe,"")}}function d3(n,e){if(n&1&&(M(0,"li"),F(1),Re(2,l3,2,1,"span",0),R()),n&2){let t=e.$implicit;q(),wc(" ",t.reps," reps \xD7 ",t.weight," lbs "),q(),we("ngIf",t.rpe)}}function h3(n,e){if(n&1&&(M(0,"li")(1,"strong"),F(2),R(),M(3,"ul"),Re(4,d3,3,3,"li",1),R()()),n&2){let t=e.$implicit;q(2),yt(t.name),q(2),we("ngForOf",t.sets)}}function f3(n,e){if(n&1){let t=Kn();M(0,"div")(1,"h3"),F(2),R(),Re(3,u3,3,1,"p",0),M(4,"ul"),Re(5,h3,5,2,"li",1),R(),M(6,"button",2),Ve("click",function(){let i=Fe(t).$implicit,o=Ze(2);return Le(o.deleteWorkout(i.id))}),F(7,"Delete"),R(),ke(8,"hr"),R()}if(n&2){let t=e.$implicit;q(2),yt(t.date),q(),we("ngIf",t.notes),q(2),we("ngForOf",t.exercises)}}function p3(n,e){if(n&1&&(M(0,"div"),Re(1,f3,9,3,"div",1),R()),n&2){let t=e.ngIf;q(),we("ngForOf",t)}}var vp=class n{constructor(e){this.workoutService=e;this.workouts$=this.workoutService.getWorkouts()}workouts$;ngOnInit(){}deleteWorkout(e){if(!e){console.warn("Tried to delete a workout with no ID");return}this.workoutService.deleteWorkout(e).catch(t=>console.error("Delete failed:",t))}static \u0275fac=function(t){return new(t||n)(j(qi))};static \u0275cmp=qe({type:n,selectors:[["app-track-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(Re(0,p3,2,1,"div",0),R0(1,"async")),t&2&&we("ngIf",M0(1,1,r.workouts$))},dependencies:[We,Qn,Vt,Fy],encapsulation:2})};function g3(n,e){if(n&1&&(M(0,"p")(1,"em"),F(2),R()()),n&2){let t=Ze().$implicit;q(2),yt(t.notes)}}function m3(n,e){if(n&1&&(M(0,"span"),F(1),R()),n&2){let t=Ze().$implicit;q(),Cn(" @ RPE ",t.rpe,"")}}function y3(n,e){if(n&1&&(M(0,"li"),F(1),Re(2,m3,2,1,"span",1),R()),n&2){let t=e.$implicit;q(),wc(" ",t.reps," reps \xD7 ",t.weight," lbs "),q(),we("ngIf",t.rpe)}}function v3(n,e){if(n&1&&(M(0,"li")(1,"strong"),F(2),R(),M(3,"ul"),Re(4,y3,3,3,"li",0),R()()),n&2){let t=e.$implicit;q(2),yt(t.name),q(2),we("ngForOf",t.sets)}}function _3(n,e){if(n&1&&(M(0,"div")(1,"h3"),F(2),R(),Re(3,g3,3,1,"p",1),M(4,"ul"),Re(5,v3,5,2,"li",0),R(),ke(6,"hr"),R()),n&2){let t=e.$implicit;q(2),yt(t.date),q(),we("ngIf",t.notes),q(2),we("ngForOf",t.exercises)}}var _p=class n{constructor(e){this.workoutService=e}workouts=[];groupedWorkouts={};ngOnInit(){this.workoutService.getWorkouts().subscribe(e=>{this.workouts=e,this.groupWorkoutsByDate()})}groupWorkoutsByDate(){this.groupedWorkouts={};for(let e of this.workouts)this.groupedWorkouts[e.date]||(this.groupedWorkouts[e.date]=[]),this.groupedWorkouts[e.date].push(e)}getSortedDates(){return Object.keys(this.groupedWorkouts).sort((e,t)=>t.localeCompare(e))}static \u0275fac=function(t){return new(t||n)(j(qi))};static \u0275cmp=qe({type:n,selectors:[["app-workout-history"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,r){t&1&&Re(0,_3,7,3,"div",0),t&2&&we("ngForOf",r.workouts)},dependencies:[We,Qn,Vt],encapsulation:2})};function w3(n,e){if(n&1&&(M(0,"div",11),F(1),R()),n&2){let t=Ze();q(),Cn(" ",t.loginError," ")}}var $u=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loginError="";onSubmit(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/dashboard"])}).catch(()=>{this.loginError="Invalid email or password"})}static \u0275fac=function(t){return new(t||n)(j(Pt),j(vt))};static \u0275cmp=qe({type:n,selectors:[["app-login"]],decls:27,vars:3,consts:[["loginForm","ngForm"],[1,"container","mt-5",2,"max-width","400px"],[1,"mb-4"],[3,"ngSubmit"],[1,"mb-3"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-center","mt-3"],["routerLink","/create-account",1,"btn","btn-outline-secondary"],[1,"alert","alert-danger","mt-3"]],template:function(t,r){if(t&1){let i=Kn();M(0,"div",1)(1,"h1"),F(2,"Welcome to GainsGuide!"),R(),ke(3,"br"),M(4,"p"),F(5,"This is a simple user friendly app to track your workouts and progression. To access all Gains Guide has to offer Log in or create account bellow."),R(),ke(6,"br"),M(7,"h2",2),F(8,"Login"),R(),M(9,"form",3,0),Ve("ngSubmit",function(){return Fe(i),Le(r.onSubmit())}),M(11,"div",4)(12,"label"),F(13,"Email"),R(),M(14,"input",5),Ue("ngModelChange",function(s){return Fe(i),ze(r.email,s)||(r.email=s),Le(s)}),R()(),M(15,"div",4)(16,"label"),F(17,"Password"),R(),M(18,"input",6),Ue("ngModelChange",function(s){return Fe(i),ze(r.password,s)||(r.password=s),Le(s)}),R()(),M(19,"button",7),F(20,"Login"),R()(),Re(21,w3,2,1,"div",8),M(22,"div",9)(23,"p"),F(24,"Don't have an account?"),R(),M(25,"a",10),F(26,"Create Account"),R()()()}t&2&&(q(14),je("ngModel",r.email),q(4),je("ngModel",r.password),q(3),we("ngIf",r.loginError))},dependencies:[We,Vt,pr,fr,_n,dr,hr,Ln,Fn,On,Fr,tr],encapsulation:2})};function I3(n,e){if(n&1&&(M(0,"div",13),F(1),R()),n&2){let t=Ze();q(),yt(t.errorMessage)}}function E3(n,e){if(n&1&&(M(0,"div",14),F(1),R()),n&2){let t=Ze();q(),yt(t.successMessage)}}var wp=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";confirmPassword="";name="";age=null;errorMessage="";successMessage="";onSubmit(){if(this.password!==this.confirmPassword){this.errorMessage="Passwords do not match.",this.successMessage="";return}this.authService.register(this.email,this.password).then(()=>{this.successMessage="Account created! Redirecting to login...",this.errorMessage="",setTimeout(()=>{this.router.navigate(["/welcome"])},1500)}).catch(e=>{e.code==="auth/email-already-in-use"?this.errorMessage="That email is already registered.":this.errorMessage="Account creation failed.",this.successMessage=""})}static \u0275fac=function(t){return new(t||n)(j(Pt),j(vt))};static \u0275cmp=qe({type:n,selectors:[["app-create-account"]],decls:29,vars:7,consts:[["form","ngForm"],[1,"container","mt-5",2,"max-width","400px"],[1,"mb-4"],[3,"ngSubmit"],[1,"mb-3"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","age","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success","w-100"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(t,r){if(t&1){let i=Kn();M(0,"div",1)(1,"h2",2),F(2,"Create Account"),R(),M(3,"form",3,0),Ve("ngSubmit",function(){return Fe(i),Le(r.onSubmit())}),M(5,"div",4)(6,"label"),F(7,"Name"),R(),M(8,"input",5),Ue("ngModelChange",function(s){return Fe(i),ze(r.name,s)||(r.name=s),Le(s)}),R()(),M(9,"div",4)(10,"label"),F(11,"Age"),R(),M(12,"input",6),Ue("ngModelChange",function(s){return Fe(i),ze(r.age,s)||(r.age=s),Le(s)}),R()(),M(13,"div",4)(14,"label"),F(15,"Email"),R(),M(16,"input",7),Ue("ngModelChange",function(s){return Fe(i),ze(r.email,s)||(r.email=s),Le(s)}),R()(),M(17,"div",4)(18,"label"),F(19,"Password"),R(),M(20,"input",8),Ue("ngModelChange",function(s){return Fe(i),ze(r.password,s)||(r.password=s),Le(s)}),R()(),M(21,"div",4)(22,"label"),F(23,"Confirm Password"),R(),M(24,"input",9),Ue("ngModelChange",function(s){return Fe(i),ze(r.confirmPassword,s)||(r.confirmPassword=s),Le(s)}),R()(),M(25,"button",10),F(26,"Create Account"),R()(),Re(27,I3,2,1,"div",11)(28,E3,2,1,"div",12),R()}t&2&&(q(8),je("ngModel",r.name),q(4),je("ngModel",r.age),q(4),je("ngModel",r.email),q(4),je("ngModel",r.password),q(4),je("ngModel",r.confirmPassword),q(3),we("ngIf",r.errorMessage),q(),we("ngIf",r.successMessage))},dependencies:[We,Vt,pr,fr,_n,ei,dr,hr,Ln,Fn,On,Fr],encapsulation:2})};var ZP=[{path:"add-pr",component:pp},{path:"welcome",component:$u},{path:"create-account",component:wp},{path:"login",component:$u},{path:"profile",component:gp},{path:"exercise-demos",component:mp},{path:"log-workout",component:yp},{path:"track-progress",component:vp},{path:"workout-history",component:_p},{path:"",redirectTo:"login",pathMatch:"full"}];var ek="@firebase/installations",bE="0.6.14";var tk=1e4,nk=`w:${bE}`,rk="FIS_v2",D3="https://firebaseinstallations.googleapis.com/v1",b3=60*60*1e3,T3="installations",C3="Installations";var S3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wo=new jt(T3,C3,S3);function ik(n){return n instanceof _t&&n.code.includes("request-failed")}function ok({projectId:n}){return`${D3}/projects/${n}/installations`}function sk(n){return{token:n.token,requestStatus:2,expiresIn:R3(n.expiresIn),creationTime:Date.now()}}function ak(n,e){return v(this,null,function*(){let r=(yield e.json()).error;return Wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function ck({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function A3(n,{refreshToken:e}){let t=ck(n);return t.append("Authorization",M3(e)),t}function uk(n){return v(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function R3(n){return Number(n.replace("s","000"))}function M3(n){return`${rk} ${n}`}function N3(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=ok(n),s=ck(n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:t,authVersion:rk,appId:n.appId,sdkVersion:nk},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield uk(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:sk(p.authToken)}}else throw yield ak("Create Installation",h)})}function lk(n){return new Promise(e=>{setTimeout(e,n)})}function P3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var k3=/^[cdef][\w-]{21}$/,DE="";function x3(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=O3(n);return k3.test(t)?t:DE}catch{return DE}}function O3(n){return P3(n).substr(0,22)}function Ep(n){return`${n.appName}!${n.appId}`}var dk=new Map;function hk(n,e){let t=Ep(n);fk(t,e),F3(t,e)}function fk(n,e){let t=dk.get(n);if(t)for(let r of t)r(e)}function F3(n,e){let t=L3();t&&t.postMessage({key:n,fid:e}),V3()}var zo=null;function L3(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=n=>{fk(n.data.key,n.data.fid)}),zo}function V3(){dk.size===0&&zo&&(zo.close(),zo=null)}var j3="firebase-installations-database",U3=1,Go="firebase-installations-store",IE=null;function TE(){return IE||(IE=kh(j3,U3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Go)}}})),IE}function Ip(n,e){return v(this,null,function*(){let t=Ep(n),i=(yield TE()).transaction(Go,"readwrite"),o=i.objectStore(Go),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&hk(n,e.fid),e})}function pk(n){return v(this,null,function*(){let e=Ep(n),r=(yield TE()).transaction(Go,"readwrite");yield r.objectStore(Go).delete(e),yield r.done})}function Dp(n,e){return v(this,null,function*(){let t=Ep(n),i=(yield TE()).transaction(Go,"readwrite"),o=i.objectStore(Go),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&hk(n,a.fid),a})}function CE(n){return v(this,null,function*(){let e,t=yield Dp(n.appConfig,r=>{let i=B3(r),o=$3(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===DE?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function B3(n){let e=n||{fid:x3(),registrationStatus:0};return gk(e)}function $3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Wo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=H3(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q3(n)}:{installationEntry:e}}function H3(n,e){return v(this,null,function*(){try{let t=yield N3(n,e);return Ip(n.appConfig,t)}catch(t){throw ik(t)&&t.customData.serverCode===409?yield pk(n.appConfig):yield Ip(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function q3(n){return v(this,null,function*(){let e=yield JP(n.appConfig);for(;e.registrationStatus===1;)yield lk(100),e=yield JP(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield CE(n);return r||t}return e})}function JP(n){return Dp(n,e=>{if(!e)throw Wo.create("installation-not-found");return gk(e)})}function gk(n){return z3(n)?{fid:n.fid,registrationStatus:0}:n}function z3(n){return n.registrationStatus===1&&n.registrationTime+tk<Date.now()}function W3(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=G3(n,t),s=A3(n,t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:nk,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield uk(()=>fetch(o,l));if(h.ok){let p=yield h.json();return sk(p)}else throw yield ak("Generate Auth Token",h)})}function G3(n,{fid:e}){return`${ok(n)}/${e}/authTokens:generate`}function SE(n,e=!1){return v(this,null,function*(){let t,r=yield Dp(n.appConfig,o=>{if(!mk(o))throw Wo.create("not-registered");let s=o.authToken;if(!e&&Y3(s))return o;if(s.requestStatus===1)return t=K3(n,e),o;{if(!navigator.onLine)throw Wo.create("app-offline");let a=J3(o);return t=Q3(n,a),a}});return t?yield t:r.authToken})}function K3(n,e){return v(this,null,function*(){let t=yield XP(n.appConfig);for(;t.authToken.requestStatus===1;)yield lk(100),t=yield XP(n.appConfig);let r=t.authToken;return r.requestStatus===0?SE(n,e):r})}function XP(n){return Dp(n,e=>{if(!mk(e))throw Wo.create("not-registered");let t=e.authToken;return X3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Q3(n,e){return v(this,null,function*(){try{let t=yield W3(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ip(n.appConfig,r),t}catch(t){if(ik(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield pk(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ip(n.appConfig,r)}throw t}})}function mk(n){return n!==void 0&&n.registrationStatus===2}function Y3(n){return n.requestStatus===2&&!Z3(n)}function Z3(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+b3}function J3(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function X3(n){return n.requestStatus===1&&n.requestTime+tk<Date.now()}function eG(n){return v(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield CE(e);return r?r.catch(console.error):SE(e).catch(console.error),t.fid})}function tG(n,e=!1){return v(this,null,function*(){let t=n;return yield nG(t),(yield SE(t,e)).token})}function nG(n){return v(this,null,function*(){let{registrationPromise:e}=yield CE(n);e&&(yield e)})}function rG(n){if(!n||!n.options)throw EE("App Configuration");if(!n.name)throw EE("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw EE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function EE(n){return Wo.create("missing-app-config-values",{valueName:n})}var yk="installations",iG="installations-internal",oG=n=>{let e=n.getProvider("app").getImmediate(),t=rG(e),r=yn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sG=n=>{let e=n.getProvider("app").getImmediate(),t=yn(e,yk).getImmediate();return{getId:()=>eG(t),getToken:i=>tG(t,i)}};function aG(){wt(new Xe(yk,oG,"PUBLIC")),wt(new Xe(iG,sG,"PRIVATE"))}aG();Ce(ek,bE);Ce(ek,bE,"esm2017");var bp="analytics",cG="firebase_id",uG="origin",lG=60*1e3,dG="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xE="https://www.googletagmanager.com/gtag/js";var Yt=new mn("@firebase/analytics");var hG={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new jt("analytics","Analytics",hG);function fG(n){if(!n.startsWith(xE)){let e=sn.create("invalid-gtag-resource",{gtagURL:n});return Yt.warn(e.message),""}return n}function bk(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function pG(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function gG(n,e){let t=pG("firebase-js-sdk-policy",{createScriptURL:fG}),r=document.createElement("script"),i=`${xE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function mG(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function yG(n,e,t,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield bk(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Yt.error(a)}n("config",i,o)})}function vG(n,e,t,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield bk(t);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Yt.error(o)}})}function _G(n,e,t,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield vG(n,e,t,a,u)}else if(o==="config"){let[a,u]=s;yield yG(n,e,t,r,a,u)}else if(o==="consent"){let[a,u]=s;n("consent",a,u)}else if(o==="get"){let[a,u,l]=s;n("get",a,u,l)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){Yt.error(a)}})}return i}function wG(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=_G(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function IG(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(xE)&&t.src.includes(n))return t;return null}var EG=30,DG=1e3,RE=class{constructor(e={},t=DG){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},Tk=new RE;function bG(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function TG(n){return v(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:bG(r)},o=dG.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function CG(r){return v(this,arguments,function*(n,e=Tk,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw sn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw sn.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ME;return setTimeout(()=>v(this,null,function*(){u.abort()}),t!==void 0?t:lG),Ck({appId:i,apiKey:o,measurementId:s},a,u,e)})}function Ck(o,s,a){return v(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Tk){var u;let{appId:l,measurementId:h}=n;try{yield SG(r,e)}catch(p){if(h)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield TG(n);return i.deleteThrottleMetadata(l),p}catch(p){let y=p;if(!AG(y)){if(i.deleteThrottleMetadata(l),h)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:l,measurementId:h};throw p}let m=Number((u=y?.customData)===null||u===void 0?void 0:u.httpStatus)===503?Rh(t,i.intervalMillis,EG):Rh(t,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(l,C),Yt.debug(`Calling attemptFetch again in ${m} millis`),Ck(n,C,r,i)}})}function SG(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AG(n){if(!(n instanceof _t)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var ME=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var NE;function RG(n,e,t,r,i){return v(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}var PE;function MG(n){PE=n}function NG(n){NE=n}function PG(){return v(this,null,function*(){if(bo())try{yield Ah()}catch(n){return Yt.warn(sn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Yt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function kG(n,e,t,r,i,o,s){return v(this,null,function*(){var a;let u=CG(n);u.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Yt.error(m)),e.push(u);let l=PG().then(m=>{if(m)return r.getId()}),[h,p]=yield Promise.all([u,l]);IG(o)||gG(o,h.measurementId),PE&&(i("consent","default",PE),MG(void 0)),i("js",new Date);let y=(a=s?.config)!==null&&a!==void 0?a:{};return y[uG]="firebase",y.update=!0,p!=null&&(y[cG]=p),i("config",h.measurementId,y),NE&&(i("set",NE),NG(void 0)),h.measurementId})}var kE=class{constructor(e){this.app=e}_delete(){return delete Hu[this.app.options.appId],Promise.resolve()}},Hu={},vk=[],_k={},AE="dataLayer",xG="gtag",wk,Sk,Ik=!1;function OG(){let n=[];if(Sh()&&n.push("This is a browser extension environment."),aA()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=sn.create("invalid-analytics-context",{errorInfo:e});Yt.warn(t.message)}}function FG(n,e,t){OG();let r=n.options.appId;if(!r)throw sn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(Hu[r]!=null)throw sn.create("already-exists",{id:r});if(!Ik){mG(AE);let{wrappedGtag:o,gtagCore:s}=wG(Hu,vk,_k,AE,xG);Sk=o,wk=s,Ik=!0}return Hu[r]=kG(n,vk,_k,e,wk,AE,t),new kE(n)}function Ak(n=rr()){n=Ge(n);let e=yn(n,bp);return e.isInitialized()?e.getImmediate():LG(n)}function LG(n,e={}){let t=yn(n,bp);if(t.isInitialized()){let i=t.getImmediate();if(gn(e,t.getOptions()))return i;throw sn.create("already-initialized")}return t.initialize({options:e})}function VG(n,e,t,r){n=Ge(n),RG(Sk,Hu[n.app.options.appId],e,t,r).catch(i=>Yt.error(i))}var Ek="@firebase/analytics",Dk="0.10.13";function jG(){wt(new Xe(bp,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return FG(r,i,t)},"PUBLIC")),wt(new Xe("analytics-internal",n,"PRIVATE")),Ce(Ek,Dk),Ce(Ek,Dk,"esm2017");function n(e){try{let t=e.getProvider(bp).getImmediate();return{logEvent:(r,i,o)=>VG(t,r,i,o)}}catch(t){throw sn.create("interop-component-reg-failed",{reason:t})}}}jG();var OE={apiKey:"AIzaSyCtoP1MG_5P9HIXdU4i7CV3EmtEIajAUK4",authDomain:"gainsguide-73109.firebaseapp.com",projectId:"gainsguide-73109",storageBucket:"gainsguide-73109.firebasestorage.app",messagingSenderId:"957542546931",appId:"1:957542546931:web:7f3a4e064573e542ede686",measurementId:"G-9WMYY5V4VX"},UG=Zc(OE),mie=Ak(UG);Gy(rp,{providers:[Ev(ZP),TA(()=>CA(OE)),_P(()=>EP()),NR(()=>kR())]});
